import{m as k,z as C,E as B,G as S,H as p,w as g,a,d as V,e as i,D as f,b as e,i as c,p as h,g as v,v as E,h as j,c as l,k as F,t as u,q as M,F as H,j as y}from"./app-ae183702.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                  */import{_ as L}from"./Pagination-288968dc.js";/* empty css            */const A={components:{Head:k,Link:C,Pagination:L},props:{categories:Object,filters:Object},setup(o){var m,x;const t=B({search:((m=o.filters)==null?void 0:m.search)||"",status:((x=o.filters)==null?void 0:x.status)||""}),n=S.debounce(()=>{p.get(route("categories.index"),t,{preserveState:!0,replace:!0})},300);return g(()=>t.search,n),g(()=>t.status,()=>{p.get(route("categories.index"),t,{preserveState:!0,replace:!0})}),{form:t,clearFilters:()=>{t.search="",t.status="",p.get(route("categories.index"))},getStatusClass:s=>s?"bg-green-100 text-green-800":"bg-red-100 text-red-800",formatDate:s=>{if(!s)return"ไม่ระบุ";try{return new Date(s).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})}catch{return"ไม่ระบุ"}},deleteCategory:s=>{if(s.products_count>0){alert(`Cannot delete "${s.name}" because it has ${s.products_count} products. Please move or delete the products first.`);return}confirm(`คุณแน่ใจหรือไม่ที่จะลบหมวดหมู่ "${s.name}"? การกระทำนี้ไม่สามารถยกเลิกได้`)&&p.delete(route("categories.destroy",s.id))}}}},N={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},z={class:"p-6 bg-white border-b border-gray-200"},I={class:"mb-6 flex justify-between items-center"},O={class:"mb-6 flex flex-col sm:flex-row gap-4"},U={class:"flex-1"},q={class:"w-full sm:w-48"},G={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap"},R={class:"flex items-center"},W={class:"flex-shrink-0 h-12 w-12"},X={key:0,class:"h-12 w-12 rounded-lg overflow-hidden border border-gray-300"},Y=["src","alt"],Z={key:1,class:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center border border-gray-300"},$={class:"ml-4"},ee={class:"text-sm font-medium text-gray-900"},te={class:"px-6 py-4"},se=["title"],oe={class:"px-6 py-4 whitespace-nowrap"},re={class:"text-sm text-gray-900"},ae={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},ne={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},de={class:"flex items-center space-x-2"},ce=["onClick"],ue={key:0,class:"text-center py-12"},me={class:"mt-6"},xe={key:1,class:"mt-6"};function pe(o,t,n,r,b,w){const d=f("Link"),m=f("Pagination"),x=f("AppLayout");return a(),V(x,{title:"จัดการหมวดหมู่สินค้า"},{header:i(()=>[...t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการหมวดหมู่สินค้า ",-1)])]),default:i(()=>[e("div",N,[e("div",P,[e("div",T,[e("div",z,[e("div",I,[t[7]||(t[7]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการหมวดหมู่สินค้า",-1)),c(d,{href:o.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:i(()=>[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" เพิ่มหมวดหมู่ใหม่ ",-1)])]),_:1},8,["href"])]),e("div",O,[e("div",U,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.form.search=s),onInput:t[1]||(t[1]=(...s)=>o.search&&o.search(...s)),type:"text",placeholder:"ค้นหาหมวดหมู่...",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,544),[[E,r.form.search]])]),e("div",q,[v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.form.status=s),onChange:t[3]||(t[3]=(...s)=>o.search&&o.search(...s)),class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...t[8]||(t[8]=[e("option",{value:""},"สถานะทั้งหมด",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1)])],544),[[j,r.form.status]])]),e("button",{onClick:t[4]||(t[4]=(...s)=>r.clearFilters&&r.clearFilters(...s)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Clear ")]),e("div",G,[e("table",J,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ชื่อหมวดหมู่"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"คำอธิบาย"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"จำนวนสินค้า"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"สถานะ"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"วันที่สร้าง"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"การจัดการ")])],-1)),e("tbody",K,[(a(!0),l(H,null,F(n.categories.data,s=>(a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Q,[e("div",R,[e("div",W,[s.image_url?(a(),l("div",X,[e("img",{src:s.image_url,alt:s.name,class:"h-full w-full object-cover"},null,8,Y)])):(a(),l("div",Z,[...t[9]||(t[9]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)])]))]),e("div",$,[e("div",ee,u(s.name),1)])])]),e("td",te,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:s.description},u(s.description||"ไม่มีคำอธิบาย"),9,se)]),e("td",oe,[e("div",re,[e("span",ae,u(s.products_count)+" สินค้า ",1)])]),e("td",ne,[e("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.getStatusClass(s.is_active)])},u(s.is_active?"ใช้งาน":"ไม่ใช้งาน"),3)]),e("td",ie,u(r.formatDate(s.created_at)),1),e("td",le,[e("div",de,[c(d,{href:o.route("categories.show",s.id),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:i(()=>[...t[10]||(t[10]=[h(" ดู ",-1)])]),_:1},8,["href"]),c(d,{href:o.route("categories.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:i(()=>[...t[11]||(t[11]=[h(" แก้ไข ",-1)])]),_:1},8,["href"]),e("button",{onClick:_=>r.deleteCategory(s),class:"text-red-600 hover:text-red-900"}," ลบ ",8,ce)])])]))),128))])])]),n.categories.data.length===0?(a(),l("div",ue,[t[14]||(t[14]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[15]||(t[15]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"ไม่พบหมวดหมู่สินค้า",-1)),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"},"เริ่มต้นด้วยการสร้างหมวดหมู่สินค้าใหม่",-1)),e("div",me,[c(d,{href:o.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:i(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" เพิ่มหมวดหมู่ ",-1)])]),_:1},8,["href"])])])):y("",!0),n.categories.data.length>0?(a(),l("div",xe,[c(m,{links:n.categories.links},null,8,["links"])])):y("",!0)])])])])]),_:1})}const be=D(A,[["render",pe]]);export{be as default};
