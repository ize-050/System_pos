import{r as h,w as f,n as _,o as b,a as u,c as m,b as t,d as E,e as U,f as Z,g as N,v as Y,h as q,t as o,i as D,j as T,k as S,F as I}from"./app-ae183702.js";import{A as z}from"./AppLayout-05834323.js";import{C as v,r as A}from"./chart-e7add24e.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */import"./ApplicationLogo-1b1778d1.js";/* empty css                                                                  */const J={class:"relative"},K=["width","height"],Q={__name:"SalesTrendChart",props:{data:{type:Array,default:()=>[]},width:{type:Number,default:400},height:{type:Number,default:200},analysisType:{type:String,default:"daily"}},setup(p){v.register(...A);const a=p,s=h(null);let r=null;const x=()=>{if(!s.value||!a.data.length)return;const y=s.value.getContext("2d");r&&r.destroy();const n=a.data.map(e=>{const d=new Date(e.date);switch(a.analysisType){case"daily":return d.toLocaleDateString("th-TH",{day:"2-digit",month:"short"});case"weekly":return`‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ${e.week}`;case"monthly":return d.toLocaleDateString("th-TH",{month:"short",year:"numeric"});case"yearly":return d.getFullYear().toString();default:return e.date}}),c=a.data.map(e=>e.total_sales),i=a.data.map(e=>e.gross_profit);r=new v(y,{type:"line",data:{labels:n,datasets:[{label:"‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢",data:c,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0},{label:"‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô",data:i,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡πÑ‡∏£"},legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(e)}}}},interaction:{intersect:!1,mode:"index"}}})};return f(()=>a.data,()=>{_(()=>{x()})},{deep:!0}),f(()=>a.analysisType,()=>{_(()=>{x()})}),b(()=>{_(()=>{x()})}),(y,n)=>(u(),m("div",J,[t("canvas",{ref_key:"chartCanvas",ref:s,width:p.width,height:p.height},null,8,K)]))}},X={class:"relative"},tt=["width","height"],et={__name:"ProductPerformanceChart",props:{topProducts:{type:Array,default:()=>[]},width:{type:Number,default:400},height:{type:Number,default:200}},setup(p){v.register(...A);const a=p,s=h(null);let r=null;const x=()=>{if(!s.value||!a.topProducts.length)return;const y=s.value.getContext("2d");r&&r.destroy();const n=a.topProducts.map(d=>d.name),c=a.topProducts.map(d=>d.total_sold),i=a.topProducts.map(d=>d.total_revenue),e=a.topProducts.map(d=>d.gross_profit);r=new v(y,{type:"bar",data:{labels:n,datasets:[{label:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏≤‡∏¢",data:c,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1,yAxisID:"y"},{label:"‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ",data:i,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1,yAxisID:"y1"},{label:"‡∏Å‡∏≥‡πÑ‡∏£",data:e,backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgb(245, 158, 11)",borderWidth:1,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Top 10)"},legend:{position:"top"}},scales:{x:{ticks:{maxRotation:45,minRotation:45}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏≤‡∏¢"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"‡∏ö‡∏≤‡∏ó (THB)"},grid:{drawOnChartArea:!1},ticks:{callback:function(d){return new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(d)}}}}}})};return f(()=>a.topProducts,()=>{_(()=>{x()})},{deep:!0}),b(()=>{_(()=>{x()})}),(y,n)=>(u(),m("div",X,[t("canvas",{ref_key:"chartCanvas",ref:s,width:p.width,height:p.height},null,8,tt)]))}},st={class:"relative"},at=["width","height"],ot={__name:"CustomerSegmentChart",props:{vipCustomers:{type:Number,default:0},regularCustomers:{type:Number,default:0},newCustomers:{type:Number,default:0},width:{type:Number,default:400},height:{type:Number,default:200}},setup(p){v.register(...A);const a=p,s=h(null);let r=null;const x=()=>{if(!s.value)return;const y=s.value.getContext("2d");r&&r.destroy();const n=a.vipCustomers+a.regularCustomers+a.newCustomers;n!==0&&(r=new v(y,{type:"doughnut",data:{labels:["‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP","‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥","‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà"],datasets:[{data:[a.vipCustomers,a.regularCustomers,a.newCustomers],backgroundColor:["rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)"],borderColor:["rgb(245, 158, 11)","rgb(59, 130, 246)","rgb(16, 185, 129)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"},legend:{position:"bottom"},tooltip:{callbacks:{label:function(c){const i=c.label||"",e=c.parsed,d=(e/n*100).toFixed(1);return`${i}: ${e} ‡∏Ñ‡∏ô (${d}%)`}}}}}}))};return f(()=>[a.vipCustomers,a.regularCustomers,a.newCustomers],()=>{_(()=>{x()})}),b(()=>{_(()=>{x()})}),(y,n)=>(u(),m("div",st,[t("canvas",{ref_key:"chartCanvas",ref:s,width:p.width,height:p.height},null,8,at)]))}},lt={class:"relative"},rt=["width","height"],it={__name:"ProfitAnalysisChart",props:{data:{type:Array,default:()=>[]},analysisType:{type:String,default:"daily"},width:{type:Number,default:400},height:{type:Number,default:200}},setup(p){v.register(...A);const a=p,s=h(null);let r=null;const x=c=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),y=c=>{const i=new Date(c);switch(a.analysisType){case"daily":return i.toLocaleDateString("th-TH",{day:"2-digit",month:"short"});case"weekly":return`‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ${Math.ceil(i.getDate()/7)}`;case"monthly":return i.toLocaleDateString("th-TH",{month:"short",year:"numeric"});case"yearly":return i.getFullYear().toString();default:return c}},n=()=>{if(!s.value||!a.data.length)return;const c=s.value.getContext("2d");r&&r.destroy();const i=a.data.map(g=>y(g.date)),e=a.data.map(g=>g.total_sales||0),d=a.data.map(g=>g.gross_profit||0),w=a.data.map(g=>(g.total_sales||0)-(g.gross_profit||0));r=new v(c,{type:"bar",data:{labels:i,datasets:[{label:"‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢",data:e,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1,order:2},{label:"‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô",data:w,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgb(239, 68, 68)",borderWidth:1,order:3},{label:"‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô",data:d,type:"line",backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgb(16, 185, 129)",borderWidth:3,fill:!1,tension:.4,order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô"},legend:{position:"top"},tooltip:{callbacks:{label:function(g){const k=g.dataset.label||"",C=x(g.parsed.y);return`${k}: ${C}`}}}},scales:{x:{display:!0,title:{display:!0,text:"‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤"}},y:{display:!0,title:{display:!0,text:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)"},ticks:{callback:function(g){return x(g)}}}}}})};return f(()=>[a.data,a.analysisType],()=>{_(()=>{n()})}),b(()=>{_(()=>{n()})}),(c,i)=>(u(),m("div",lt,[t("canvas",{ref_key:"chartCanvas",ref:s,width:p.width,height:p.height},null,8,rt)]))}};const nt={class:"py-12"},dt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},ut={class:"p-6 bg-white border-b border-gray-200"},pt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},gt={class:"flex items-end"},mt=["disabled"],xt={key:0},yt={key:1},ht={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},_t={class:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-lg"},vt={class:"flex items-center justify-between"},ft={class:"text-2xl font-bold"},bt={class:"text-blue-100 text-xs mt-1"},wt={class:"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-lg"},kt={class:"flex items-center justify-between"},Ct={class:"text-2xl font-bold"},Dt={class:"text-green-100 text-xs mt-1"},Tt={class:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-lg shadow-lg"},At={class:"flex items-center justify-between"},$t={class:"text-2xl font-bold"},Nt={class:"text-purple-100 text-xs mt-1"},St={class:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-lg"},It={class:"flex items-center justify-between"},Ft={class:"text-2xl font-bold"},Ht={class:"text-orange-100 text-xs mt-1"},Pt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},jt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Bt={class:"p-6"},Lt={class:"h-64"},Vt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Mt={class:"p-6"},Wt={class:"h-64"},Rt={key:1,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Ot={class:"p-6"},Ut={class:"h-80"},Yt={key:2,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Et={class:"p-6"},Zt={class:"h-80"},qt={class:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6"},zt={class:"bg-white shadow-sm rounded-lg p-6"},Gt={class:"flex justify-between items-center mb-4"},Jt={class:"text-sm text-gray-500"},Kt={class:"overflow-x-auto"},Qt={class:"min-w-full divide-y divide-gray-200"},Xt={class:"bg-white divide-y divide-gray-200"},te={class:"px-4 py-4 whitespace-nowrap"},ee={class:"flex items-center"},se={class:"flex-shrink-0 h-8 w-8"},ae={class:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-indigo-100 text-indigo-800 text-sm font-medium"},oe={class:"ml-3"},le={class:"text-sm font-medium text-gray-900"},re={class:"text-sm text-gray-500"},ie={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},ne={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},de={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},ce={class:"bg-white shadow-sm rounded-lg p-6"},ue={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},ge={class:"bg-white divide-y divide-gray-200"},me={class:"px-4 py-4 whitespace-nowrap"},xe={class:"flex items-center"},ye={class:"ml-3"},he={class:"text-sm font-medium text-gray-900"},_e={class:"text-sm text-gray-500"},ve={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},fe={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},be={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},we={class:"bg-white shadow-sm rounded-lg p-6 mb-6"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Ce={class:"col-span-2"},De={class:"h-64"},Te={class:"space-y-4"},Ae={class:"bg-blue-50 p-4 rounded-lg"},$e={class:"text-2xl font-bold text-blue-900"},Ne={class:"text-xs text-blue-600"},Se={class:"bg-green-50 p-4 rounded-lg"},Ie={class:"text-2xl font-bold text-green-900"},Fe={class:"bg-yellow-50 p-4 rounded-lg"},He={class:"text-2xl font-bold text-yellow-900"},Pe={class:"overflow-x-auto"},je={class:"min-w-full divide-y divide-gray-200"},Be={class:"bg-white divide-y divide-gray-200"},Le={class:"px-4 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},Me={class:"flex-shrink-0 h-8 w-8"},We={class:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-purple-100 text-purple-800 text-sm font-medium"},Re={class:"ml-3"},Oe={class:"text-sm font-medium text-gray-900"},Ue={class:"text-sm text-gray-500"},Ye={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},Ze={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900"},qe={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},ze={key:3,class:"flex justify-center items-center py-12"},Ge={__name:"Analytics",setup(p){const a=h(!1),s=h(null),r=h({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],analysisType:"daily"});h(null),h(null);const x=h(null),y=async()=>{a.value=!0;try{const i=await Z.get("/api/analytics/comprehensive",{params:r.value});s.value=i.data}catch(i){console.error("Error loading analytics:",i),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•")}finally{a.value=!1}},n=i=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(i||0),c=i=>new Date(i).toLocaleDateString("th-TH");return b(()=>{y()}),(i,e)=>(u(),E(z,null,{header:U(()=>[...e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ",-1)])]),default:U(()=>{var d,w,g,k,C,F,H,P,j,B,L,V,M,W,R,O;return[t("div",nt,[t("div",dt,[t("div",ct,[t("div",ut,[t("div",pt,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô",-1)),N(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=l=>r.value.startDate=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Y,r.value.startDate]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î",-1)),N(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=l=>r.value.endDate=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[Y,r.value.endDate]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå",-1)),N(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>r.value.analysisType=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...e[6]||(e[6]=[t("option",{value:"daily"},"‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô",-1),t("option",{value:"weekly"},"‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå",-1),t("option",{value:"monthly"},"‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",-1),t("option",{value:"yearly"},"‡∏£‡∏≤‡∏¢‡∏õ‡∏µ",-1)])],512),[[q,r.value.analysisType]])]),t("div",gt,[t("button",{onClick:y,disabled:a.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},[a.value?(u(),m("span",xt,"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...")):(u(),m("span",yt,"‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå"))],8,mt)])])])]),t("div",ht,[t("div",_t,[t("div",vt,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-blue-100 text-sm"},"‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°",-1)),t("p",ft,o(n(((d=s.value)==null?void 0:d.total_sales)||0)),1),t("p",bt,o((((w=s.value)==null?void 0:w.sales_growth)||0)>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è")+" "+o(Math.abs(((g=s.value)==null?void 0:g.sales_growth)||0))+"% ‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏Å‡πà‡∏≠‡∏ô ",1)]),e[9]||(e[9]=t("div",{class:"text-3xl"},"üí∞",-1))])]),t("div",wt,[t("div",kt,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-green-100 text-sm"},"‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô",-1)),t("p",Ct,o(n(((k=s.value)==null?void 0:k.gross_profit)||0)),1),t("p",Dt," Margin: "+o(((C=s.value)==null?void 0:C.profit_margin)||0)+"% ",1)]),e[11]||(e[11]=t("div",{class:"text-3xl"},"üìà",-1))])]),t("div",Tt,[t("div",At,[t("div",null,[e[12]||(e[12]=t("p",{class:"text-purple-100 text-sm"},"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),t("p",$t,o(((F=s.value)==null?void 0:F.total_customers)||0),1),t("p",Nt," ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà: "+o(((H=s.value)==null?void 0:H.new_customers)||0),1)]),e[13]||(e[13]=t("div",{class:"text-3xl"},"üë•",-1))])]),t("div",St,[t("div",It,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-orange-100 text-sm"},"‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå",-1)),t("p",Ft,o(n(((P=s.value)==null?void 0:P.avg_order_value)||0)),1),t("p",Ht," ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå: "+o(((j=s.value)==null?void 0:j.total_orders)||0),1)]),e[15]||(e[15]=t("div",{class:"text-3xl"},"üõí",-1))])])]),s.value?(u(),m("div",Pt,[t("div",jt,[t("div",Bt,[e[16]||(e[16]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢",-1)),t("div",Lt,[D(Q,{data:s.value.sales_trend||[],"analysis-type":r.value.analysisType,height:256},null,8,["data","analysis-type"])])])]),t("div",Vt,[t("div",Mt,[e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),t("div",Wt,[D(ot,{"vip-customers":s.value.vip_customers||0,"regular-customers":s.value.regular_customers||0,"new-customers":s.value.new_customers||0,height:256},null,8,["vip-customers","regular-customers","new-customers"])])])])])):T("",!0),s.value?(u(),m("div",Rt,[t("div",Ot,[e[18]||(e[18]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),t("div",Ut,[D(et,{"top-products":s.value.top_products||[],height:320},null,8,["top-products"])])])])):T("",!0),s.value?(u(),m("div",Yt,[t("div",Et,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏ô",-1)),t("div",Zt,[D(it,{data:s.value.sales_trend||[],"analysis-type":r.value.analysisType,height:320},null,8,["data","analysis-type"])])])])):T("",!0),t("div",qt,[t("div",zt,[t("div",Gt,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900"},"ü•á ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ Top 10",-1)),t("span",Jt,o(r.value.analysis_type),1)]),t("div",Kt,[t("table",Qt,[e[21]||(e[21]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏Å‡∏≥‡πÑ‡∏£")])],-1)),t("tbody",Xt,[(u(!0),m(I,null,S(((B=s.value)==null?void 0:B.top_products)||[],(l,$)=>(u(),m("tr",{key:l.id},[t("td",te,[t("div",ee,[t("div",se,[t("span",ae,o($+1),1)]),t("div",oe,[t("div",le,o(l.name),1),t("div",re,o(l.category_name),1)])])]),t("td",ie,o(l.total_sold)+" ‡∏ä‡∏¥‡πâ‡∏ô ",1),t("td",ne,o(n(l.total_revenue)),1),t("td",de,o(n(l.gross_profit)),1)]))),128))])])])]),t("div",ce,[e[24]||(e[24]=t("div",{class:"flex justify-between items-center mb-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"üêå ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏ä‡πâ‡∏≤"),t("span",{class:"text-sm text-gray-500"},"‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå")],-1)),t("div",ue,[t("table",pe,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î")])],-1)),t("tbody",ge,[(u(!0),m(I,null,S(((L=s.value)==null?void 0:L.slow_products)||[],l=>(u(),m("tr",{key:l.id},[t("td",me,[t("div",xe,[e[22]||(e[22]=t("div",{class:"flex-shrink-0 h-8 w-8"},[t("span",{class:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-red-100 text-red-800 text-sm font-medium"}," ‚ö†Ô∏è ")],-1)),t("div",ye,[t("div",he,o(l.name),1),t("div",_e,o(l.category_name),1)])])]),t("td",ve,o(l.current_stock)+" ‡∏ä‡∏¥‡πâ‡∏ô ",1),t("td",fe,o(l.total_sold||0)+" ‡∏ä‡∏¥‡πâ‡∏ô ",1),t("td",be,o(l.last_sale_date?c(l.last_sale_date):"‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏Ç‡∏≤‡∏¢"),1)]))),128))])])])])]),t("div",we,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"üë• ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),t("div",ke,[t("div",Ce,[e[25]||(e[25]=t("h4",{class:"text-md font-medium text-gray-700 mb-3"},"‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),t("div",De,[t("canvas",{ref_key:"customerSegmentChart",ref:x},null,512)])]),t("div",Te,[t("div",Ae,[e[26]||(e[26]=t("div",{class:"text-sm text-blue-600 font-medium"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ VIP",-1)),t("div",$e,o(((V=s.value)==null?void 0:V.vip_customers)||0),1),t("div",Ne,"‡∏ã‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ "+o(n(((M=s.value)==null?void 0:M.vip_threshold)||0)),1)]),t("div",Se,[e[27]||(e[27]=t("div",{class:"text-sm text-green-600 font-medium"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥",-1)),t("div",Ie,o(((W=s.value)==null?void 0:W.regular_customers)||0),1),e[28]||(e[28]=t("div",{class:"text-xs text-green-600"},"‡∏ã‡∏∑‡πâ‡∏≠ 3+ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á",-1))]),t("div",Fe,[e[29]||(e[29]=t("div",{class:"text-sm text-yellow-600 font-medium"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà",-1)),t("div",He,o(((R=s.value)==null?void 0:R.new_customers)||0),1),e[30]||(e[30]=t("div",{class:"text-xs text-yellow-600"},"‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å",-1))])])]),t("div",Pe,[e[32]||(e[32]=t("h4",{class:"text-md font-medium text-gray-700 mb-3"},"üèÜ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",-1)),t("table",je,[e[31]||(e[31]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏¢‡∏≠‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏ß‡∏°"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"‡∏ã‡∏∑‡πâ‡∏≠‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î")])],-1)),t("tbody",Be,[(u(!0),m(I,null,S(((O=s.value)==null?void 0:O.top_customers)||[],(l,$)=>(u(),m("tr",{key:l.id},[t("td",Le,[t("div",Ve,[t("div",Me,[t("span",We,o($+1),1)]),t("div",Re,[t("div",Oe,o(l.name),1),t("div",Ue,o(l.phone),1)])])]),t("td",Ye,o(n(l.total_spent)),1),t("td",Ee,o(l.total_orders)+" ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ",1),t("td",Ze,o(n(l.avg_order_value)),1),t("td",qe,o(c(l.last_purchase)),1)]))),128))])])])]),a.value?(u(),m("div",ze,[...e[34]||(e[34]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1),t("span",{class:"ml-3 text-gray-600"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...",-1)])])):T("",!0)])])]}),_:1}))}},as=G(Ge,[["__scopeId","data-v-609ab46e"]]);export{as as default};
