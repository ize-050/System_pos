import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{z as N,a as d,g as r,d as t,t as n,i as b,F as j,h as S,q as D,P as M}from"./app-6a986ce6.js";/* empty css            */const T={class:"text-center mb-4"},F={class:"text-xl font-bold tracking-wide"},q={key:0},C={class:"grid grid-cols-2 gap-2 mb-4 text-sm"},H={class:"text-right"},z={key:0,class:"col-span-2"},B={key:1,class:"col-span-2"},I={key:2,class:"col-span-2"},P={class:"col-span-2"},V={class:"w-full mb-4"},L={class:"py-1 text-center"},O={class:"py-1"},E={class:"text-right py-1"},W={class:"text-right py-1"},$={class:"text-right py-1"},A={class:"border-t border-black pt-2"},G={class:"flex justify-between py-1"},J={key:0,class:"flex justify-between py-1"},K={key:1,class:"flex justify-between py-1"},Q={class:"flex justify-between py-2 text-lg font-bold border-t border-black"},R={class:"flex justify-between py-1"},U={class:"flex justify-between py-1"},X={class:"flex justify-between py-1"},Y={class:"border-t border-black mt-4 pt-2"},Z={class:"text-center"},tt={key:0,class:"text-center mt-4 pt-2 border-t border-dashed"},et={__name:"DotMatrixTemplate",props:{sale:{type:Object,required:!0},settings:{type:Object,required:!0}},setup(e){const g=N(()=>({width:"241mm",minHeight:"279mm",padding:"10mm 15mm",fontFamily:'"Courier New", Courier, monospace',fontSize:"12pt",lineHeight:"1.4",backgroundColor:"white",color:"black"})),x=i=>i?new Date(i).toLocaleString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",c=i=>!i||isNaN(i)?"0.00":new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i),p=i=>({cash:"เงินสด",transfer:"โอนเงิน",credit_card:"บัตรเครดิต",credit:"เครดิต/บัญชีลูกค้า"})[i]||i||"-",k=i=>{if(!i||isNaN(i))return"ศูนย์บาทถ้วน";const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],u=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"],o=Math.floor(i),l=Math.round((i-o)*100);if(o===0)return l>0?`${l} สตางค์`:"ศูนย์บาทถ้วน";let a="",h=o.toString(),m=h.length;for(let y=0;y<m;y++){let f=parseInt(h[y]),v=m-y-1;f!==0&&(v===1&&f===1?a+="สิบ":v===1&&f===2?a+="ยี่สิบ":v===0&&f===1&&m>1?a+="เอ็ด":a+=s[f]+u[v%7],v===6&&m>7&&(a+="ล้าน"))}return a+="บาท",l>0?a+=w(l)+"สตางค์":a+="ถ้วน",a},w=i=>{const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"];if(i<10)return s[i];const u=Math.floor(i/10),o=i%10;let l="";return u===1?l="สิบ":u===2?l="ยี่สิบ":l=s[u]+"สิบ",o===1?l+="เอ็ด":o>0&&(l+=s[o]),l};return(i,s)=>{var u,o,l;return d(),r("div",{class:"dot-matrix-receipt",style:M(g.value)},[t("div",T,[t("div",F,n(e.settings.shop_name||"ร้านค้า"),1),t("div",null,n(e.settings.shop_address||""),1),t("div",null,"โทร: "+n(e.settings.shop_phone||"-"),1),e.settings.tax_id?(d(),r("div",q,"เลขประจำตัวผู้เสียภาษี: "+n(e.settings.tax_id),1)):b("",!0)]),s[8]||(s[8]=t("div",{class:"text-center text-lg font-bold border-y border-black py-2 mb-4"}," ใบเสร็จรับเงิน / ใบกำกับภาษีอย่างย่อ ",-1)),t("div",C,[t("div",null,"เลขที่: "+n(e.sale.sale_number),1),t("div",H,"วันที่: "+n(x(e.sale.created_at)),1),e.sale.customer?(d(),r("div",z,"ลูกค้า: "+n(e.sale.customer.name||e.sale.customer.company_name),1)):b("",!0),(u=e.sale.customer)!=null&&u.phone?(d(),r("div",B,"โทร: "+n(e.sale.customer.phone),1)):b("",!0),(o=e.sale.customer)!=null&&o.address?(d(),r("div",I,"ที่อยู่: "+n(e.sale.customer.address),1)):b("",!0),t("div",P,"พนักงาน: "+n(((l=e.sale.cashier)==null?void 0:l.name)||"-"),1)]),t("table",V,[s[0]||(s[0]=t("thead",null,[t("tr",{class:"border-y border-black"},[t("th",{class:"text-left py-1 w-8"},"ลำดับ"),t("th",{class:"text-left py-1"},"รายการสินค้า"),t("th",{class:"text-right py-1 w-16"},"จำนวน"),t("th",{class:"text-right py-1 w-24"},"ราคา/หน่วย"),t("th",{class:"text-right py-1 w-24"},"จำนวนเงิน")])],-1)),t("tbody",null,[(d(!0),r(j,null,S(e.sale.sale_items,(a,h)=>{var m;return d(),r("tr",{key:a.id,class:"border-b border-dashed"},[t("td",L,n(h+1),1),t("td",O,n(((m=a.product)==null?void 0:m.name)||"-"),1),t("td",E,n(a.quantity),1),t("td",W,n(c(a.unit_price)),1),t("td",$,n(c(a.total_price)),1)])}),128))])]),t("div",A,[t("div",G,[s[1]||(s[1]=t("span",null,"รวมเป็นเงิน:",-1)),t("span",null,n(c(e.sale.subtotal))+" บาท",1)]),e.sale.discount_amount>0?(d(),r("div",J,[s[2]||(s[2]=t("span",null,"ส่วนลด:",-1)),t("span",null,n(c(e.sale.discount_amount))+" บาท",1)])):b("",!0),e.settings.show_vat&&e.sale.vat_amount?(d(),r("div",K,[s[3]||(s[3]=t("span",null,"ภาษีมูลค่าเพิ่ม 7%:",-1)),t("span",null,n(c(e.sale.vat_amount))+" บาท",1)])):b("",!0),t("div",Q,[s[4]||(s[4]=t("span",null,"ยอดสุทธิ:",-1)),t("span",null,n(c(e.sale.total_amount))+" บาท",1)]),t("div",R,[t("span",null,"ชำระโดย: "+n(p(e.sale.payment_method)),1),s[5]||(s[5]=t("span",null,null,-1))]),t("div",U,[s[6]||(s[6]=t("span",null,"รับเงิน:",-1)),t("span",null,n(c(e.sale.paid_amount))+" บาท",1)]),t("div",X,[s[7]||(s[7]=t("span",null,"เงินทอน:",-1)),t("span",null,n(c(e.sale.change_amount))+" บาท",1)])]),t("div",Y,[t("div",Z," ("+n(k(e.sale.total_amount))+") ",1)]),e.settings.show_notes&&e.settings.receipt_notes?(d(),r("div",tt,n(e.settings.receipt_notes),1)):b("",!0),s[9]||(s[9]=D('<div class="grid grid-cols-2 gap-8 mt-8 pt-4" data-v-be6f9800><div class="text-center" data-v-be6f9800><div class="border-b border-black mb-2 h-12" data-v-be6f9800></div><div data-v-be6f9800>ผู้รับเงิน</div></div><div class="text-center" data-v-be6f9800><div class="border-b border-black mb-2 h-12" data-v-be6f9800></div><div data-v-be6f9800>ผู้จ่ายเงิน</div></div></div><div class="text-center mt-6 text-sm" data-v-be6f9800> *** ขอบคุณที่ใช้บริการ *** </div>',2))],4)}}},at=_(et,[["__scopeId","data-v-be6f9800"]]);export{at as default};
