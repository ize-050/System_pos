import{A as I,B as O,C as U,D as $,a as n,c as z,w as i,E as h,d as t,j as l,m as c,k as u,x,e as N,v as P,f as q,g as m,h as G,t as d,n as J,F as K,i as L}from"./app-52dfa1a6.js";import{A as Q}from"./AppLayout-39f8b0fe.js";import{_ as R}from"./Pagination-1d07a3db.js";/* empty css            */import"./ApplicationLogo-8547e154.js";import"./_plugin-vue_export-helper-c27b6911.js";const W={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 bg-white border-b border-gray-200"},tt={class:"mb-6 flex justify-between items-center"},et={class:"flex gap-2"},st={class:"mb-6 flex flex-col sm:flex-row gap-4"},ot={class:"flex-1"},rt={class:"w-full sm:w-48"},at={class:"overflow-x-auto"},it={class:"min-w-full divide-y divide-gray-200"},nt={class:"bg-white divide-y divide-gray-200"},lt={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900"},ct={class:"px-6 py-4"},ut=["title"],xt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm text-gray-900"},pt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},ht={class:"px-6 py-4 whitespace-nowrap"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},gt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},yt={class:"flex items-center space-x-2"},bt=["onClick"],vt={key:0,class:"text-center py-12"},wt={class:"mt-6"},kt={key:1,class:"mt-6"},At={__name:"Index",props:{categories:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(a,{expose:T}){var _,B;const f=a;I();const r=O({search:((_=f.filters)==null?void 0:_.search)||"",status:((B=f.filters)==null?void 0:B.status)||""}),g=()=>{h.get(route("categories.index"),{...r},{preserveState:!0,replace:!0})},y=U.debounce(g,300);$(()=>r.search,()=>{y()}),$(()=>r.status,()=>{g()});const b=()=>{r.search="",r.status="",h.get(route("categories.index"))},v=s=>s?"bg-green-100 text-green-800":"bg-red-100 text-red-800",w=s=>{if(!s)return"ไม่ระบุ";try{return new Date(s).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})}catch{return"ไม่ระบุ"}},p=()=>{y()},k=s=>{if(s.products_count>0){alert(`ไม่สามารถลบ "${s.name}" ได้ เนื่องจากมีสินค้า ${s.products_count} รายการ กรุณาย้ายหรือลบสินค้าก่อน`);return}confirm(`คุณแน่ใจหรือไม่ที่จะลบหมวดหมู่ "${s.name}"? การกระทำนี้ไม่สามารถยกเลิกได้`)&&h.delete(route("categories.destroy",s.id))};return T({form:r,clearFilters:b,getStatusClass:v,formatDate:w,search:p,deleteCategory:k}),(s,e)=>(n(),z(Q,{title:"จัดการหมวดหมู่สินค้า"},{header:i(()=>[...e[2]||(e[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการหมวดหมู่สินค้า ",-1)])]),default:i(()=>{var C,E,S,V,j,A,F,M,D,H;return[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการหมวดหมู่สินค้า",-1)),t("div",et,[l(u(x),{href:s.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:i(()=>[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" เพิ่มหมวดหมู่ใหม่ ",-1)])]),_:1},8,["href"])])]),t("div",st,[t("div",ot,[N(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.search=o),onInput:p,type:"text",placeholder:"ค้นหาหมวดหมู่...",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,544),[[P,r.search]])]),t("div",rt,[N(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.status=o),onChange:p,class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...e[5]||(e[5]=[t("option",{value:""},"สถานะทั้งหมด",-1),t("option",{value:"active"},"ใช้งาน",-1),t("option",{value:"inactive"},"ไม่ใช้งาน",-1)])],544),[[q,r.status]])]),t("button",{onClick:b,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Clear ")]),t("div",at,[t("table",it,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ชื่อหมวดหมู่"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"คำอธิบาย"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"จำนวนสินค้า"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"สถานะ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"วันที่สร้าง"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"การจัดการ")])],-1)),t("tbody",nt,[(n(!0),m(K,null,G(((C=a.categories)==null?void 0:C.data)||[],o=>(n(),m("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",lt,[t("div",dt,d(o.name),1)]),t("td",ct,[t("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:o.description},d(o.description||"ไม่มีคำอธิบาย"),9,ut)]),t("td",xt,[t("div",mt,[t("span",pt,d(o.products_count)+" สินค้า ",1)])]),t("td",ht,[t("span",{class:J(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v(o.is_active)])},d(o.is_active?"ใช้งาน":"ไม่ใช้งาน"),3)]),t("td",ft,d(w(o.created_at)),1),t("td",gt,[t("div",yt,[l(u(x),{href:s.route("categories.show",o.id),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:i(()=>[...e[6]||(e[6]=[c(" ดู ",-1)])]),_:1},8,["href"]),l(u(x),{href:s.route("categories.edit",o.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:i(()=>[...e[7]||(e[7]=[c(" แก้ไข ",-1)])]),_:1},8,["href"]),t("button",{onClick:_t=>k(o),class:"text-red-600 hover:text-red-900"}," ลบ ",8,bt)])])]))),128))])])]),(((E=a.categories)==null?void 0:E.data)||[]).length===0?(n(),m("div",vt,[e[10]||(e[10]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),e[11]||(e[11]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"ไม่พบหมวดหมู่สินค้า",-1)),e[12]||(e[12]=t("p",{class:"mt-1 text-sm text-gray-500"},"เริ่มต้นด้วยการสร้างหมวดหมู่สินค้าใหม่",-1)),t("div",wt,[l(u(x),{href:s.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:i(()=>[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" เพิ่มหมวดหมู่ ",-1)])]),_:1},8,["href"])])])):L("",!0),(((S=a.categories)==null?void 0:S.data)||[]).length>0?(n(),m("div",kt,[l(R,{links:((V=a.categories)==null?void 0:V.links)||[],from:((A=(j=a.categories)==null?void 0:j.meta)==null?void 0:A.from)||0,to:((M=(F=a.categories)==null?void 0:F.meta)==null?void 0:M.to)||0,total:((H=(D=a.categories)==null?void 0:D.meta)==null?void 0:H.total)||0},null,8,["links","from","to","total"])])):L("",!0)])])])])]}),_:1}))}};export{At as default};
