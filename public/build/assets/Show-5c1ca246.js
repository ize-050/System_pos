import{r as p,a as r,c as D,w as u,d as t,g as l,t as i,i as d,n as B,j,m as y,k as f,x as b,h as H,F as R,e as z,v as A,G as F}from"./app-6a986ce6.js";import{A as M}from"./AppLayout-c0397362.js";/* empty css            */import"./ApplicationLogo-88d45659.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"py-12"},G={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},I={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded-lg"},O={key:1,class:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg"},U={class:"bg-white rounded-lg shadow-sm p-6"},J={class:"flex justify-between items-start mb-6"},K={class:"text-2xl font-bold text-gray-900"},P={class:"flex gap-2"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 p-4 bg-gray-50 rounded-lg"},W={class:"font-medium"},X={class:"font-medium"},Y={class:"font-medium"},Z={class:"font-medium"},tt={class:"font-medium"},et={class:"font-medium"},st={key:0,class:"md:col-span-2"},it={class:"font-medium"},ot={class:"mb-8"},rt={class:"border rounded-lg overflow-hidden"},nt={class:"min-w-full divide-y divide-gray-200"},lt={class:"bg-white divide-y divide-gray-200"},dt={class:"px-4 py-3 text-center text-gray-500"},at={class:"px-4 py-3"},ut={class:"font-medium"},ct={class:"text-sm text-gray-500"},mt={class:"px-4 py-3 text-center"},gt={class:"px-4 py-3 text-right"},xt={class:"px-4 py-3 text-right font-medium"},pt={class:"bg-gray-50"},yt={class:"px-4 py-3 text-right font-bold text-lg text-indigo-600"},ft={key:0,class:"mb-8 p-4 bg-yellow-50 rounded-lg"},bt={key:1,class:"flex justify-end gap-4 pt-6 border-t"},ht=["disabled"],vt={key:2,class:"mt-6 p-4 bg-red-50 rounded-lg"},qt={key:0,class:"text-sm text-red-500 mt-1"},kt={class:"text-sm text-gray-500 mt-1"},wt={key:3,class:"mt-6 p-4 bg-green-50 rounded-lg"},_t={class:"text-sm text-gray-500 mt-1"},Ct={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Dt={class:"bg-white rounded-lg p-6 w-full max-w-md"},jt={class:"mb-4"},Ft={class:"flex justify-end gap-2"},Nt=["disabled"],Bt={__name:"Show",props:{requisition:Object},setup(s){const h=s,a=p(!1),c=p(!1),m=p(""),N=o=>o?new Date(o).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}):"-",g=o=>o?new Date(o).toLocaleString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",x=o=>o?new Intl.NumberFormat("th-TH",{minimumFractionDigits:2}).format(o):"0.00",S=o=>({draft:"‡∏£‡πà‡∏≤‡∏á",completed:"‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô",cancelled:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"})[o]||o,T=o=>({draft:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",$=()=>{confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤? ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£")&&(a.value=!0,F.post(route("stock-requisitions.complete",h.requisition.id),{},{onFinish:()=>{a.value=!1}}))},L=()=>{a.value=!0,F.post(route("stock-requisitions.cancel",h.requisition.id),{reason:m.value},{onFinish:()=>{a.value=!1,c.value=!1}})};return(o,e)=>(r(),D(M,{title:"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"},{header:u(()=>[...e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)])]),default:u(()=>{var v,q,k;return[t("div",E,[t("div",G,[(v=o.$page.props.flash)!=null&&v.success?(r(),l("div",I,i(o.$page.props.flash.success),1)):d("",!0),(q=o.$page.props.flash)!=null&&q.error?(r(),l("div",O,i(o.$page.props.flash.error),1)):d("",!0),t("div",U,[t("div",J,[t("div",null,[t("h1",K,i(s.requisition.requisition_number),1),t("span",{class:B([T(s.requisition.status),"inline-block mt-2 px-3 py-1 text-sm font-medium rounded-full"])},i(S(s.requisition.status)),3)]),t("div",P,[j(f(b),{href:o.route("stock-requisitions.index"),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"},{default:u(()=>[...e[4]||(e[4]=[y(" ‚Üê ‡∏Å‡∏•‡∏±‡∏ö ",-1)])]),_:1},8,["href"]),j(f(b),{href:o.route("stock-requisitions.print",s.requisition.id),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},{default:u(()=>[...e[5]||(e[5]=[y(" üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå ",-1)])]),_:1},8,["href"]),s.requisition.status==="draft"?(r(),D(f(b),{key:0,href:o.route("stock-requisitions.edit",s.requisition.id),class:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600"},{default:u(()=>[...e[6]||(e[6]=[y(" ‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ",-1)])]),_:1},8,["href"])):d("",!0)])]),t("div",Q,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500"},"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏¥‡∏Å",-1)),t("p",W,i(N(s.requisition.requisition_date)),1)]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-500"},"‡∏ú‡∏π‡πâ‡πÄ‡∏ö‡∏¥‡∏Å",-1)),t("p",X,i(s.requisition.requester_name),1)]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-500"},"‡πÅ‡∏ú‡∏ô‡∏Å",-1)),t("p",Y,i(s.requisition.department||"-"),1)]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-500"},"‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£/‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô",-1)),t("p",Z,i(s.requisition.project_name||"-"),1)]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-500"},"‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á",-1)),t("p",tt,i(((k=s.requisition.created_by)==null?void 0:k.name)||"-"),1)]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-500"},"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á",-1)),t("p",et,i(g(s.requisition.created_at)),1)]),s.requisition.reason?(r(),l("div",st,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-500"},"‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å",-1)),t("p",it,i(s.requisition.reason),1)])):d("",!0)]),t("div",ot,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold mb-4"},"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),t("div",rt,[t("table",nt,[e[15]||(e[15]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"‡∏•‡∏≥‡∏î‡∏±‡∏ö"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"),t("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏∏‡∏ô"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"‡∏£‡∏ß‡∏°")])],-1)),t("tbody",lt,[(r(!0),l(R,null,H(s.requisition.items,(n,V)=>{var w,_,C;return r(),l("tr",{key:n.id},[t("td",dt,i(V+1),1),t("td",at,[t("div",ut,i((w=n.product)==null?void 0:w.name),1),t("div",ct,i((_=n.product)==null?void 0:_.sku),1)]),t("td",mt,i(n.quantity)+" "+i(((C=n.product)==null?void 0:C.unit)||""),1),t("td",gt," ‡∏ø"+i(x(n.cost_price)),1),t("td",xt," ‡∏ø"+i(x(n.total_cost)),1)])}),128))]),t("tfoot",pt,[t("tr",null,[e[14]||(e[14]=t("td",{colspan:"4",class:"px-4 py-3 text-right font-semibold"},"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:",-1)),t("td",yt," ‡∏ø"+i(x(s.requisition.total_cost_amount)),1)])])])])]),s.requisition.notes?(r(),l("div",ft,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-500 mb-1"},"‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏",-1)),t("p",null,i(s.requisition.notes),1)])):d("",!0),s.requisition.status==="draft"?(r(),l("div",bt,[t("button",{onClick:e[0]||(e[0]=n=>c.value=!0),class:"px-6 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50"}," ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å "),t("button",{onClick:$,disabled:a.value,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50"},i(a.value?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£...":"‚úì ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å)"),9,ht)])):d("",!0),s.requisition.status==="cancelled"?(r(),l("div",vt,[e[18]||(e[18]=t("p",{class:"text-sm text-red-600 font-medium"},"‡πÉ‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å",-1)),s.requisition.cancelled_reason?(r(),l("p",qt,"‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: "+i(s.requisition.cancelled_reason),1)):d("",!0),t("p",kt,"‡πÄ‡∏°‡∏∑‡πà‡∏≠: "+i(g(s.requisition.cancelled_at)),1)])):d("",!0),s.requisition.status==="completed"?(r(),l("div",wt,[e[19]||(e[19]=t("p",{class:"text-sm text-green-600 font-medium"},"‚úì ‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)",-1)),t("p",_t,"‡πÄ‡∏°‡∏∑‡πà‡∏≠: "+i(g(s.requisition.completed_at)),1)])):d("",!0)])])]),c.value?(r(),l("div",Ct,[t("div",Dt,[e[21]||(e[21]=t("h3",{class:"text-lg font-bold mb-4"},"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),t("div",jt,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å",-1)),z(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>m.value=n),rows:"3",class:"w-full rounded-lg border-gray-300",placeholder:"‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)"},null,512),[[A,m.value]])]),t("div",Ft,[t("button",{onClick:e[2]||(e[2]=n=>c.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," ‡∏õ‡∏¥‡∏î "),t("button",{onClick:L,disabled:a.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50"}," ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å ",8,Nt)])])])):d("",!0)]}),_:1}))}};export{Bt as default};
