import{r as u,z as R,E as fe,o as Ve,a as l,c as qe,w as ge,d as e,t as r,g as n,e as b,v as B,i as d,h as M,n as y,F as T,s as ee,f as xe,N as Ae,m as te,O as be,G as ye}from"./app-6a986ce6.js";import{A as Be}from"./AppLayout-c0397362.js";import{_ as Se}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */import"./ApplicationLogo-88d45659.js";const $e={class:"flex items-center justify-between"},Ee={class:"hidden md:flex items-center space-x-4"},Pe={class:"text-sm text-gray-600"},He={class:"text-sm text-gray-600"},Re={class:"py-4 lg:py-6"},Le={class:"max-w-full mx-auto px-4 sm:px-6 lg:px-8"},Oe={class:"lg:hidden"},Xe={class:"bg-white rounded-lg shadow-md p-4 mb-4"},Ne={class:"flex items-center justify-between mb-4"},Ue={key:0,class:"mb-4"},Fe={class:"flex flex-wrap gap-2"},Ie=["onClick"],De={class:"space-y-3 mb-20"},Ke=["onClick"],Ge={class:"flex items-center space-x-3"},We={class:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center"},Qe=["src","alt"],Je={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ye={class:"flex-1"},Ze={class:"font-medium text-gray-900"},et={class:"text-sm text-gray-500"},tt={class:"flex items-center justify-between mt-1"},st={class:"text-lg font-bold text-primary-600"},ot={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50"},lt={class:"flex items-center justify-between mb-2"},nt={class:"text-sm text-gray-600"},rt={class:"text-lg font-bold text-primary-600"},at=["disabled"],it={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},dt={class:"bg-white w-full max-h-[80vh] rounded-t-xl overflow-hidden"},ut={class:"p-4 border-b border-gray-200"},ct={class:"flex items-center justify-between"},vt={class:"p-4 overflow-y-auto max-h-96"},pt={key:0,class:"text-center py-8 text-gray-500"},mt={key:1,class:"space-y-3"},ft={class:"flex-1"},gt={class:"font-medium"},xt={class:"text-sm text-gray-500"},bt={class:"flex items-center space-x-2"},yt=["onClick"],ht={class:"w-8 text-center"},_t=["onClick"],wt=["onClick"],kt={class:"p-4 border-t border-gray-200"},Ct={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},jt={class:"flex items-center justify-between"},Mt={class:"relative inline-flex items-center cursor-pointer"},Tt={class:"space-y-2 mb-4"},zt={class:"flex justify-between text-sm"},Vt={key:0,class:"flex justify-between text-sm"},qt={class:"flex justify-between font-bold text-lg border-t pt-2"},At={class:"text-primary-600"},Bt={class:"flex space-x-2"},St={class:"hidden lg:grid lg:grid-cols-12 lg:gap-4",style:{height:"calc(100vh - 140px)"}},$t={class:"lg:col-span-5"},Et={class:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col h-full"},Pt={class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 shadow-md flex-shrink-0"},Ht={class:"flex items-center justify-between text-white"},Rt={class:"bg-white text-indigo-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-sm"},Lt={class:"overflow-y-auto bg-white flex-shrink-0",style:{height:"280px"}},Ot={key:0,class:"flex flex-col items-center justify-center h-full py-8"},Xt={key:1,class:"p-3 space-y-2"},Nt={class:"flex justify-between items-start"},Ut={class:"flex-1 pr-2"},Ft={class:"font-bold text-gray-900 text-sm leading-tight mb-1"},It={class:"text-xs text-gray-600"},Dt={class:"text-right"},Kt={class:"text-lg font-bold text-gray-900"},Gt={class:"border-t bg-white px-4 py-3 flex-shrink-0"},Wt=["value"],Qt={class:"border-t bg-white px-4 py-2.5 flex-shrink-0"},Jt={class:"flex items-center justify-between"},Yt={class:"relative inline-flex items-center cursor-pointer"},Zt={class:"border-t bg-gray-50 px-4 py-3 flex-shrink-0"},es={class:"space-y-1.5 mb-2"},ts={class:"flex justify-between text-sm text-gray-700"},ss={class:"font-semibold"},os={key:0,class:"flex justify-between text-sm text-green-600"},ls={class:"font-semibold"},ns={key:1,class:"flex justify-between text-sm text-blue-600"},rs={class:"font-semibold"},as={class:"flex justify-between text-2xl font-bold border-t-2 border-gray-300 pt-2"},is={class:"text-indigo-600"},ds={class:"border-t bg-white px-4 py-3 flex-shrink-0"},us={class:"grid grid-cols-2 gap-2 mb-2"},cs={key:0},vs={key:0,class:"mt-1.5 text-sm"},ps={class:"font-bold text-green-600 ml-1"},ms={key:1,class:"text-xs text-gray-600 mt-2"},fs={class:"border-t bg-gray-50 p-3 flex-shrink-0"},gs={class:"grid grid-cols-2 gap-2"},xs=["disabled"],bs=["disabled"],ys={class:"lg:col-span-7 overflow-y-auto h-full"},hs={class:"bg-white rounded-lg shadow-md p-6 mb-6"},_s={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ws={class:"relative"},ks={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"},Cs=["onClick"],js={class:"font-medium"},Ms={class:"text-sm text-gray-500"},Ts={class:"text-sm text-gray-500"},zs={key:0,class:"p-3 bg-blue-50 rounded-lg border border-blue-200"},Vs={class:"flex items-center justify-between"},qs={class:"flex-1"},As={class:"font-medium text-blue-900"},Bs={class:"text-sm text-blue-700"},Ss={class:"text-sm text-blue-700"},$s={class:"text-xs text-blue-600 mt-1"},Es={key:1,class:"p-3 bg-gray-50 rounded-lg border border-gray-200"},Ps={class:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-md p-4 mb-6"},Hs={class:"flex items-center space-x-4"},Rs={class:"flex-1"},Ls={key:0,class:"mt-2 text-white text-sm"},Os={class:"bg-white rounded-lg shadow-md p-6 mb-6"},Xs={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},Ns={class:"flex-1 lg:mr-4"},Us={class:"relative"},Fs={class:"flex space-x-2"},Is=["value"],Ds={class:"bg-white rounded-lg shadow-md p-6"},Ks={key:0,class:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded"},Gs={class:"flex items-center justify-between"},Ws={class:"flex items-center space-x-2 text-sm"},Qs={class:"text-gray-700"},Js={key:0},Ys={key:1},Zs={key:2},eo={key:1,class:"flex flex-col items-center justify-center py-16"},to={key:2,class:"flex flex-col items-center justify-center py-16"},so={key:3,class:"grid grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},oo=["onClick"],lo={class:"absolute top-2 right-2 z-10"},no={class:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden relative"},ro=["src","alt"],ao={key:1,class:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},io={class:"space-y-1"},uo={class:"font-semibold text-gray-900 text-sm leading-tight line-clamp-2 min-h-[2.5rem]"},co={class:"text-xs text-gray-500 flex items-center"},vo={class:"pt-2"},po={class:"text-xl font-bold text-primary-600"},mo={key:4,class:"text-center py-8"},fo={key:5,class:"text-center py-8 text-gray-500"},go={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},xo={class:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto"},bo={class:"p-6"},yo={class:"mb-6 p-4 bg-gray-50 rounded-lg"},ho={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},_o={class:"flex items-center justify-between"},wo={class:"relative inline-flex items-center cursor-pointer"},ko={class:"space-y-1 text-sm"},Co={class:"flex justify-between"},jo={class:"flex justify-between"},Mo={key:0,class:"flex justify-between text-green-600"},To={key:1,class:"flex justify-between"},zo={class:"flex justify-between font-bold text-lg border-t pt-1"},Vo={class:"text-primary-600"},qo={class:"mb-6"},Ao={class:"relative"},Bo={class:"flex items-center"},So={key:0,class:"flex items-center"},$o={class:"flex-shrink-0 mr-3"},Eo={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},Po={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},Ho={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},Ro={class:"font-medium text-sm text-gray-900"},Lo={key:1,class:"text-gray-500"},Oo={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Xo={class:"flex items-center"},No={class:"flex-shrink-0 ml-auto"},Uo={key:0,class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},Fo={key:0,class:"px-4 py-3 text-center text-gray-500"},Io=["onClick"],Do={class:"flex items-center"},Ko={class:"flex-shrink-0 mr-3"},Go={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},Wo={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},Qo={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},Jo={class:"flex-1"},Yo={class:"font-medium text-sm text-gray-900"},Zo={class:"text-xs text-gray-500"},el={class:"flex-shrink-0 ml-2"},tl={key:0,class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},sl={key:0,class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg"},ol={class:"flex items-center justify-between"},ll={class:"flex items-center"},nl={class:"text-sm font-medium text-green-800"},rl={class:"text-sm font-bold text-green-600"},al={class:"mb-6"},il={class:"space-y-2"},dl={class:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50"},ul=["disabled"],cl={key:0,class:"text-sm text-red-600 ml-6"},vl={key:0,class:"mb-6"},pl={key:0,class:"mt-2 p-2 bg-green-50 rounded text-sm"},ml={class:"text-green-800"},fl={key:1,class:"mt-2 p-2 bg-red-50 rounded text-sm"},gl={key:1,class:"mb-6"},xl={key:0,class:"mt-2 max-h-40 overflow-y-auto border rounded-lg"},bl=["onClick"],yl={class:"font-medium"},hl={class:"text-sm text-gray-500"},_l={class:"text-sm text-gray-500"},wl={key:1,class:"mt-2 p-3 bg-blue-50 rounded-lg"},kl={class:"font-medium"},Cl={class:"text-sm text-gray-600"},jl={key:0,class:"text-sm text-red-600 mt-1"},Ml={class:"flex space-x-3"},Tl=["disabled"],zl={__name:"POS",setup(Vl){const x=u(""),h=u(""),I=u(!1),X=u(!1),D=u(!1),S=u(!1),se=u(""),K=u(null),q=u(""),z=u(""),j=u([]),N=u([]),v=u([]),oe=u([]),$=u(null),m=u(null),_=u(0),E=u(!1),U=R(()=>v.value.length===0?[]:oe.value.filter(o=>o.applicable_products&&o.applicable_products.length>0?v.value.some(t=>o.applicable_products.includes(t.product_id)):!0)),g=u("cash"),k=u(0),L=u(""),P=u([]),A=u(""),V=u([]),f=u(null),C=u(!0),he=R(()=>{const o=[{id:"",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",count:j.value.length,active:h.value===""}];return N.value.forEach(t=>{const a=j.value.filter(i=>i.category_id===t.id).length;o.push({id:t.id,label:t.name,count:a,active:h.value==t.id})}),o}),H=R(()=>v.value.reduce((o,t)=>{const a=Number(t.price)*Number(t.quantity);return o+a},0)),F=R(()=>C.value?(H.value-_.value)*.07:0),w=R(()=>{const o=H.value-_.value,t=C.value?o*.07:0;return o+t}),le=R(()=>v.value.length===0?!1:g.value==="cash"?k.value>=w.value:g.value==="customer_account"?f.value&&f.value.available_credit>=w.value:!0),c=o=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),ne=o=>o<=0?"bg-red-100 text-red-800":o<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",O=async()=>{var o;if(x.value.length<2&&!h.value){await G();return}S.value=!0;try{const t=new URLSearchParams;x.value&&t.append("query",x.value),h.value&&t.append("category",h.value);const a=await fetch(`/pos/search-products?${t.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=await a.json();j.value=Array.isArray(i)?i:i.products||[]}catch(t){console.error("Error searching products:",t),j.value=[]}finally{S.value=!1}},_e=async()=>{var o;if(L.value.length<2){P.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(L.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();P.value=a.customers||[]}catch(t){console.error("Error searching customers:",t),P.value=[]}},we=async()=>{var o;if(A.value.length<2){V.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(A.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();V.value=a.customers||[]}catch(t){console.error("Error searching main customers:",t),V.value=[]}},ke=o=>{f.value=o,A.value=o.name||o.company_name,V.value=[]},Ce=()=>{f.value=null,A.value="",V.value=[]},re=async()=>{var o;if(!q.value.trim()){z.value="âŒ à¸à¸£à¸¸à¸“à¸²à¸ªà¹à¸à¸™à¸«à¸£à¸·à¸­à¸à¸£à¸­à¸ Barcode";return}z.value="";try{const t=await fetch(`/pos/barcode/${encodeURIComponent(q.value.trim())}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){t.status===404?z.value=`âŒ à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸¡à¸µ Barcode: ${q.value}`:z.value="âŒ à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²";return}const a=await t.json();a&&a.id?(W(a),q.value="",z.value="",K.value&&K.value.focus()):z.value=`âŒ à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸¡à¸µ Barcode: ${q.value}`}catch(t){console.error("Error searching by barcode:",t),z.value="âŒ à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²"}},G=async()=>{var o;S.value=!0;try{const t=await fetch("/pos/search-products",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();j.value=Array.isArray(a)?a:a.products||[]}catch(t){console.error("Error loading products:",t),j.value=[]}finally{S.value=!1}},je=async()=>{try{const o=await fetch("/api/categories",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const t=await o.json();N.value=t.data||[]}catch(o){console.error("Error loading categories:",o)}},W=o=>{if(o.current_stock<=0)return;const t=v.value.find(a=>a.product_id===o.id);t?t.quantity<o.current_stock&&t.quantity++:v.value.push({id:Date.now()+Math.random(),product_id:o.id,product_name:o.name,price:o.selling_price,quantity:1,max_stock:o.current_stock})},ae=({id:o,change:t})=>{const a=v.value.find(s=>s.id===o);if(!a)return;const i=a.quantity+t;i<=0?ie(o):i<=a.max_stock&&(a.quantity=i)},ie=o=>{const t=v.value.findIndex(a=>a.id===o);t>-1&&v.value.splice(t,1)},Q=()=>{v.value=[],m.value=null,_.value=0,f.value=null,A.value="",V.value=[]},Me=o=>{h.value=o.id,O()},Te=()=>{x.value="",h.value="",O()},J=()=>{D.value=!1,g.value="cash",k.value=0,L.value="",P.value=[]},de=async()=>{var o,t;try{const a={items:v.value.map(p=>({product_id:p.product_id,quantity:p.quantity,unit_price:p.price})),payment_method:g.value,total_amount:w.value,tax_amount:F.value,customer_id:((o=f.value)==null?void 0:o.id)||null,received_amount:g.value==="cash"?k.value:w.value,promotion_id:((t=m.value)==null?void 0:t.id)||null,discount_amount:_.value},i=await fetch("/pos/process-sale",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(a)});if(!i.ok){const p=await i.json();alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: "+(p.message||p.error||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸‚à¸²à¸¢à¹„à¸”à¹‰"));return}const s=await i.json();s.success?(Q(),J(),confirm(`à¸à¸²à¸£à¸‚à¸²à¸¢à¸ªà¸³à¹€à¸£à¹‡à¸ˆ! à¸«à¸¡à¸²à¸¢à¹€à¸¥à¸‚à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ: ${s.sale_number}

à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸žà¸´à¸¡à¸žà¹Œà¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?`)?(window.open(`/receipts/${s.sale.id}/print`,"_blank","width=800,height=600"),setTimeout(()=>{ye.visit("/sales")},1e3)):ye.visit("/sales")):alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”: "+(s.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸‚à¸²à¸¢à¹„à¸”à¹‰"))}catch(a){console.error("Error processing payment:",a),alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™")}},ue=()=>{const o=new Date;se.value=o.toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},ce=async()=>{var o;try{const t=v.value.map(i=>i.product_id),a=await fetch("/pos/promotions/active",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({product_ids:t,cart_total:H.value})});if(a.ok){const i=await a.json();oe.value=i}else console.error("Failed to load promotions:",a.status)}catch(t){console.error("Error loading promotions:",t)}},Y=o=>{if(!o)return"à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¸žà¸´à¹€à¸¨à¸©";let t=o.name||"à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™";const a=o.type||o.discount_type,i=o.value||o.discount_value;if(a==="percentage"&&i)t+=` (à¸¥à¸” ${i}%)`;else if(a==="fixed_amount"&&i)t+=` (à¸¥à¸” à¸¿${i})`;else if(a==="buy_x_get_y"){const s=o.min_quantity||1,p=o.free_quantity||1;t+=` (à¸‹à¸·à¹‰à¸­ ${s} à¹à¸–à¸¡ ${p})`}return t},ve=o=>{switch(o){case"percentage":return"text-blue-600";case"fixed_amount":return"text-green-600";case"buy_x_get_y":return"text-purple-600";default:return"text-orange-600"}},ze=()=>{if($.value){const o=U.value.find(t=>t.id===$.value);o&&pe(o)}else me()},pe=async o=>{var t;if(o)try{const a=await fetch("/pos/promotions/apply",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({promotion_id:o.id,cart_items:v.value.map(i=>({product_id:i.product_id,quantity:i.quantity,price:i.price}))})});if(a.ok){const i=await a.json();m.value=o,_.value=i.discount||0}else{const i=await a.json();let s="à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¸™à¸µà¹‰à¹„à¸”à¹‰";i.error?s+=": "+i.error:i.message&&(s+=": "+i.message),alert(s),$.value=null,m.value=null,_.value=0}}catch(a){console.error("Error applying promotion:",a),alert("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ"),$.value=null,m.value=null,_.value=0}},me=()=>{m.value=null,_.value=0};return fe(x,()=>{x.value.length===0&&G()}),fe(v,()=>{ce()},{deep:!0}),Ve(async()=>{ue(),setInterval(ue,1e3),await Promise.all([G(),je(),ce()])}),(o,t)=>(l(),qe(Be,{title:"à¸£à¸°à¸šà¸šà¸‚à¸²à¸¢à¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™ (POS)"},{header:ge(()=>[e("div",$e,[t[22]||(t[22]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," à¸£à¸°à¸šà¸šà¸‚à¸²à¸¢à¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™ (POS) ",-1)),e("div",Ee,[e("span",Pe,"à¸žà¸™à¸±à¸à¸‡à¸²à¸™: "+r(o.$page.props.auth.user.name),1),e("span",He,r(se.value),1)])])]),default:ge(()=>{var a,i;return[e("div",Re,[e("div",Le,[e("div",Oe,[e("div",Xe,[e("div",Ne,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold"},"à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)),e("button",{onClick:t[0]||(t[0]=s=>I.value=!I.value),class:"btn btn-primary btn-sm"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),I.value?(l(),n("div",Ue,[b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),onInput:O,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²..."},null,544),[[B,x.value]])])):d("",!0),e("div",Fe,[(l(!0),n(T,null,M(he.value,s=>(l(),n("button",{key:s.id,onClick:p=>Me(s),class:y(["px-3 py-1 rounded-full text-sm font-medium transition-colors",s.active?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},r(s.label)+" ("+r(s.count)+") ",11,Ie))),128))])]),e("div",De,[(l(!0),n(T,null,M(j.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:p=>W(s)},[e("div",Ge,[e("div",We,[s.image?(l(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover rounded-lg"},null,8,Qe)):(l(),n("svg",Je,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])]))]),e("div",Ye,[e("h4",Ze,r(s.name),1),e("p",et,r(s.category),1),e("div",tt,[e("span",st,"à¸¿"+r(c(s.selling_price)),1),e("span",{class:y([ne(s.current_stock),"px-2 py-1 rounded-full text-xs font-medium"])}," à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­ "+r(s.current_stock),3)])])])],8,Ke))),128))]),e("div",ot,[e("div",lt,[e("span",nt,r(v.value.length)+" à¸£à¸²à¸¢à¸à¸²à¸£",1),e("span",rt,"à¸¿"+r(c(w.value)),1)]),e("button",{onClick:t[2]||(t[2]=s=>X.value=!0),disabled:v.value.length===0,class:"w-full btn btn-primary"}," à¸”à¸¹à¸•à¸°à¸à¸£à¹‰à¸²à¸ªà¸´à¸™à¸„à¹‰à¸² ",8,at)]),X.value?(l(),n("div",it,[e("div",dt,[e("div",ut,[e("div",ct,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold"},"à¸•à¸°à¸à¸£à¹‰à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)),e("button",{onClick:t[3]||(t[3]=s=>X.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[26]||(t[26]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",vt,[v.value.length===0?(l(),n("div",pt," à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸™à¸•à¸°à¸à¸£à¹‰à¸² ")):(l(),n("div",mt,[(l(!0),n(T,null,M(v.value,s=>(l(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",ft,[e("h4",gt,r(s.product_name),1),e("p",xt,r(s.quantity)+" à¸«à¸™à¹ˆà¸§à¸¢ x à¸¿"+r(c(s.price))+" / à¸«à¸™à¹ˆà¸§à¸¢",1)]),e("div",bt,[e("button",{onClick:p=>ae({id:s.id,change:-1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[28]||(t[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,yt),e("span",ht,r(s.quantity),1),e("button",{onClick:p=>ae({id:s.id,change:1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,_t),e("button",{onClick:p=>ie(s.id),class:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center"},[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wt)])]))),128))]))]),e("div",kt,[e("div",Ct,[e("div",jt,[t[32]||(t[32]=e("div",null,[e("h4",{class:"font-medium text-sm text-blue-800"},"à¸ à¸²à¸©à¸µà¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¹€à¸žà¸´à¹ˆà¸¡ (VAT)"),e("p",{class:"text-xs text-blue-600"},"à¹€à¸¥à¸·à¸­à¸à¹ƒà¸Šà¹‰à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ VAT 7%")],-1)),e("label",Mt,[b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>C.value=s),type:"checkbox",class:"sr-only peer","aria-label":"à¹€à¸›à¸´à¸”/à¸›à¸´à¸” VAT"},null,512),[[ee,C.value]]),t[31]||(t[31]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",Tt,[e("div",zt,[t[33]||(t[33]=e("span",null,"à¸¢à¸­à¸”à¸£à¸§à¸¡:",-1)),e("span",null,"à¸¿"+r(c(H.value)),1)]),C.value?(l(),n("div",Vt,[t[34]||(t[34]=e("span",null,"à¸ à¸²à¸©à¸µ (7%):",-1)),e("span",null,"à¸¿"+r(c(F.value)),1)])):d("",!0),e("div",qt,[t[35]||(t[35]=e("span",null,"à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸ªà¸´à¹‰à¸™:",-1)),e("span",At,"à¸¿"+r(c(w.value)),1)])]),e("div",Bt,[e("button",{onClick:Q,class:"flex-1 btn btn-outline"},"à¸¥à¹‰à¸²à¸‡à¸•à¸°à¸à¸£à¹‰à¸²"),e("button",{onClick:t[5]||(t[5]=s=>{D.value=!0,X.value=!1}),class:"flex-1 btn btn-primary"},"à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™")])])])])):d("",!0)]),e("div",St,[e("div",$t,[e("div",Et,[e("div",Pt,[e("div",Ht,[t[36]||(t[36]=e("h2",{class:"text-xl font-bold"},"à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)),e("span",Rt,r(v.value.length)+" à¸£à¸²à¸¢à¸à¸²à¸£ ",1)])]),e("div",Lt,[v.value.length===0?(l(),n("div",Ot,[...t[37]||(t[37]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),e("p",{class:"text-gray-500 text-center text-sm font-medium"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸™à¸•à¸°à¸à¸£à¹‰à¸²",-1)])])):(l(),n("div",Xt,[(l(!0),n(T,null,M(v.value,s=>(l(),n("div",{key:s.id,class:"bg-gray-50 rounded-lg p-3 border border-gray-200 hover:border-indigo-300 transition-all"},[e("div",Nt,[e("div",Ut,[e("h4",Ft,r(s.product_name),1),e("p",It,r(s.quantity)+" à¸«à¸™à¹ˆà¸§à¸¢ x à¸¿"+r(c(s.price))+" / à¸«à¸™à¹ˆà¸§à¸¢",1)]),e("div",Dt,[e("span",Kt,"à¸¿"+r(c(s.price*s.quantity)),1)])])]))),128))]))]),e("div",Gt,[t[39]||(t[39]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-1.5"},"à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>$.value=s),onChange:ze,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},[t[38]||(t[38]=e("option",{value:null},"à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™",-1)),(l(!0),n(T,null,M(U.value,s=>(l(),n("option",{key:s.id,value:s.id},r(Y(s)),9,Wt))),128))],544),[[xe,$.value]])]),e("div",Qt,[e("div",Jt,[t[41]||(t[41]=e("span",{class:"text-xs font-semibold text-gray-700"},"VAT 7%",-1)),e("label",Yt,[b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>C.value=s),type:"checkbox",class:"sr-only peer"},null,512),[[ee,C.value]]),t[40]||(t[40]=e("div",{class:"w-10 h-5 bg-gray-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"},null,-1))])])]),e("div",Zt,[e("div",es,[e("div",ts,[t[42]||(t[42]=e("span",null,"à¸¢à¸­à¸”à¸£à¸§à¸¡:",-1)),e("span",ss,"à¸¿"+r(c(H.value)),1)]),_.value>0?(l(),n("div",os,[t[43]||(t[43]=e("span",null,"à¸ªà¹ˆà¸§à¸™à¸¥à¸”:",-1)),e("span",ls,"-à¸¿"+r(c(_.value)),1)])):d("",!0),C.value?(l(),n("div",ns,[t[44]||(t[44]=e("span",null,"VAT (7%):",-1)),e("span",rs,"à¸¿"+r(c(F.value)),1)])):d("",!0)]),e("div",as,[t[45]||(t[45]=e("span",{class:"text-gray-900"},"Total:",-1)),e("span",is,"à¸¿"+r(c(w.value)),1)])]),e("div",ds,[t[48]||(t[48]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-2"},"à¸§à¸´à¸˜à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™",-1)),e("div",us,[e("button",{onClick:t[8]||(t[8]=s=>g.value="cash"),class:y([g.value==="cash"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," à¹€à¸‡à¸´à¸™à¸ªà¸” ",2),e("button",{onClick:t[9]||(t[9]=s=>g.value="transfer"),class:y([g.value==="transfer"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," à¹‚à¸­à¸™à¹€à¸‡à¸´à¸™ ",2)]),g.value==="cash"?(l(),n("div",cs,[t[47]||(t[47]=e("label",{class:"block text-xs text-gray-600 mb-1"},"à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¸¡à¸²",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>k.value=s),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"0.00"},null,512),[[B,k.value,void 0,{number:!0}]]),k.value>=w.value?(l(),n("div",vs,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"à¹€à¸‡à¸´à¸™à¸—à¸­à¸™:",-1)),e("span",ps,"à¸¿"+r(c(k.value-w.value)),1)])):d("",!0)])):d("",!0),g.value==="transfer"?(l(),n("div",ms," à¸Šà¸³à¸£à¸°à¸œà¹ˆà¸²à¸™à¸à¸²à¸£à¹‚à¸­à¸™à¹€à¸‡à¸´à¸™ ")):d("",!0)]),t[49]||(t[49]=e("div",{class:"flex-1"},null,-1)),e("div",fs,[e("div",gs,[e("button",{onClick:Q,disabled:v.value.length===0,class:"py-3 bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:text-gray-400 text-red-700 font-bold rounded-lg transition-colors"}," à¸¥à¹‰à¸²à¸‡à¸•à¸°à¸à¸£à¹‰à¸² ",8,xs),e("button",{onClick:de,disabled:!le.value,class:"py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 disabled:from-gray-300 disabled:to-gray-300 text-white font-bold rounded-lg shadow-lg transition-all"}," à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™ ",8,bs)])])])]),e("div",ys,[e("div",hs,[t[54]||(t[54]=e("h3",{class:"text-lg font-semibold mb-4"},"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²",-1)),e("div",_s,[e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"à¸„à¹‰à¸™à¸«à¸²à¸¥à¸¹à¸à¸„à¹‰à¸²",-1)),e("div",ws,[b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>A.value=s),onInput:we,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸”à¹‰à¸§à¸¢à¸Šà¸·à¹ˆà¸­, à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£ à¸«à¸£à¸·à¸¸à¸­ Line ID..."},null,544),[[B,A.value]]),V.value.length>0?(l(),n("div",ks,[(l(!0),n(T,null,M(V.value,s=>(l(),n("div",{key:s.id,onClick:p=>ke(s),class:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0"},[e("div",js,r(s.name||s.company_name),1),e("div",Ms,r(s.phone),1),e("div",Ts,"à¸§à¸‡à¹€à¸‡à¸´à¸™: à¸¿"+r(c(s.credit_limit)),1)],8,Cs))),128))])):d("",!0)]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"à¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸",-1)),f.value?(l(),n("div",zs,[e("div",Vs,[e("div",qs,[e("div",As,r(f.value.name||f.value.company_name),1),e("div",Bs,r(f.value.phone),1),e("div",Ss," à¸§à¸‡à¹€à¸‡à¸´à¸™à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­: à¸¿"+r(c(f.value.available_credit)),1),e("div",$s," à¸›à¸£à¸°à¹€à¸ à¸—: "+r(f.value.customer_type==="individual"?"à¸šà¸¸à¸„à¸„à¸¥à¸˜à¸£à¸£à¸”à¸²":"à¸™à¸´à¸•à¸´à¸šà¸¸à¸„à¸„à¸¥"),1)]),e("button",{onClick:Ce,class:"ml-2 text-blue-400 hover:text-blue-600"},[...t[50]||(t[50]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):(l(),n("div",Es,[...t[51]||(t[51]=[e("div",{class:"text-gray-500 text-center"},[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",{class:"text-sm"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸¥à¸·à¸­à¸à¸¥à¸¹à¸à¸„à¹‰à¸²"),e("div",{class:"text-xs text-gray-400 mt-1"},"à¸à¸²à¸£à¸‚à¸²à¸¢à¹à¸šà¸šà¹€à¸‡à¸´à¸™à¸ªà¸”")],-1)])]))])])])]),e("div",Ps,[e("div",Hs,[t[55]||(t[55]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])],-1)),e("div",Rs,[b(e("input",{ref_key:"barcodeInput",ref:K,"onUpdate:modelValue":t[12]||(t[12]=s=>q.value=s),onKeyup:Ae(re,["enter"]),type:"text",class:"block w-full px-4 py-3 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-lg",placeholder:"ðŸ”« à¸ªà¹à¸à¸™ Barcode à¸«à¸£à¸·à¸­à¸žà¸´à¸¡à¸žà¹Œà¸£à¸«à¸±à¸ª Barcode à¹à¸¥à¹‰à¸§à¸à¸” Enter...",autofocus:""},null,544),[[B,q.value]])]),e("button",{onClick:re,class:"px-4 py-3 bg-white text-green-600 rounded-lg font-semibold hover:bg-green-50 transition-colors"}," à¸„à¹‰à¸™à¸«à¸² ")]),z.value?(l(),n("p",Ls,r(z.value),1)):d("",!0)]),e("div",Os,[e("div",Xs,[e("div",Ns,[e("div",Us,[t[56]||(t[56]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>x.value=s),onInput:O,type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²..."},null,544),[[B,x.value]])])]),e("div",Fs,[b(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>h.value=s),onChange:O,class:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500"},[t[57]||(t[57]=e("option",{value:""},"à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",-1)),(l(!0),n(T,null,M(N.value,s=>(l(),n("option",{key:s.id,value:s.id},r(s.name),9,Is))),128))],544),[[xe,h.value]])])])]),e("div",Ds,[x.value||h.value?(l(),n("div",Ks,[e("div",Gs,[e("div",Ws,[t[60]||(t[60]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("span",Qs,[x.value?(l(),n("span",Js,[t[58]||(t[58]=te("à¸„à¹‰à¸™à¸«à¸²: ",-1)),e("strong",null,'"'+r(x.value)+'"',1)])):d("",!0),x.value&&h.value?(l(),n("span",Ys," â€¢ ")):d("",!0),h.value?(l(),n("span",Zs,[t[59]||(t[59]=te("à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ: ",-1)),e("strong",null,r((a=N.value.find(s=>s.id==h.value))==null?void 0:a.name),1)])):d("",!0)])]),e("button",{onClick:Te,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," à¸¥à¹‰à¸²à¸‡à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸² ")])])):d("",!0),S.value?(l(),n("div",eo,[...t[61]||(t[61]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4"},null,-1),e("p",{class:"text-gray-500"},"à¸à¸³à¸¥à¸±à¸‡à¸„à¹‰à¸™à¸«à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²...",-1)])])):j.value.length===0?(l(),n("div",to,[...t[62]||(t[62]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-gray-500 text-lg font-medium mb-2"},"à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸´à¸™à¸„à¹‰à¸²",-1),e("p",{class:"text-gray-400 text-sm"},"à¸¥à¸­à¸‡à¸„à¹‰à¸™à¸«à¸²à¸”à¹‰à¸§à¸¢à¸„à¸³à¸­à¸·à¹ˆà¸™à¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ",-1)])])):(l(),n("div",so,[(l(!0),n(T,null,M(j.value,s=>(l(),n("div",{key:s.id,class:y(["group relative bg-white rounded-xl p-4 cursor-pointer border-2 border-gray-100 hover:border-primary-400 hover:shadow-lg transition-all duration-200",{"opacity-60 cursor-not-allowed":s.current_stock<=0}]),onClick:p=>W(s)},[e("div",lo,[e("span",{class:y([ne(s.current_stock),"px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm"])},r(s.current_stock)+" à¸Šà¸´à¹‰à¸™ ",3)]),e("div",no,[s.image?(l(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,ro)):(l(),n("svg",ao,[...t[63]||(t[63]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])])),t[64]||(t[64]=e("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 flex items-center justify-center transition-all duration-200"},[e("div",{class:"transform scale-0 group-hover:scale-100 transition-transform duration-200"},[e("div",{class:"bg-primary-500 text-white rounded-full p-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])])])],-1))]),e("div",io,[e("h3",uo,r(s.name),1),e("p",co,[t[65]||(t[65]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),te(" "+r(s.category),1)]),e("div",vo,[e("span",po,"à¸¿"+r(c(s.selling_price)),1)])])],10,oo))),128))])),S.value?(l(),n("div",mo,[...t[66]||(t[66]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"},null,-1),e("p",{class:"mt-2 text-gray-500"},"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²...",-1)])])):j.value.length===0?(l(),n("div",fo,[...t[67]||(t[67]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"mt-2"},"à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸´à¸™à¸„à¹‰à¸²",-1)])])):d("",!0)])])]),D.value?(l(),n("div",go,[e("div",xo,[e("div",bo,[e("div",{class:"flex items-center justify-between mb-6"},[t[69]||(t[69]=e("h3",{class:"text-lg font-semibold"},"à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™",-1)),e("button",{onClick:J,class:"text-gray-400 hover:text-gray-600"},[...t[68]||(t[68]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",yo,[t[76]||(t[76]=e("h4",{class:"font-medium mb-2"},"à¸ªà¸£à¸¸à¸›à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­",-1)),e("div",ho,[e("div",_o,[t[71]||(t[71]=e("div",null,[e("h5",{class:"font-medium text-sm text-blue-800"},"à¸ à¸²à¸©à¸µà¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¹€à¸žà¸´à¹ˆà¸¡ (VAT)"),e("p",{class:"text-xs text-blue-600"},"à¹€à¸¥à¸·à¸­à¸à¹ƒà¸Šà¹‰à¸«à¸£à¸·à¸¸à¸­à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ VAT 7%")],-1)),e("label",wo,[b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>C.value=s),type:"checkbox",class:"sr-only peer","aria-label":"à¹€à¸›à¸´à¸”/à¸›à¸´à¸” VAT"},null,512),[[ee,C.value]]),t[70]||(t[70]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",ko,[e("div",Co,[t[72]||(t[72]=e("span",null,"à¸ˆà¸³à¸™à¸§à¸™à¸£à¸²à¸¢à¸à¸²à¸£:",-1)),e("span",null,r(v.value.length)+" à¸£à¸²à¸¢à¸à¸²à¸£",1)]),e("div",jo,[t[73]||(t[73]=e("span",null,"à¸¢à¸­à¸”à¸£à¸§à¸¡:",-1)),e("span",null,"à¸¿"+r(c(H.value)),1)]),_.value>0?(l(),n("div",Mo,[e("span",null,"à¸ªà¹ˆà¸§à¸™à¸¥à¸” ("+r((i=m.value)==null?void 0:i.name)+"):",1),e("span",null,"-à¸¿"+r(c(_.value)),1)])):d("",!0),C.value?(l(),n("div",To,[t[74]||(t[74]=e("span",null,"à¸ à¸²à¸©à¸µ (7%):",-1)),e("span",null,"à¸¿"+r(c(F.value)),1)])):d("",!0),e("div",zo,[t[75]||(t[75]=e("span",null,"à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸ªà¸´à¹‰à¸™:",-1)),e("span",Vo,"à¸¿"+r(c(w.value)),1)])])]),e("div",qo,[t[90]||(t[90]=e("h4",{class:"font-medium mb-3"},"à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹„à¸”à¹‰",-1)),e("div",Ao,[e("button",{onClick:t[16]||(t[16]=s=>E.value=!E.value),class:y(["w-full flex items-center justify-between px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-green-500 bg-green-50":m.value,"border-gray-300":!m.value}])},[e("div",Bo,[m.value?(l(),n("div",So,[e("div",$o,[m.value.type==="percentage"?(l(),n("div",Eo,[...t[77]||(t[77]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):m.value.type==="fixed_amount"?(l(),n("div",Po,[...t[78]||(t[78]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(l(),n("div",Ho,[...t[79]||(t[79]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",null,[e("div",Ro,r(m.value.name),1),e("div",{class:y(["text-xs font-medium",ve(m.value.type)])},r(Y(m.value)),3)])])):(l(),n("div",Lo," à¹€à¸¥à¸·à¸­à¸à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™ "))]),(l(),n("svg",{class:y(["w-5 h-5 text-gray-400 transition-transform",{"rotate-180":E.value}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[80]||(t[80]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2))],2),E.value?(l(),n("div",Oo,[e("div",{onClick:t[17]||(t[17]=s=>{me(),E.value=!1}),class:y(["px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100",{"bg-blue-50":!m.value}])},[e("div",Xo,[t[82]||(t[82]=e("div",{class:"flex-shrink-0 mr-3"},[e("div",{class:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)),t[83]||(t[83]=e("div",null,[e("div",{class:"font-medium text-sm text-gray-900"},"à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™"),e("div",{class:"text-xs text-gray-500"},"à¸£à¸²à¸„à¸²à¸›à¸à¸•à¸´")],-1)),e("div",No,[m.value?d("",!0):(l(),n("svg",Uo,[...t[81]||(t[81]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))])])],2),U.value.length===0?(l(),n("div",Fo,[...t[84]||(t[84]=[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-gray-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("span",{class:"text-sm"},"à¹„à¸¡à¹ˆà¸¡à¸µà¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸™à¸•à¸°à¸à¸£à¹‰à¸²")],-1)])])):d("",!0),(l(!0),n(T,null,M(U.value,s=>{var p,Z;return l(),n("div",{key:s.id,onClick:ql=>{pe(s),E.value=!1},class:y(["px-4 py-3 hover:bg-gray-50 cursor-pointer",{"bg-green-50":((p=m.value)==null?void 0:p.id)===s.id}])},[e("div",Do,[e("div",Ko,[s.type==="percentage"?(l(),n("div",Go,[...t[85]||(t[85]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):s.type==="fixed_amount"?(l(),n("div",Wo,[...t[86]||(t[86]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(l(),n("div",Qo,[...t[87]||(t[87]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",Jo,[e("div",Yo,r(s.name),1),e("div",Zo,r(s.description),1),e("div",{class:y(["text-xs font-medium mt-1",ve(s.type)])},r(Y(s)),3)]),e("div",el,[((Z=m.value)==null?void 0:Z.id)===s.id?(l(),n("svg",tl,[...t[88]||(t[88]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):d("",!0)])])],10,Io)}),128))])):d("",!0)]),m.value?(l(),n("div",sl,[e("div",ol,[e("div",ll,[t[89]||(t[89]=e("svg",{class:"w-4 h-4 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),e("span",nl,"à¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¹ˆà¸™à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰: "+r(m.value.name),1)]),e("span",rl,"-à¸¿"+r(c(_.value)),1)])])):d("",!0)]),e("div",al,[t[93]||(t[93]=e("h4",{class:"font-medium mb-3"},"à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™",-1)),e("div",il,[e("label",dl,[b(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>g.value=s),type:"radio",value:"cash",class:"mr-3"},null,512),[[be,g.value]]),t[91]||(t[91]=e("div",{class:"flex items-center"},[e("span",{class:"text-2xl mr-2"},"ðŸ’°"),e("span",null,"à¹€à¸‡à¸´à¸™à¸ªà¸”")],-1))]),e("label",{class:y(["flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",{"opacity-50 cursor-not-allowed":!f.value}])},[b(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>g.value=s),type:"radio",value:"customer_account",class:"mr-3",disabled:!f.value},null,8,ul),[[be,g.value]]),t[92]||(t[92]=e("div",{class:"flex items-center"},[e("span",{class:"text-2xl mr-2"},"ðŸ¢"),e("span",null,"à¹€à¸„à¸£à¸”à¸´à¸• (à¸šà¸±à¸à¸Šà¸µà¸¥à¸¹à¸à¸„à¹‰à¸²)")],-1))],2),!f.value&&g.value==="customer_account"?(l(),n("div",cl," à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™à¹ƒà¸Šà¹‰à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹à¸šà¸šà¹€à¸„à¸£à¸”à¸´à¸• ")):d("",!0)])]),g.value==="cash"?(l(),n("div",vl,[t[95]||(t[95]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"à¸ˆà¸³à¸™à¸§à¸™à¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¸£à¸±à¸š",-1)),b(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>k.value=s),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"0.00"},null,512),[[B,k.value,void 0,{number:!0}]]),k.value>=w.value?(l(),n("div",pl,[e("span",ml,"à¹€à¸‡à¸´à¸™à¸—à¸­à¸™: à¸¿"+r(c(k.value-w.value)),1)])):k.value>0?(l(),n("div",fl,[...t[94]||(t[94]=[e("span",{class:"text-red-800"},"à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¹€à¸žà¸µà¸¢à¸‡à¸žà¸­",-1)])])):d("",!0)])):d("",!0),g.value==="customer_account"?(l(),n("div",gl,[t[96]||(t[96]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"à¹€à¸¥à¸·à¸­à¸à¸¥à¸¹à¸à¸„à¹‰à¸²",-1)),b(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>L.value=s),onInput:_e,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¸¥à¸¹à¸à¸„à¹‰à¸²..."},null,544),[[B,L.value]]),P.value.length>0?(l(),n("div",xl,[(l(!0),n(T,null,M(P.value,s=>{var p;return l(),n("div",{key:s.id,onClick:Z=>f.value=s,class:y(["p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",{"bg-primary-50":((p=f.value)==null?void 0:p.id)===s.id}])},[e("div",yl,r(s.name),1),e("div",hl,r(s.company_name),1),e("div",_l,"à¸§à¸‡à¹€à¸‡à¸´à¸™à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­: à¸¿"+r(c(s.available_credit)),1)],10,bl)}),128))])):d("",!0),f.value?(l(),n("div",wl,[e("div",kl,r(f.value.name),1),e("div",Cl,"à¸§à¸‡à¹€à¸‡à¸´à¸™à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­: à¸¿"+r(c(f.value.available_credit)),1),f.value.available_credit<w.value?(l(),n("div",jl," à¸§à¸‡à¹€à¸‡à¸´à¸™à¹„à¸¡à¹ˆà¹€à¸žà¸µà¸¢à¸‡à¸žà¸­ ")):d("",!0)])):d("",!0)])):d("",!0),e("div",Ml,[e("button",{onClick:J,class:"flex-1 btn btn-outline"},"à¸¢à¸à¹€à¸¥à¸´à¸"),e("button",{onClick:de,disabled:!le.value,class:"flex-1 btn btn-primary"}," à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™ ",8,Tl)])])])])):d("",!0)])])]}),_:1}))}},Pl=Se(zl,[["__scopeId","data-v-f18c7c39"]]);export{Pl as default};
