import{B as D,a as n,c as C,w as i,d as t,t as l,e as x,v as m,M as F,f as N,j as h,m as M,k as c,x as g,g as d,h as L,n as T,F as y,i as V,E as U}from"./app-68daac91.js";import{A as z}from"./AppLayout-ea36af8e.js";/* empty css            */import"./ApplicationLogo-9b15c312.js";import"./_plugin-vue_export-helper-c27b6911.js";const O={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},K={class:"bg-white rounded-lg shadow p-4"},I={class:"text-2xl font-bold text-gray-800"},q={class:"bg-yellow-50 rounded-lg shadow p-4"},G={class:"text-2xl font-bold text-yellow-700"},J={class:"bg-green-50 rounded-lg shadow p-4"},P={class:"text-2xl font-bold text-green-700"},Q={class:"bg-red-50 rounded-lg shadow p-4"},R={class:"text-2xl font-bold text-red-700"},W={class:"bg-white rounded-lg shadow p-4 mb-6"},X={class:"flex flex-wrap items-center gap-4"},Y={class:"flex-1 min-w-[200px]"},Z={class:"bg-white rounded-lg shadow overflow-hidden"},$={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-white divide-y divide-gray-200"},et={class:"px-6 py-4 whitespace-nowrap"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ot={class:"px-6 py-4 whitespace-nowrap text-sm"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-red-600"},at={class:"px-6 py-4 whitespace-nowrap text-center"},nt={class:"px-6 py-4 whitespace-nowrap text-center"},dt={class:"flex justify-center gap-2"},it={key:0},ut={key:0,class:"px-6 py-4 border-t"},pt={class:"flex justify-center gap-1"},xt=["innerHTML"],ft={__name:"Index",props:{refunds:Object,summary:Object,filters:Object},setup(r){var w,b,v,_;const u=r,a=D({search:((w=u.filters)==null?void 0:w.search)||"",status:((b=u.filters)==null?void 0:b.status)||"",start_date:((v=u.filters)==null?void 0:v.start_date)||"",end_date:((_=u.filters)==null?void 0:_.end_date)||""}),p=()=>{U.get(route("refunds.index"),a,{preserveState:!0,replace:!0})},f=o=>parseFloat(o||0).toLocaleString("th-TH",{minimumFractionDigits:2}),B=o=>o?new Date(o).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"-",H=o=>({pending:"รอดำเนินการ",approved:"อนุมัติแล้ว",completed:"เสร็จสิ้น",rejected:"ปฏิเสธ"})[o]||o,S=o=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800";return(o,e)=>(n(),C(z,{title:"รายการคืนสินค้า"},{header:i(()=>[...e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"รายการคืนสินค้า",-1)])]),default:i(()=>[t("div",O,[t("div",A,[t("div",E,[t("div",K,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-500"},"ใบคืนทั้งหมด",-1)),t("div",I,l(r.summary.total_refunds),1)]),t("div",q,[e[6]||(e[6]=t("div",{class:"text-sm text-yellow-600"},"รอดำเนินการ",-1)),t("div",G,l(r.summary.pending_refunds),1)]),t("div",J,[e[7]||(e[7]=t("div",{class:"text-sm text-green-600"},"เสร็จสิ้น",-1)),t("div",P,l(r.summary.completed_refunds),1)]),t("div",Q,[e[8]||(e[8]=t("div",{class:"text-sm text-red-600"},"ยอดคืนรวม",-1)),t("div",R,"฿"+l(f(r.summary.total_refund_amount)),1)])]),t("div",W,[t("div",X,[t("div",Y,[x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.search=s),type:"text",placeholder:"ค้นหาเลขที่ใบคืน / เลขที่บิล...",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",onKeyup:F(p,["enter"])},null,544),[[m,a.search]])]),t("div",null,[x(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.status=s),class:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",onChange:p},[...e[9]||(e[9]=[t("option",{value:""},"สถานะทั้งหมด",-1),t("option",{value:"pending"},"รอดำเนินการ",-1),t("option",{value:"approved"},"อนุมัติแล้ว",-1),t("option",{value:"completed"},"เสร็จสิ้น",-1),t("option",{value:"rejected"},"ปฏิเสธ",-1)])],544),[[N,a.status]])]),t("div",null,[x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.start_date=s),type:"date",class:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",onChange:p},null,544),[[m,a.start_date]])]),t("div",null,[x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.end_date=s),type:"date",class:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",onChange:p},null,544),[[m,a.end_date]])]),h(c(g),{href:o.route("refunds.create"),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2"},{default:i(()=>[...e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),M(" สร้างใบคืนสินค้า ",-1)])]),_:1},8,["href"])])]),t("div",Z,[t("table",$,[e[13]||(e[13]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"เลขที่ใบคืน"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"บิลอ้างอิง"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ลูกค้า"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"วันที่"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"ยอดคืน"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"สถานะ"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"จัดการ")])],-1)),t("tbody",tt,[(n(!0),d(y,null,L(r.refunds.data,s=>{var k,j;return n(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",et,[h(c(g),{href:o.route("refunds.show",s.id),class:"text-blue-600 hover:underline font-medium"},{default:i(()=>[M(l(s.refund_number),1)]),_:2},1032,["href"])]),t("td",st,l((k=s.sale)==null?void 0:k.sale_number),1),t("td",ot,l(((j=s.customer)==null?void 0:j.name)||"ลูกค้าทั่วไป"),1),t("td",rt,l(B(s.refund_date)),1),t("td",lt," ฿"+l(f(s.total_amount)),1),t("td",at,[t("span",{class:T([S(s.status),"px-2 py-1 text-xs rounded-full"])},l(H(s.status)),3)]),t("td",nt,[t("div",dt,[h(c(g),{href:o.route("refunds.show",s.id),class:"text-blue-600 hover:text-blue-800",title:"ดูรายละเอียด"},{default:i(()=>[...e[11]||(e[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"])])])])}),128)),r.refunds.data.length===0?(n(),d("tr",it,[...e[12]||(e[12]=[t("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"}," ไม่พบรายการคืนสินค้า ",-1)])])):V("",!0)])]),r.refunds.links&&r.refunds.links.length>3?(n(),d("div",ut,[t("div",pt,[(n(!0),d(y,null,L(r.refunds.links,s=>(n(),d(y,{key:s.label},[s.url?(n(),C(c(g),{key:0,href:s.url,innerHTML:s.label,class:T(["px-3 py-1 border rounded text-sm",s.active?"bg-blue-600 text-white":"hover:bg-gray-100"])},null,8,["href","innerHTML","class"])):(n(),d("span",{key:1,innerHTML:s.label,class:"px-3 py-1 text-gray-400 text-sm"},null,8,xt))],64))),128))])])):V("",!0)])])])]),_:1}))}};export{ft as default};
