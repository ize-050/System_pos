import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{z as k,a as r,g as m,d as t,t as e,i as y,m as c,F as N,h as E,P as w}from"./app-cfb3a24f.js";/* empty css            */const L={class:"header-section"},V={class:"shop-info"},B={class:"shop-name"},F={class:"shop-detail"},H={key:0,class:"shop-detail"},P={key:1,class:"shop-detail"},U={class:"shop-detail"},q={class:"doc-info"},z={class:"doc-detail-table"},Q={class:"doc-value"},j={class:"doc-value"},Y={class:"doc-value"},G={class:"customer-row"},K={class:"customer-table"},W={class:"cust-value",colspan:"3"},X={class:"cust-value",colspan:"3"},$={key:0},p={class:"cust-value",colspan:"3"},J={class:"items-table"},Z={class:"text-center"},tt={class:"text-center"},st={class:"text-center"},et={class:"text-right"},lt={class:"text-right"},at={class:"summary-section"},ot={class:"summary-left"},nt={class:"amount-words"},it={class:"summary-right"},dt={class:"summary-table"},ct={class:"sum-value"},ut={class:"sum-value"},rt={class:"sum-value"},mt={class:"sum-value"},ht={class:"sum-value"},_t={class:"sum-value"},vt={class:"sum-value"},bt={class:"sum-value"},ft={class:"sum-label"},Tt={key:0},yt={colspan:"4",class:"sum-value"},gt={class:"sum-value",colspan:"2"},xt={class:"sum-value"},At={__name:"DotMatrixTemplate",props:{sale:{type:Object,required:!0},settings:{type:Object,required:!0}},setup(l){const T=l,I=k(()=>({width:"210mm",minHeight:"270mm",padding:"5mm 8mm",fontFamily:'"Courier New", Courier, monospace',fontSize:"10pt",lineHeight:"1.3",backgroundColor:"white",color:"black"})),C=a=>a?new Date(a).toLocaleDateString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",i=a=>!a||isNaN(a)?"0.00":new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a),D=a=>({cash:"CASH",transfer:"TRANSFER",credit_card:"CREDIT",credit:"CREDIT"})[a]||a||"-",S=()=>T.sale.sale_items?T.sale.sale_items.reduce((a,s)=>a+(s.quantity||0),0):0,g=()=>{const a=T.sale.total_amount||0,s=T.sale.vat_amount||0;return a-s},M=a=>{if(!a||isNaN(a))return"ศูนย์บาทถ้วน";const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],h=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"],u=Math.floor(a),o=Math.round((a-u)*100);if(u===0)return o>0?`${o} สตางค์`:"ศูนย์บาทถ้วน";let d="",f=u.toString(),v=f.length;for(let n=0;n<v;n++){let b=parseInt(f[n]),_=v-n-1;b!==0&&(_===1&&b===1?d+="สิบ":_===1&&b===2?d+="ยี่สิบ":_===0&&b===1&&v>1?d+="เอ็ด":d+=s[b]+h[_%7],_===6&&v>7&&(d+="ล้าน"))}return d+="บาท",o>0?d+=O(o)+"สตางค์":d+="ถ้วน",d},O=a=>{const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"];if(a<10)return s[a];const h=Math.floor(a/10),u=a%10;let o="";return h===1?o="สิบ":h===2?o="ยี่สิบ":o=s[h]+"สิบ",u===1?o+="เอ็ด":u>0&&(o+=s[u]),o};return(a,s)=>{var h,u,o,d,f,v;return r(),m("div",{class:"dot-matrix-receipt",style:w(I.value)},[t("div",L,[t("div",V,[t("div",B,e(l.settings.shop_name||"ชื่อร้านค้า"),1),t("div",F,e(l.settings.shop_address||""),1),l.settings.shop_phone?(r(),m("div",H,"โทร: "+e(l.settings.shop_phone),1)):y("",!0),l.settings.tax_id?(r(),m("div",P,"เลขประจำตัวผู้เสียภาษี: "+e(l.settings.tax_id),1)):y("",!0),t("div",U,"POS ID: "+e(l.sale.sale_number),1)]),t("div",q,[s[3]||(s[3]=t("div",{class:"doc-title-box"},[t("div",{class:"doc-note"},"ใบกำกับภาษี/ใบเสร็จรับเงิน"),t("div",{class:"doc-note-en"},"TAX INVOICE")],-1)),t("table",z,[t("tr",null,[s[0]||(s[0]=t("td",{class:"doc-label"},"เลขที่ / NO.",-1)),t("td",Q,e(l.sale.sale_number),1)]),t("tr",null,[s[1]||(s[1]=t("td",{class:"doc-label"},"วันที่ / DATE",-1)),t("td",j,e(C(l.sale.created_at)),1)]),t("tr",null,[s[2]||(s[2]=t("td",{class:"doc-label"},"CASHIER",-1)),t("td",Y,e(((h=l.sale.cashier)==null?void 0:h.name)||"-"),1)])])])]),t("div",G,[t("table",K,[t("tr",null,[s[4]||(s[4]=t("td",{class:"cust-label"},"CUSTOMER NAME",-1)),t("td",W,e(((u=l.sale.customer)==null?void 0:u.company_name)||((o=l.sale.customer)==null?void 0:o.name)||"ลูกค้าทั่วไป"),1)]),t("tr",null,[s[5]||(s[5]=t("td",{class:"cust-label"},"ที่อยู่",-1)),t("td",X,e(((d=l.sale.customer)==null?void 0:d.address)||"-"),1)]),(f=l.sale.customer)!=null&&f.tax_id?(r(),m("tr",$,[s[6]||(s[6]=t("td",{class:"cust-label"},"เลขประจำตัวผู้เสียภาษี",-1)),t("td",p,e(l.sale.customer.tax_id),1)])):y("",!0)])]),t("table",J,[s[9]||(s[9]=t("thead",null,[t("tr",{class:"items-header"},[t("th",{class:"col-qty"},[c("QUANTITY"),t("br"),c("จำนวน")]),t("th",{class:"col-article"},[c("ARTICLE"),t("br"),c("NUMBER")]),t("th",{class:"col-desc"},[c("ARTICLE DESCRIPTION"),t("br"),c("รายการสินค้า")]),t("th",{class:"col-unit"},[c("UNIT"),t("br"),c("หน่วย")]),t("th",{class:"col-price"},[c("PACK"),t("br"),c("PRICE")]),t("th",{class:"col-vat"},"VAT"),t("th",{class:"col-amount"},[c("VALUE INCLUDED"),t("br"),c("VAT (BAHT)")])])],-1)),t("tbody",null,[(r(!0),m(N,null,E(l.sale.sale_items,(n,b)=>{var _,x,A;return r(),m("tr",{key:n.id,class:"item-row"},[t("td",Z,e(n.quantity),1),t("td",tt,e(((_=n.product)==null?void 0:_.sku)||"-"),1),t("td",null,e(((x=n.product)==null?void 0:x.name)||"-"),1),t("td",st,e(((A=n.product)==null?void 0:A.unit)||"ชิ้น"),1),t("td",et,e(i(n.unit_price)),1),s[7]||(s[7]=t("td",{class:"text-center"},"7%",-1)),t("td",lt,e(i(n.total_price)),1)])}),128)),(r(!0),m(N,null,E(Math.max(0,8-(((v=l.sale.sale_items)==null?void 0:v.length)||0)),n=>(r(),m("tr",{key:"empty-"+n,class:"item-row empty-row"},[...s[8]||(s[8]=[t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1)])]))),128))])]),t("div",at,[t("div",ot,[t("div",nt,"("+e(M(l.sale.total_amount))+")",1)]),t("div",it,[t("table",dt,[s[14]||(s[14]=t("tr",null,[t("td",{class:"sum-label"},"จำนวน รายการ / QTY"),t("td",{class:"sum-label"},"ราคาสินค้า / LEGAL AMOUNT"),t("td",{class:"sum-label"},"ภาษี / VAT"),t("td",{class:"sum-label"},"รวม / TOTAL"),t("td",{class:"sum-label"},"รวมเงิน / BAHT")],-1)),t("tr",null,[t("td",ct,e(S()),1),t("td",ut,e(i(g())),1),t("td",rt,e(i(l.sale.vat_amount||0)),1),t("td",mt,e(i(l.sale.total_amount)),1),t("td",ht,e(i(l.sale.total_amount)),1)]),t("tr",null,[s[10]||(s[10]=t("td",{class:"sum-label"},"TOTAL",-1)),t("td",_t,e(i(g())),1),t("td",vt,e(i(l.sale.vat_amount||0)),1),t("td",bt,e(i(l.sale.total_amount)),1),t("td",ft,e(D(l.sale.payment_method)),1)]),l.sale.discount_amount>0?(r(),m("tr",Tt,[s[11]||(s[11]=t("td",{class:"sum-label"},"ส่วนลด",-1)),t("td",yt,e(i(l.sale.discount_amount)),1)])):y("",!0),t("tr",null,[s[12]||(s[12]=t("td",{class:"sum-label"},"รับเงิน",-1)),t("td",gt,e(i(l.sale.paid_amount)),1),s[13]||(s[13]=t("td",{class:"sum-label"},"เงินทอน",-1)),t("td",xt,e(i(l.sale.change_amount)),1)])])])]),s[15]||(s[15]=t("div",{class:"footer-section"},[t("div",{class:"form-number"},"FORM BA003 VAT")],-1))],4)}}},Ct=R(At,[["__scopeId","data-v-f1983f3e"]]);export{Ct as default};
