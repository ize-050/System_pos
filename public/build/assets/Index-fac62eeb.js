import{B,a as i,c as f,w as n,d as t,j as p,m as x,k as d,x as u,e as y,v as h,f as q,g as m,h as S,t as a,n as V,i as b,F as j,E as H}from"./app-68daac91.js";import{A as M}from"./AppLayout-ea36af8e.js";/* empty css            */import"./ApplicationLogo-9b15c312.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},E={class:"flex gap-2"},O={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},G={class:"bg-white rounded-lg shadow-sm overflow-hidden"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-medium"},Z={class:"px-6 py-4 whitespace-nowrap text-center"},$={class:"px-6 py-4 whitespace-nowrap text-center"},tt={class:"flex justify-center gap-2"},et={key:0},st={key:0,class:"px-6 py-4 border-t border-gray-200"},rt={class:"flex justify-between items-center"},at={class:"text-sm text-gray-500"},ot={class:"flex gap-2"},xt={__name:"Index",props:{requisitions:Object,filters:Object},setup(l){var v,_,k,T;const c=l,o=B({search:((v=c.filters)==null?void 0:v.search)||"",status:((_=c.filters)==null?void 0:_.status)||"",start_date:((k=c.filters)==null?void 0:k.start_date)||"",end_date:((T=c.filters)==null?void 0:T.end_date)||""});let w=null;const C=()=>{clearTimeout(w),w=setTimeout(()=>{g()},300)},g=()=>{H.get(route("stock-requisitions.index"),o,{preserveState:!0,preserveScroll:!0})},D=r=>r?new Date(r).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"-",F=r=>r?new Intl.NumberFormat("th-TH",{minimumFractionDigits:2}).format(r):"0.00",L=r=>({draft:"à¸£à¹ˆà¸²à¸‡",completed:"à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™",cancelled:"à¸¢à¸à¹€à¸¥à¸´à¸"})[r]||r,N=r=>({draft:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800";return(r,e)=>(i(),f(M,{title:"à¹ƒà¸šà¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²"},{header:n(()=>[...e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"à¹ƒà¸šà¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)])]),default:n(()=>[t("div",U,[t("div",I,[t("div",A,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"à¸£à¸²à¸¢à¸à¸²à¸£à¹ƒà¸šà¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²"),t("p",{class:"text-gray-600"},"à¸ˆà¸±à¸”à¸à¸²à¸£à¹ƒà¸šà¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¹à¸¥à¸°à¸•à¸±à¸”à¸ªà¸•à¹‡à¸­à¸")],-1)),t("div",E,[p(d(u),{href:r.route("reports.stock-requisitions"),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},{default:n(()=>[...e[5]||(e[5]=[x(" ðŸ“Š à¸£à¸²à¸¢à¸‡à¸²à¸™ ",-1)])]),_:1},8,["href"]),p(d(u),{href:r.route("stock-requisitions.create"),class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"},{default:n(()=>[...e[6]||(e[6]=[x(" + à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸šà¹€à¸šà¸´à¸à¹ƒà¸«à¸¡à¹ˆ ",-1)])]),_:1},8,["href"])])]),t("div",O,[t("div",z,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"à¸„à¹‰à¸™à¸«à¸²",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.search=s),type:"text",placeholder:"à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹ƒà¸šà¹€à¸šà¸´à¸, à¸œà¸¹à¹‰à¹€à¸šà¸´à¸...",class:"w-full rounded-lg border-gray-300",onInput:C},null,544),[[h,o.search]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"à¸ªà¸–à¸²à¸™à¸°",-1)),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:g,class:"w-full rounded-lg border-gray-300"},[...e[9]||(e[9]=[t("option",{value:""},"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",-1),t("option",{value:"draft"},"à¸£à¹ˆà¸²à¸‡",-1),t("option",{value:"completed"},"à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™",-1),t("option",{value:"cancelled"},"à¸¢à¸à¹€à¸¥à¸´à¸",-1)])],544),[[q,o.status]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹€à¸£à¸´à¹ˆà¸¡",-1)),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.start_date=s),type:"date",onChange:g,class:"w-full rounded-lg border-gray-300"},null,544),[[h,o.start_date]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”",-1)),y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.end_date=s),type:"date",onChange:g,class:"w-full rounded-lg border-gray-300"},null,544),[[h,o.end_date]])])])]),t("div",G,[t("table",J,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹ƒà¸šà¹€à¸šà¸´à¸"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"à¸§à¸±à¸™à¸—à¸µà¹ˆ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"à¸œà¸¹à¹‰à¹€à¸šà¸´à¸"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"à¹à¸œà¸™à¸/à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"à¸ˆà¸³à¸™à¸§à¸™à¸£à¸²à¸¢à¸à¸²à¸£"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"à¸¡à¸¹à¸¥à¸„à¹ˆà¸² (à¸—à¸¸à¸™)"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"à¸ªà¸–à¸²à¸™à¸°"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase"},"à¸ˆà¸±à¸”à¸à¸²à¸£")])],-1)),t("tbody",K,[(i(!0),m(j,null,S(l.requisitions.data,s=>(i(),m("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",P,[p(d(u),{href:r.route("stock-requisitions.show",s.id),class:"text-indigo-600 hover:text-indigo-900 font-medium"},{default:n(()=>[x(a(s.requisition_number),1)]),_:2},1032,["href"])]),t("td",Q,a(D(s.requisition_date)),1),t("td",R,a(s.requester_name),1),t("td",W,a(s.department||s.project_name||"-"),1),t("td",X,a(s.total_items)+" à¸£à¸²à¸¢à¸à¸²à¸£ ",1),t("td",Y," à¸¿"+a(F(s.total_cost_amount)),1),t("td",Z,[t("span",{class:V([N(s.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(L(s.status)),3)]),t("td",$,[t("div",tt,[p(d(u),{href:r.route("stock-requisitions.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"à¸”à¸¹"},{default:n(()=>[...e[13]||(e[13]=[x(" ðŸ‘ï¸ ",-1)])]),_:1},8,["href"]),s.status==="draft"?(i(),f(d(u),{key:0,href:r.route("stock-requisitions.edit",s.id),class:"text-yellow-600 hover:text-yellow-900",title:"à¹à¸à¹‰à¹„à¸‚"},{default:n(()=>[...e[14]||(e[14]=[x(" âœï¸ ",-1)])]),_:1},8,["href"])):b("",!0),p(d(u),{href:r.route("stock-requisitions.print",s.id),class:"text-green-600 hover:text-green-900",title:"à¸žà¸´à¸¡à¸žà¹Œ"},{default:n(()=>[...e[15]||(e[15]=[x(" ðŸ–¨ï¸ ",-1)])]),_:1},8,["href"])])])]))),128)),l.requisitions.data.length===0?(i(),m("tr",et,[...e[16]||(e[16]=[t("td",{colspan:"8",class:"px-6 py-12 text-center text-gray-500"}," à¹„à¸¡à¹ˆà¸žà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸šà¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸² ",-1)])])):b("",!0)])]),l.requisitions.last_page>1?(i(),m("div",st,[t("div",rt,[t("div",at," à¹à¸ªà¸”à¸‡ "+a(l.requisitions.from)+" - "+a(l.requisitions.to)+" à¸ˆà¸²à¸ "+a(l.requisitions.total)+" à¸£à¸²à¸¢à¸à¸²à¸£ ",1),t("div",ot,[(i(!0),m(j,null,S(l.requisitions.links,s=>(i(),f(d(u),{key:s.label,href:s.url||"#",class:V(["px-3 py-1 rounded text-sm",s.active?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200",s.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):b("",!0)])])])]),_:1}))}};export{xt as default};
