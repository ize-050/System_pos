import{A as U,r as y,E as I,a as n,c as v,w as l,d as e,j as b,m as d,k as u,x as c,e as j,v as P,f as z,g as i,h as B,t as o,F as w,n as k,i as E,G as M}from"./app-cfb3a24f.js";import{A as O}from"./AppLayout-e7d94700.js";import{t as _}from"./toastStore-c9588d95.js";/* empty css            */import"./ApplicationLogo-506cd769.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},J={class:"p-6 bg-white border-b border-gray-200"},K={class:"mb-6 flex justify-between items-center"},Q={class:"flex items-center space-x-3"},R={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},W=["value"],X={class:"bg-white rounded-lg shadow overflow-hidden overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},Z={class:"bg-white divide-y divide-gray-200"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"flex-shrink-0 h-16 w-16"},se=["src","alt"],re={key:1,class:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center"},oe={class:"px-6 py-4 whitespace-nowrap"},ne={class:"text-sm font-medium text-gray-900"},ae={class:"text-sm text-gray-500"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},fe={class:"flex justify-end space-x-2"},he=["onClick"],me={key:0,class:"mt-6"},ye={class:"flex items-center justify-between"},ve={class:"flex-1 flex justify-between sm:hidden"},be={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},we={class:"text-sm text-gray-700"},ke={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Ve={__name:"Index",props:{products:Object,categories:Array,filters:Object},setup(a){var S,V;const C=a,h=U(),m=y(null),p=y(C.filters.search||""),x=y(C.filters.category||""),g=y(C.filters.status||"");I([p,x,g],()=>{M.get(route("products.index"),{search:p.value,category:x.value,status:g.value},{preserveState:!0,replace:!0})},{debounce:300});const F=()=>{p.value="",x.value="",g.value=""},L=r=>r.is_active?r.current_stock<=0?"สินค้าหมด":r.current_stock<=r.reorder_point?"สต็อกต่ำ":"ใช้งาน":"ไม่ใช้งาน",H=r=>r.is_active?r.current_stock<=0?"bg-red-100 text-red-800":r.current_stock<=r.reorder_point?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",N=r=>{confirm("คุณแน่ใจหรือไม่ที่จะลบสินค้านี้?")&&M.delete(route("products.destroy",r),{onSuccess:()=>{_.crud.deleted("สินค้า")},onError:()=>{_.crud.deleteError("สินค้า")}})};(S=h.props.flash)!=null&&S.success&&_.success(h.props.flash.success),(V=h.props.flash)!=null&&V.error&&_.error(h.props.flash.error);const A=()=>{window.location.href=route("products.template.download")},D=()=>{m.value.click()},T=r=>{const t=r.target.files[0];if(t){const s=new FormData;s.append("file",t),M.post(route("products.import"),s,{onSuccess:()=>{m.value.value=""},onError:()=>{m.value.value=""}})}};return(r,t)=>(n(),v(O,{title:"จัดการสินค้า"},{header:l(()=>[...t[3]||(t[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการสินค้า ",-1)])]),default:l(()=>[e("div",$,[e("div",G,[e("div",q,[e("div",J,[e("div",K,[t[8]||(t[8]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการสินค้า",-1)),e("div",Q,[b(u(c),{href:r.route("products.create"),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:l(()=>[...t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" เพิ่มสินค้า ",-1)])]),_:1},8,["href"]),e("button",{onClick:A,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),d(" ดาวน์โหลดแม่แบบ ",-1)])]),e("button",{onClick:D,class:"inline-flex items-center px-4 py-2 bg-orange-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-orange-700 focus:bg-orange-700 active:bg-orange-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition ease-in-out duration-150"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),d(" นำเข้า Excel ",-1)])]),b(u(c),{href:r.route("products.barcode-labels"),class:"inline-flex items-center px-4 py-2 bg-purple-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-700 focus:bg-purple-700 active:bg-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:l(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),d(" พิมพ์ Barcode ",-1)])]),_:1},8,["href"]),e("input",{ref_key:"fileInput",ref:m,type:"file",accept:".xlsx,.xls",onChange:T,class:"hidden"},null,544)])]),e("div",R,[e("div",null,[j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"ค้นหาสินค้า...",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,512),[[P,p.value]])]),e("div",null,[j(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[t[9]||(t[9]=e("option",{value:""},"หมวดหมู่ทั้งหมด",-1)),(n(!0),i(w,null,B(a.categories,s=>(n(),i("option",{key:s.id,value:s.id},o(s.name),9,W))),128))],512),[[z,x.value]])]),e("div",null,[j(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...t[10]||(t[10]=[e("option",{value:""},"สถานะทั้งหมด",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1),e("option",{value:"low_stock"},"สต็อกต่ำ",-1),e("option",{value:"out_of_stock"},"สินค้าหมด",-1)])],512),[[z,g.value]])]),e("div",null,[e("button",{onClick:F,class:"w-full px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out"}," ล้างตัวกรอง ")])]),e("div",X,[e("table",Y,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รูปภาพ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ชื่อสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รหัสสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," หมวดหมู่ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาขาย "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาต้นทุน "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สต็อก "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," จุดสั่งซื้อ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," การดำเนินการ ")])],-1)),e("tbody",Z,[(n(!0),i(w,null,B(a.products.data,s=>{var f;return n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",ee,[e("div",te,[s.image_path?(n(),i("img",{key:0,src:`/storage/${s.image_path}`,alt:s.name,class:"h-16 w-16 rounded-lg object-cover"},null,8,se)):(n(),i("div",re,[...t[11]||(t[11]=[e("svg",{class:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))])]),e("td",oe,[e("div",ne,o(s.name),1),e("div",ae,o(s.description),1)]),e("td",ie,o(s.sku),1),e("td",le,o(((f=s.category)==null?void 0:f.name)||"-"),1),e("td",de," ฿"+o(Number(s.selling_price).toLocaleString()),1),e("td",ue," ฿"+o(Number(s.cost_price).toLocaleString()),1),e("td",ce,[e("span",{class:k(s.current_stock<=s.reorder_point?"text-red-600 font-semibold":"")},o(s.current_stock),3)]),e("td",pe,o(s.reorder_point),1),e("td",xe,[e("span",{class:k([H(s),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},o(L(s)),3)]),e("td",ge,[e("div",fe,[b(u(c),{href:r.route("products.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:l(()=>[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),b(u(c),{href:r.route("products.edit",s.id),class:"text-yellow-600 hover:text-yellow-900"},{default:l(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:_e=>N(s.id),class:"text-red-600 hover:text-red-900"},[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,he)])])])}),128))])])]),a.products.links.length>3?(n(),i("div",me,[e("nav",ye,[e("div",ve,[a.products.prev_page_url?(n(),v(u(c),{key:0,href:a.products.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>[...t[16]||(t[16]=[d(" Previous ",-1)])]),_:1},8,["href"])):E("",!0),a.products.next_page_url?(n(),v(u(c),{key:1,href:a.products.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>[...t[17]||(t[17]=[d(" Next ",-1)])]),_:1},8,["href"])):E("",!0)]),e("div",be,[e("div",null,[e("p",we," Showing "+o(a.products.from)+" to "+o(a.products.to)+" of "+o(a.products.total)+" results ",1)]),e("div",null,[e("nav",ke,[(n(!0),i(w,null,B(a.products.links,(s,f)=>(n(),i(w,null,[s.url?(n(),v(u(c),{key:"link-"+f,href:s.url,class:k(["relative inline-flex items-center px-2 py-2 border text-sm font-medium",s.active?"z-10 bg-green-500 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:l(()=>[d(o(s.label),1)]),_:2},1032,["href","class"])):(n(),i("span",{key:"span-"+f,class:k(["relative inline-flex items-center px-2 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500"])},o(s.label),1))],64))),256))])])])])])):E("",!0)])])])])]),_:1}))}};export{Ve as default};
