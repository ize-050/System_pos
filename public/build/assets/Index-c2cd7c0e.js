import{m as H,z as S,C as E,G as M,o as O,D as p,H as V,I as h,w as y,a as i,d as j,e as l,E as v,b as e,i as m,p as f,g as w,v as F,h as P,c as d,k as D,t as x,q as L,F as A,j as k}from"./app-6ba43703.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                  */import{_ as I}from"./Pagination-1b8d9de0.js";/* empty css            */const T={components:{Head:H,Link:S,Pagination:I},props:{categories:Object,filters:Object},setup(a){var g,s;const t=E(),r=M({search:((g=a.filters)==null?void 0:g.search)||"",status:((s=a.filters)==null?void 0:s.status)||""});O(()=>{var o,c;(o=t.props.flash)!=null&&o.success&&p.success(t.props.flash.success,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),(c=t.props.flash)!=null&&c.error&&p.error(t.props.flash.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})});const n=V.debounce(()=>{h.get(route("categories.index"),r,{preserveState:!0,replace:!0})},300);return y(()=>r.search,n),y(()=>r.status,()=>{h.get(route("categories.index"),r,{preserveState:!0,replace:!0})}),{form:r,clearFilters:()=>{r.search="",r.status="",h.get(route("categories.index"))},getStatusClass:o=>o?"bg-green-100 text-green-800":"bg-red-100 text-red-800",formatDate:o=>{if(!o)return"ไม่ระบุ";try{return new Date(o).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})}catch{return"ไม่ระบุ"}},deleteCategory:o=>{if(o.products_count>0){p.error(`ไม่สามารถลบ "${o.name}" ได้ เนื่องจากมีสินค้า ${o.products_count} รายการ กรุณาย้ายหรือลบสินค้าก่อน`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}confirm(`คุณแน่ใจหรือไม่ที่จะลบหมวดหมู่ "${o.name}"? การกระทำนี้ไม่สามารถยกเลิกได้`)&&h.delete(route("categories.destroy",o.id),{onSuccess:()=>{p.success("หมวดหมู่ถูกลบเรียบร้อยแล้ว",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},onError:c=>{const B=c.message||"เกิดข้อผิดพลาดในการลบหมวดหมู่";p.error(B,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}})}}}},z={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},G={class:"p-6 bg-white border-b border-gray-200"},J={class:"mb-6 flex justify-between items-center"},K={class:"mb-6 flex flex-col sm:flex-row gap-4"},Q={class:"flex-1"},R={class:"w-full sm:w-48"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},$={class:"flex items-center"},ee={class:"flex-shrink-0 h-12 w-12"},te={key:0,class:"h-12 w-12 rounded-lg overflow-hidden border border-gray-300"},se=["src","alt"],oe={key:1,class:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center border border-gray-300"},re={class:"ml-4"},ae={class:"text-sm font-medium text-gray-900"},ne={class:"px-6 py-4"},ie=["title"],le={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm text-gray-900"},ue={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},ce={class:"px-6 py-4 whitespace-nowrap"},pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},me={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},xe={class:"flex items-center space-x-2"},ge=["onClick"],he={key:0,class:"text-center py-12"},fe={class:"mt-6"},ve={key:1,class:"mt-6"};function be(a,t,r,n,_,C){const u=v("Link"),b=v("Pagination"),g=v("AppLayout");return i(),j(g,{title:"จัดการหมวดหมู่สินค้า"},{header:l(()=>[...t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการหมวดหมู่สินค้า ",-1)])]),default:l(()=>[e("div",z,[e("div",U,[e("div",q,[e("div",G,[e("div",J,[t[7]||(t[7]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการหมวดหมู่สินค้า",-1)),m(u,{href:a.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:l(()=>[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" เพิ่มหมวดหมู่ใหม่ ",-1)])]),_:1},8,["href"])]),e("div",K,[e("div",Q,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.form.search=s),onInput:t[1]||(t[1]=(...s)=>a.search&&a.search(...s)),type:"text",placeholder:"ค้นหาหมวดหมู่...",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,544),[[F,n.form.search]])]),e("div",R,[w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.form.status=s),onChange:t[3]||(t[3]=(...s)=>a.search&&a.search(...s)),class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...t[8]||(t[8]=[e("option",{value:""},"สถานะทั้งหมด",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1)])],544),[[P,n.form.status]])]),e("button",{onClick:t[4]||(t[4]=(...s)=>n.clearFilters&&n.clearFilters(...s)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Clear ")]),e("div",W,[e("table",X,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ชื่อหมวดหมู่"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"คำอธิบาย"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"จำนวนสินค้า"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"สถานะ"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"วันที่สร้าง"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"การจัดการ")])],-1)),e("tbody",Y,[(i(!0),d(A,null,D(r.categories.data,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Z,[e("div",$,[e("div",ee,[s.image_url?(i(),d("div",te,[e("img",{src:s.image_url,alt:s.name,class:"h-full w-full object-cover"},null,8,se)])):(i(),d("div",oe,[...t[9]||(t[9]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)])]))]),e("div",re,[e("div",ae,x(s.name),1)])])]),e("td",ne,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:s.description},x(s.description||"ไม่มีคำอธิบาย"),9,ie)]),e("td",le,[e("div",de,[e("span",ue,x(s.products_count)+" สินค้า ",1)])]),e("td",ce,[e("span",{class:L(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.getStatusClass(s.is_active)])},x(s.is_active?"ใช้งาน":"ไม่ใช้งาน"),3)]),e("td",pe,x(n.formatDate(s.created_at)),1),e("td",me,[e("div",xe,[m(u,{href:a.route("categories.show",s.id),class:"text-blue-600 hover:text-blue-900 mr-3"},{default:l(()=>[...t[10]||(t[10]=[f(" ดู ",-1)])]),_:1},8,["href"]),m(u,{href:a.route("categories.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:l(()=>[...t[11]||(t[11]=[f(" แก้ไข ",-1)])]),_:1},8,["href"]),e("button",{onClick:o=>n.deleteCategory(s),class:"text-red-600 hover:text-red-900"}," ลบ ",8,ge)])])]))),128))])])]),r.categories.data.length===0?(i(),d("div",he,[t[14]||(t[14]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[15]||(t[15]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"ไม่พบหมวดหมู่สินค้า",-1)),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"},"เริ่มต้นด้วยการสร้างหมวดหมู่สินค้าใหม่",-1)),e("div",fe,[m(u,{href:a.route("categories.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:l(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" เพิ่มหมวดหมู่ ",-1)])]),_:1},8,["href"])])])):k("",!0),r.categories.data.length>0?(i(),d("div",ve,[m(b,{links:r.categories.links},null,8,["links"])])):k("",!0)])])])])]),_:1})}const Be=N(T,[["render",be]]);export{Be as default};
