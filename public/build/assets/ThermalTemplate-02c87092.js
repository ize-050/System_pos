import{J as y}from"./JsBarcode-7923fbe2.js";import{z as m,o as g,a as n,g as l,d as t,t as s,i as r,F as f,h as v,P as w}from"./app-6a986ce6.js";/* empty css            */const _={class:"text-center mb-2"},T={class:"font-bold text-lg"},k={class:"text-xs"},S={class:"text-xs"},p={key:0,class:"text-xs"},C={class:"border-t border-b border-dashed py-2 my-2 text-xs"},j={key:0},D={class:"w-full text-xs mb-2"},q={class:"py-1"},B={class:"text-right py-1"},N={class:"text-right py-1"},F={class:"border-t border-dashed pt-2 text-xs"},O={class:"flex justify-between"},P={key:0,class:"flex justify-between"},V={class:"flex justify-between font-bold text-base"},z={class:"flex justify-between"},H={class:"flex justify-between"},L={key:0,class:"text-center my-4"},$=["src"],A={key:1,class:"text-center my-2"},E=["id"],I={key:2,class:"text-center text-xs border-t border-dashed pt-2 mt-2"},W={__name:"ThermalTemplate",props:{sale:Object,settings:Object,qrCode:String,barcode:String},setup(e){const d=e,h=m(()=>d.settings.printer_type==="thermal_58mm"?"58mm":"80mm"),x=m(()=>({width:h.value,padding:"5mm",fontFamily:"monospace",fontSize:d.settings.printer_type==="thermal_58mm"?"10px":"12px"}));g(()=>{d.settings.show_barcode&&d.barcode&&y(`#barcode-thermal-${d.sale.id}`,d.barcode,{format:"CODE128",width:1,height:30,displayValue:!1})});const b=o=>o?new Date(o).toLocaleString("th-TH",{dateStyle:"short",timeStyle:"short"}):"-",i=o=>!o||isNaN(o)?"à¸¿0.00":new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(o);return(o,a)=>(n(),l("div",{class:"thermal-receipt",style:w([x.value,{border:"1px solid #ddd","box-shadow":"0 2px 8px rgba(0,0,0,0.1)",background:"white"}])},[t("div",_,[t("div",T,s(e.settings.shop_name),1),t("div",k,s(e.settings.shop_address),1),t("div",S,"Tel: "+s(e.settings.shop_phone),1),e.settings.tax_id?(n(),l("div",p,"Tax ID: "+s(e.settings.tax_id),1)):r("",!0)]),t("div",C,[t("div",null,"Receipt: "+s(e.sale.sale_number),1),t("div",null,"Date: "+s(b(e.sale.created_at)),1),e.sale.customer?(n(),l("div",j,"Customer: "+s(e.sale.customer.name),1)):r("",!0)]),t("table",D,[t("tbody",null,[(n(!0),l(f,null,v(e.sale.sale_items,c=>{var u;return n(),l("tr",{key:c.id,class:"border-b border-dashed"},[t("td",q,s((u=c.product)==null?void 0:u.name),1),t("td",B,s(c.quantity),1),t("td",N,s(i(c.total_price)),1)])}),128))])]),t("div",F,[t("div",O,[a[0]||(a[0]=t("span",null,"Subtotal:",-1)),t("span",null,s(i(e.sale.subtotal)),1)]),e.settings.show_vat?(n(),l("div",P,[a[1]||(a[1]=t("span",null,"VAT 7%:",-1)),t("span",null,s(i(e.sale.vat_amount)),1)])):r("",!0),t("div",V,[a[2]||(a[2]=t("span",null,"TOTAL:",-1)),t("span",null,s(i(e.sale.total_amount)),1)]),t("div",z,[a[3]||(a[3]=t("span",null,"Paid:",-1)),t("span",null,s(i(e.sale.paid_amount)),1)]),t("div",H,[a[4]||(a[4]=t("span",null,"Change:",-1)),t("span",null,s(i(e.sale.change_amount)),1)])]),e.settings.show_qr_code&&e.qrCode?(n(),l("div",L,[t("img",{src:`data:image/png;base64,${e.qrCode}`,class:"w-24 h-24 mx-auto"},null,8,$),a[5]||(a[5]=t("div",{class:"text-xs"},"Scan for PromptPay",-1))])):r("",!0),e.settings.show_barcode&&e.barcode?(n(),l("div",A,[(n(),l("svg",{id:`barcode-thermal-${e.sale.id}`,class:"mx-auto"},null,8,E))])):r("",!0),e.settings.show_notes&&e.settings.receipt_notes?(n(),l("div",I,s(e.settings.receipt_notes),1)):r("",!0),a[6]||(a[6]=t("div",{class:"text-center text-xs mt-4"},"*** Thank You ***",-1))],4))}};export{W as default};
