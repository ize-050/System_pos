import{J as b}from"./JsBarcode-1d58ba0a.js";import{o as h,a as l,g as o,d as t,i as a,t as n,m as d,F as x,h as f}from"./app-68daac91.js";/* empty css            */const v={class:"a4-receipt",style:{width:"210mm","min-height":"297mm",padding:"20mm","font-family":"'Sarabun', sans-serif"}},w={class:"text-center mb-8"},k=["src"],T={class:"text-3xl font-bold"},_={class:"text-sm"},j={class:"text-sm"},C={key:1,class:"text-sm"},N={key:0,class:"text-center mb-4"},D={class:"border-t border-b py-4 mb-4"},I={class:"grid grid-cols-2 gap-4 text-sm"},S={class:"text-right"},B={key:0,class:"col-span-2 mt-2 p-3 bg-gray-50 rounded border"},V={key:0},q={key:1},A={key:2},E={key:0},O={class:"text-right"},P={class:"w-full mb-4"},$={class:"py-2"},F={class:"text-center py-2"},H={class:"text-right py-2"},J={class:"text-right py-2"},L={class:"flex justify-end mb-8"},M={class:"w-64"},Q={class:"flex justify-between py-1"},R={key:0,class:"flex justify-between py-1 text-green-600"},X={key:1,class:"flex justify-between py-1"},z={key:2,class:"flex justify-between py-1"},G={class:"flex justify-between py-2 text-xl font-bold border-t-2"},K={class:"flex justify-between py-1"},U={class:"flex justify-between py-1"},W={class:"flex justify-between items-center mb-8"},Y={key:0,class:"text-center"},Z=["src"],p={key:1,class:"text-center"},tt=["id"],et={class:"text-xs mt-2"},ot={__name:"A4Template",props:{sale:Object,settings:Object,qrCode:String,barcode:String},setup(e){const c=e;h(()=>{c.settings.show_barcode&&c.barcode&&b(`#barcode-${c.sale.id}`,c.barcode,{format:"CODE128",width:2,height:50,displayValue:!1})});const y=r=>r?new Date(r).toLocaleString("th-TH"):"-",i=r=>!r||isNaN(r)?"฿0.00":new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(r);return(r,s)=>{var m;return l(),o("div",v,[t("div",w,[e.settings.show_logo&&e.settings.logo_path?(l(),o("img",{key:0,src:`/storage/${e.settings.logo_path}`,class:"h-20 mx-auto mb-4"},null,8,k)):a("",!0),t("h1",T,n(e.settings.shop_name),1),t("p",_,n(e.settings.shop_address),1),t("p",j,"Tel: "+n(e.settings.shop_phone)+" | Email: "+n(e.settings.shop_email),1),e.settings.tax_id?(l(),o("p",C,"Tax ID: "+n(e.settings.tax_id),1)):a("",!0)]),e.sale.invoice_type==="tax_invoice"?(l(),o("div",N,[...s[0]||(s[0]=[t("span",{class:"inline-block bg-green-100 text-green-800 text-lg font-bold px-6 py-2 rounded-lg border-2 border-green-500"}," ใบกำกับภาษี / TAX INVOICE ",-1)])])):a("",!0),t("div",D,[t("div",I,[t("div",null,[s[1]||(s[1]=t("strong",null,"เลขที่ / Receipt No:",-1)),d(" "+n(e.sale.sale_number),1)]),t("div",S,[s[2]||(s[2]=t("strong",null,"วันที่ / Date:",-1)),d(" "+n(y(e.sale.created_at)),1)]),e.sale.invoice_type==="tax_invoice"&&e.sale.tax_invoice_customer?(l(),o("div",B,[s[8]||(s[8]=t("p",{class:"font-bold text-base mb-1"},"ข้อมูลผู้ซื้อ / Customer Information:",-1)),t("p",null,[s[3]||(s[3]=t("strong",null,"ชื่อ / Name:",-1)),d(" "+n(e.sale.tax_invoice_customer.company_name||"-"),1)]),t("p",null,[s[4]||(s[4]=t("strong",null,"ที่อยู่ / Address:",-1)),d(" "+n(e.sale.tax_invoice_customer.address||"-"),1)]),e.sale.tax_invoice_customer.tax_id?(l(),o("p",V,[s[5]||(s[5]=t("strong",null,"เลขประจำตัวผู้เสียภาษี / Tax ID:",-1)),d(" "+n(e.sale.tax_invoice_customer.tax_id),1)])):a("",!0),e.sale.tax_invoice_customer.phone?(l(),o("p",q,[s[6]||(s[6]=t("strong",null,"โทร / Tel:",-1)),d(" "+n(e.sale.tax_invoice_customer.phone),1)])):a("",!0),e.sale.tax_invoice_customer.branch?(l(),o("p",A,[s[7]||(s[7]=t("strong",null,"สาขา / Branch:",-1)),d(" "+n(e.sale.tax_invoice_customer.branch),1)])):a("",!0)])):(l(),o(x,{key:1},[e.settings.show_customer_info&&e.sale.customer?(l(),o("div",E,[s[9]||(s[9]=t("strong",null,"ลูกค้า / Customer:",-1)),d(" "+n(e.sale.customer.name||e.sale.customer.company_name),1)])):a("",!0)],64)),t("div",O,[s[10]||(s[10]=t("strong",null,"พนักงาน / Cashier:",-1)),d(" "+n((m=e.sale.cashier)==null?void 0:m.name),1)])])]),t("table",P,[s[11]||(s[11]=t("thead",{class:"border-b-2"},[t("tr",null,[t("th",{class:"text-left py-2"},"Item"),t("th",{class:"text-center py-2"},"Qty"),t("th",{class:"text-right py-2"},"Price"),t("th",{class:"text-right py-2"},"Total")])],-1)),t("tbody",null,[(l(!0),o(x,null,f(e.sale.sale_items,u=>{var g;return l(),o("tr",{key:u.id,class:"border-b"},[t("td",$,n((g=u.product)==null?void 0:g.name),1),t("td",F,n(u.quantity),1),t("td",H,n(i(u.unit_price)),1),t("td",J,n(i(u.total_price)),1)])}),128))])]),t("div",L,[t("div",M,[t("div",Q,[s[12]||(s[12]=t("span",null,"Subtotal:",-1)),t("span",null,n(i(e.sale.subtotal)),1)]),e.sale.discount_amount>0?(l(),o("div",R,[s[13]||(s[13]=t("span",null,"ส่วนลด:",-1)),t("span",null,"-"+n(i(e.sale.discount_amount)),1)])):a("",!0),e.sale.shipping_fee>0?(l(),o("div",X,[s[14]||(s[14]=t("span",null,"ค่าจัดส่ง:",-1)),t("span",null,n(i(e.sale.shipping_fee)),1)])):a("",!0),e.settings.show_vat?(l(),o("div",z,[s[15]||(s[15]=t("span",null,"VAT 7%:",-1)),t("span",null,n(i(e.sale.vat_amount)),1)])):a("",!0),t("div",G,[s[16]||(s[16]=t("span",null,"Total:",-1)),t("span",null,n(i(e.sale.total_amount)),1)]),t("div",K,[s[17]||(s[17]=t("span",null,"Paid:",-1)),t("span",null,n(i(e.sale.paid_amount)),1)]),t("div",U,[s[18]||(s[18]=t("span",null,"Change:",-1)),t("span",null,n(i(e.sale.change_amount)),1)])])]),t("div",W,[e.settings.show_qr_code&&e.qrCode?(l(),o("div",Y,[t("img",{src:`data:image/png;base64,${e.qrCode}`,class:"w-32 h-32"},null,8,Z),s[19]||(s[19]=t("p",{class:"text-xs mt-2"},"Scan for PromptPay",-1))])):a("",!0),e.settings.show_barcode&&e.barcode?(l(),o("div",p,[(l(),o("svg",{id:`barcode-${e.sale.id}`,class:"mx-auto"},null,8,tt)),t("p",et,n(e.barcode),1)])):a("",!0)])])}}};export{ot as default};
