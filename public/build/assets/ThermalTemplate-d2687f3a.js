import{J as v}from"./JsBarcode-34df8461.js";import{z as m,o as g,a,g as i,d as e,t as n,i as l,F as x,h as f,N as w}from"./app-3d7f0e19.js";/* empty css            */const _={class:"text-center mb-2"},k={class:"font-bold text-lg"},T={class:"text-xs"},S={class:"text-xs"},j={key:0,class:"text-xs"},C={key:0,class:"text-center my-2 py-1 border border-dashed"},N={class:"border-t border-b border-dashed py-2 my-2 text-xs"},D={key:0,class:"mt-1 pt-1 border-t border-dashed"},q={key:0,class:"text-xs"},B={key:1},I={key:0},O={class:"w-full text-xs mb-2"},V={class:"py-1"},F={class:"text-right py-1"},z={class:"text-right py-1"},A={class:"border-t border-dashed pt-2 text-xs"},E={class:"flex justify-between"},H={key:0,class:"flex justify-between text-green-600"},L={key:1,class:"flex justify-between"},P={key:2,class:"flex justify-between"},$={class:"flex justify-between font-bold text-base"},J={class:"flex justify-between"},M={class:"flex justify-between"},W={key:1,class:"text-center my-4"},X=["src"],Y={key:2,class:"text-center my-2"},G=["id"],K={key:3,class:"text-center text-xs border-t border-dashed pt-2 mt-2"},Z={__name:"ThermalTemplate",props:{sale:Object,settings:Object,qrCode:String,barcode:String},setup(t){const r=t,y=m(()=>r.settings.printer_type==="thermal_58mm"?"58mm":"80mm"),b=m(()=>({width:y.value,padding:"5mm",fontFamily:"monospace",fontSize:r.settings.printer_type==="thermal_58mm"?"10px":"12px"}));g(()=>{r.settings.show_barcode&&r.barcode&&v(`#barcode-thermal-${r.sale.id}`,r.barcode,{format:"CODE128",width:1,height:30,displayValue:!1})});const h=o=>o?new Date(o).toLocaleString("th-TH",{dateStyle:"short",timeStyle:"short"}):"-",d=o=>!o||isNaN(o)?"฿0.00":new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(o);return(o,s)=>(a(),i("div",{class:"thermal-receipt",style:w([b.value,{border:"1px solid #ddd","box-shadow":"0 2px 8px rgba(0,0,0,0.1)",background:"white"}])},[e("div",_,[e("div",k,n(t.settings.shop_name),1),e("div",T,n(t.settings.shop_address),1),e("div",S,"Tel: "+n(t.settings.shop_phone),1),t.settings.tax_id?(a(),i("div",j,"Tax ID: "+n(t.settings.tax_id),1)):l("",!0)]),t.sale.invoice_type==="tax_invoice"?(a(),i("div",C,[...s[0]||(s[0]=[e("div",{class:"font-bold text-sm"},"ใบกำกับภาษี",-1),e("div",{class:"text-xs"},"TAX INVOICE",-1)])])):l("",!0),e("div",N,[e("div",null,"เลขที่: "+n(t.sale.sale_number),1),e("div",null,"วันที่: "+n(h(t.sale.created_at)),1),t.sale.invoice_type==="tax_invoice"&&t.sale.tax_invoice_customer?(a(),i("div",D,[s[1]||(s[1]=e("div",{class:"font-bold"},"ข้อมูลผู้ซื้อ:",-1)),e("div",null,n(t.sale.tax_invoice_customer.company_name),1),t.sale.tax_invoice_customer.address?(a(),i("div",q,n(t.sale.tax_invoice_customer.address),1)):l("",!0),t.sale.tax_invoice_customer.tax_id?(a(),i("div",B,"Tax ID: "+n(t.sale.tax_invoice_customer.tax_id),1)):l("",!0)])):(a(),i(x,{key:1},[t.sale.customer?(a(),i("div",I,"ลูกค้า: "+n(t.sale.customer.name||t.sale.customer.company_name),1)):l("",!0)],64))]),e("table",O,[e("tbody",null,[(a(!0),i(x,null,f(t.sale.sale_items,c=>{var u;return a(),i("tr",{key:c.id,class:"border-b border-dashed"},[e("td",V,n((u=c.product)==null?void 0:u.name),1),e("td",F,n(c.quantity),1),e("td",z,n(d(c.total_price)),1)])}),128))])]),e("div",A,[e("div",E,[s[2]||(s[2]=e("span",null,"Subtotal:",-1)),e("span",null,n(d(t.sale.subtotal)),1)]),t.sale.discount_amount>0?(a(),i("div",H,[s[3]||(s[3]=e("span",null,"ส่วนลด:",-1)),e("span",null,"-"+n(d(t.sale.discount_amount)),1)])):l("",!0),t.sale.shipping_fee>0?(a(),i("div",L,[s[4]||(s[4]=e("span",null,"ค่าจัดส่ง:",-1)),e("span",null,n(d(t.sale.shipping_fee)),1)])):l("",!0),t.settings.show_vat?(a(),i("div",P,[s[5]||(s[5]=e("span",null,"VAT 7%:",-1)),e("span",null,n(d(t.sale.vat_amount)),1)])):l("",!0),e("div",$,[s[6]||(s[6]=e("span",null,"TOTAL:",-1)),e("span",null,n(d(t.sale.total_amount)),1)]),e("div",J,[s[7]||(s[7]=e("span",null,"Paid:",-1)),e("span",null,n(d(t.sale.paid_amount)),1)]),e("div",M,[s[8]||(s[8]=e("span",null,"Change:",-1)),e("span",null,n(d(t.sale.change_amount)),1)])]),t.settings.show_qr_code&&t.qrCode?(a(),i("div",W,[e("img",{src:`data:image/png;base64,${t.qrCode}`,class:"w-24 h-24 mx-auto"},null,8,X),s[9]||(s[9]=e("div",{class:"text-xs"},"Scan for PromptPay",-1))])):l("",!0),t.settings.show_barcode&&t.barcode?(a(),i("div",Y,[(a(),i("svg",{id:`barcode-thermal-${t.sale.id}`,class:"mx-auto"},null,8,G))])):l("",!0),t.settings.show_notes&&t.settings.receipt_notes?(a(),i("div",K,n(t.settings.receipt_notes),1)):l("",!0),s[10]||(s[10]=e("div",{class:"text-center text-xs mt-4"},"*** Thank You ***",-1))],4))}};export{Z as default};
