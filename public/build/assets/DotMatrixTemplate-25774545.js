import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{z as k,a as i,g as o,d as t,t as a,i as m,F as x,m as c,h as D,q as C,N as R}from"./app-3d7f0e19.js";/* empty css            */const U={class:"header-section"},F={class:"shop-info"},V={class:"shop-name"},L={class:"shop-detail"},q={key:0,class:"shop-detail"},H={key:1,class:"shop-detail"},P={class:"shop-detail"},B={class:"doc-info"},z={class:"doc-detail-table"},j={class:"doc-value"},Q={class:"doc-value"},W={class:"doc-value"},X={class:"customer-row"},Y={class:"customer-table"},$={class:"cust-value",colspan:"3"},G={class:"cust-value",colspan:"3"},J={key:0},K={class:"cust-value",colspan:"3"},Z={key:1},p={class:"cust-value",colspan:"3"},tt={key:2},st={class:"cust-value",colspan:"3"},et={class:"cust-value",colspan:"3"},at={class:"cust-value",colspan:"3"},lt={key:0},it={class:"cust-value",colspan:"3"},ot={class:"items-table"},nt={class:"text-center"},dt={class:"text-center"},ct={class:"text-center"},rt={class:"text-right"},ut={class:"text-right"},mt={class:"summary-section"},_t={class:"summary-left"},vt={class:"amount-words"},ht={class:"summary-right"},bt={class:"summary-table-new"},gt={class:"sum-desc",rowspan:"4"},yt={class:"payment-info"},xt={class:"sum-value-right"},ft={key:0},Tt={class:"sum-value-right"},Nt={key:1},kt={class:"sum-value-right"},Dt={key:2},It={class:"sum-value-right"},St={class:"total-row"},Mt={class:"sum-value-right total-value"},wt={__name:"DotMatrixTemplate",props:{sale:{type:Object,required:!0},settings:{type:Object,required:!0}},setup(e){const f=e,I=k(()=>f.sale.tax_amount&&parseFloat(f.sale.tax_amount)>0),S=k(()=>({width:"210mm",minHeight:"270mm",padding:"5mm 8mm",fontFamily:'Tahoma, "Leelawadee UI", "Sarabun", sans-serif',fontSize:"10pt",lineHeight:"1.4",backgroundColor:"white",color:"black"})),M=l=>l?new Date(l).toLocaleDateString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",h=l=>!l||isNaN(l)?"0.00":new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l),w=l=>({cash:"เงินสด",transfer:"โอนเงิน",credit_card:"บัตรเครดิต",credit:"บัตรเครดิต"})[l]||l||"-",E=l=>{if(!l||isNaN(l))return"ศูนย์บาทถ้วน";const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],_=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"],u=Math.floor(l),n=Math.round((l-u)*100);if(u===0)return n>0?`${n} สตางค์`:"ศูนย์บาทถ้วน";let r="",y=u.toString(),b=y.length;for(let d=0;d<b;d++){let g=parseInt(y[d]),v=b-d-1;g!==0&&(v===1&&g===1?r+="สิบ":v===1&&g===2?r+="ยี่สิบ":v===0&&g===1&&b>1?r+="เอ็ด":r+=s[g]+_[v%7],v===6&&b>7&&(r+="ล้าน"))}return r+="บาท",n>0?r+=A(n)+"สตางค์":r+="ถ้วน",r},A=l=>{const s=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"];if(l<10)return s[l];const _=Math.floor(l/10),u=l%10;let n="";return _===1?n="สิบ":_===2?n="ยี่สิบ":n=s[_]+"สิบ",u===1?n+="เอ็ด":u>0&&(n+=s[u]),n};return(l,s)=>{var _,u,n,r,y,b;return i(),o("div",{class:"dot-matrix-receipt",style:R(S.value)},[t("div",U,[t("div",F,[t("div",V,a(e.settings.shop_name||"ชื่อร้านค้า"),1),t("div",L,a(e.settings.shop_address||""),1),e.settings.shop_phone?(i(),o("div",q,"โทร: "+a(e.settings.shop_phone),1)):m("",!0),e.settings.tax_id?(i(),o("div",H,"เลขประจำตัวผู้เสียภาษี: "+a(e.settings.tax_id),1)):m("",!0),t("div",P,"POS ID: "+a(e.sale.sale_number),1)]),t("div",B,[s[3]||(s[3]=t("div",{class:"doc-title-box"},[t("div",{class:"doc-note"},"ใบกำกับภาษี/ใบเสร็จรับเงิน"),t("div",{class:"doc-note-en"},"TAX INVOICE")],-1)),t("table",z,[t("tr",null,[s[0]||(s[0]=t("td",{class:"doc-label"},"เลขที่ / NO.",-1)),t("td",j,a(e.sale.sale_number),1)]),t("tr",null,[s[1]||(s[1]=t("td",{class:"doc-label"},"วันที่ / DATE",-1)),t("td",Q,a(M(e.sale.created_at)),1)]),t("tr",null,[s[2]||(s[2]=t("td",{class:"doc-label"},"CASHIER",-1)),t("td",W,a(((_=e.sale.cashier)==null?void 0:_.name)||"-"),1)])])])]),t("div",X,[t("table",Y,[e.sale.invoice_type==="tax_invoice"&&e.sale.tax_invoice_customer?(i(),o(x,{key:0},[t("tr",null,[s[4]||(s[4]=t("td",{class:"cust-label"},"CUSTOMER NAME",-1)),t("td",$,a(e.sale.tax_invoice_customer.company_name||"-"),1)]),t("tr",null,[s[5]||(s[5]=t("td",{class:"cust-label"},"ที่อยู่",-1)),t("td",G,a(e.sale.tax_invoice_customer.address||"-"),1)]),e.sale.tax_invoice_customer.tax_id?(i(),o("tr",J,[s[6]||(s[6]=t("td",{class:"cust-label"},"เลขประจำตัวผู้เสียภาษี",-1)),t("td",K,a(e.sale.tax_invoice_customer.tax_id),1)])):m("",!0),e.sale.tax_invoice_customer.phone?(i(),o("tr",Z,[s[7]||(s[7]=t("td",{class:"cust-label"},"โทรศัพท์",-1)),t("td",p,a(e.sale.tax_invoice_customer.phone),1)])):m("",!0),e.sale.tax_invoice_customer.branch?(i(),o("tr",tt,[s[8]||(s[8]=t("td",{class:"cust-label"},"สาขา",-1)),t("td",st,a(e.sale.tax_invoice_customer.branch),1)])):m("",!0)],64)):(i(),o(x,{key:1},[t("tr",null,[s[9]||(s[9]=t("td",{class:"cust-label"},"CUSTOMER NAME",-1)),t("td",et,a(((u=e.sale.customer)==null?void 0:u.company_name)||((n=e.sale.customer)==null?void 0:n.name)||"ลูกค้าทั่วไป"),1)]),t("tr",null,[s[10]||(s[10]=t("td",{class:"cust-label"},"ที่อยู่",-1)),t("td",at,a(((r=e.sale.customer)==null?void 0:r.address)||"-"),1)]),(y=e.sale.customer)!=null&&y.tax_id?(i(),o("tr",lt,[s[11]||(s[11]=t("td",{class:"cust-label"},"เลขประจำตัวผู้เสียภาษี",-1)),t("td",it,a(e.sale.customer.tax_id),1)])):m("",!0)],64))])]),t("table",ot,[s[13]||(s[13]=t("thead",null,[t("tr",{class:"items-header"},[t("th",{class:"col-qty"},[c("QUANTITY"),t("br"),c("จำนวน")]),t("th",{class:"col-article"},[c("ARTICLE"),t("br"),c("NUMBER")]),t("th",{class:"col-desc"},[c("ARTICLE DESCRIPTION"),t("br"),c("รายการสินค้า")]),t("th",{class:"col-unit"},[c("UNIT"),t("br"),c("หน่วย")]),t("th",{class:"col-price"},[c("UNIT PRICE"),t("br"),c("ราคา/หน่วย")]),t("th",{class:"col-amount"},[c("AMOUNT"),t("br"),c("จำนวนเงิน")])])],-1)),t("tbody",null,[(i(!0),o(x,null,D(e.sale.sale_items,(d,g)=>{var v,T,N;return i(),o("tr",{key:d.id,class:"item-row"},[t("td",nt,a(d.quantity),1),t("td",dt,a(((v=d.product)==null?void 0:v.sku)||"-"),1),t("td",null,a(((T=d.product)==null?void 0:T.name)||"-"),1),t("td",ct,a(((N=d.product)==null?void 0:N.unit)||"ชิ้น"),1),t("td",rt,a(h(d.unit_price)),1),t("td",ut,a(h(d.total_price)),1)])}),128)),(i(!0),o(x,null,D(Math.max(0,8-(((b=e.sale.sale_items)==null?void 0:b.length)||0)),d=>(i(),o("tr",{key:"empty-"+d,class:"item-row empty-row"},[...s[12]||(s[12]=[t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1),t("td",null," ",-1)])]))),128))])]),t("div",mt,[t("div",_t,[t("div",vt,"("+a(E(e.sale.total_amount))+")",1)]),t("div",ht,[t("table",bt,[t("tr",null,[t("td",gt,[t("div",yt,[s[14]||(s[14]=t("strong",null,"การชำระเงิน:",-1)),c(" "+a(w(e.sale.payment_method)),1)])]),s[15]||(s[15]=t("td",{class:"sum-label-right"},"รวมราคาสินค้า",-1)),t("td",xt,a(h(e.sale.subtotal||0)),1)]),I.value?(i(),o("tr",ft,[s[16]||(s[16]=t("td",{class:"sum-label-right"},"ภาษีมูลค่าเพิ่ม VAT 7%",-1)),t("td",Tt,a(h(e.sale.tax_amount||0)),1)])):m("",!0),e.sale.discount_amount>0?(i(),o("tr",Nt,[s[17]||(s[17]=t("td",{class:"sum-label-right"},"ส่วนลด",-1)),t("td",kt,"-"+a(h(e.sale.discount_amount)),1)])):m("",!0),e.sale.shipping_fee>0?(i(),o("tr",Dt,[s[18]||(s[18]=t("td",{class:"sum-label-right"},"ค่าจัดส่ง",-1)),t("td",It,a(h(e.sale.shipping_fee)),1)])):m("",!0),t("tr",St,[s[19]||(s[19]=t("td",{class:"sum-label-right total-label"},"รวมทั้งสิ้น (TOTAL)",-1)),t("td",Mt,a(h(e.sale.total_amount)),1)])])])]),s[20]||(s[20]=C('<div class="signature-section" data-v-24ce48ca><table class="signature-table" data-v-24ce48ca><tr data-v-24ce48ca><td class="signature-box" data-v-24ce48ca><div class="signature-line" data-v-24ce48ca></div><div class="signature-label" data-v-24ce48ca>ผู้รับสินค้า / Received by</div><div class="signature-date" data-v-24ce48ca>วันที่ / Date _______________</div></td><td class="signature-box" data-v-24ce48ca><div class="signature-line" data-v-24ce48ca></div><div class="signature-label" data-v-24ce48ca>ผู้ส่งสินค้า / Delivered by</div><div class="signature-date" data-v-24ce48ca>วันที่ / Date _______________</div></td><td class="signature-box" data-v-24ce48ca><div class="signature-line" data-v-24ce48ca></div><div class="signature-label" data-v-24ce48ca>ผู้อนุมัติ / Approved by</div><div class="signature-date" data-v-24ce48ca>วันที่ / Date _______________</div></td></tr></table></div>',1))],4)}}},Ct=O(wt,[["__scopeId","data-v-24ce48ca"]]);export{Ct as default};
