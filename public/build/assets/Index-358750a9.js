import{B as T,a as n,c as x,w as d,d as e,j as y,m as g,k as u,x as c,p as z,e as h,v as L,f as w,g as i,h as _,t as r,n as p,F as b,i as k,E as j}from"./app-68daac91.js";import{A as D}from"./AppLayout-ea36af8e.js";/* empty css            */import"./ApplicationLogo-9b15c312.js";import"./_plugin-vue_export-helper-c27b6911.js";const N={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},A={class:"p-6 bg-white border-b border-gray-200"},F={class:"flex justify-between items-center"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},q={class:"p-6"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},X={class:"bg-white divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap"},P={class:"text-sm font-medium text-gray-900"},G={class:"text-sm text-gray-500"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={key:0},R={key:1},W={key:2},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ee={class:"text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={key:0},oe={key:1,class:"text-gray-500"},ne={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ae={class:"flex justify-end space-x-2"},ie=["onClick"],le={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},de={class:"flex items-center justify-between"},ue={class:"flex-1 flex justify-between sm:hidden"},ce={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},xe={class:"text-sm text-gray-700"},ge={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},be={__name:"Index",props:{promotions:Object,filters:Object},setup(a){const m=a,l=T({search:m.filters.search||"",type:m.filters.type||"",status:m.filters.status||""}),C=()=>{j.get(route("promotions.index"),l,{preserveState:!0,replace:!0})},B=o=>{confirm(`คุณต้องการลบโปรโมชั่น "${o.name}" หรือไม่?`)&&j.delete(route("promotions.destroy",o.id))},M=o=>({percentage:"ส่วนลดเปอร์เซ็นต์",fixed_amount:"ส่วนลดจำนวนเงิน",buy_x_get_y:"ซื้อ X ได้ Y"})[o]||o,V=o=>({percentage:"bg-blue-100 text-blue-800",fixed_amount:"bg-green-100 text-green-800",buy_x_get_y:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",H=o=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(o),v=o=>new Date(o).toLocaleDateString("th-TH");return(o,t)=>(n(),x(D,{title:"จัดการโปรโมชั่น"},{default:d(()=>[e("div",N,[e("div",S,[e("div",$,[e("div",A,[e("div",F,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"จัดการโปรโมชั่น"),e("p",{class:"text-gray-600 mt-1"},"จัดการโปรโมชั่นและส่วนลดสำหรับสินค้า")],-1)),y(u(c),{href:o.route("promotions.create"),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:d(()=>[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" เพิ่มโปรโมชั่น ",-1)])]),_:1},8,["href"])])])]),e("div",U,[e("div",q,[e("form",{onSubmit:z(C,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ค้นหา",-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.search=s),type:"text",placeholder:"ชื่อโปรโมชั่น...",class:"w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},null,512),[[L,l.search]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ประเภท",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.type=s),class:"w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[...t[6]||(t[6]=[e("option",{value:""},"ทั้งหมด",-1),e("option",{value:"percentage"},"ส่วนลดเปอร์เซ็นต์",-1),e("option",{value:"fixed_amount"},"ส่วนลดจำนวนเงิน",-1),e("option",{value:"buy_x_get_y"},"ซื้อ X ได้ Y",-1)])],512),[[w,l.type]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"สถานะ",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.status=s),class:"w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm"},[...t[8]||(t[8]=[e("option",{value:""},"ทั้งหมด",-1),e("option",{value:"1"},"เปิดใช้งาน",-1),e("option",{value:"0"},"ปิดใช้งาน",-1)])],512),[[w,l.status]])]),t[10]||(t[10]=e("div",{class:"flex items-end"},[e("button",{type:"submit",class:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," ค้นหา ")],-1))],32)])]),e("div",E,[e("div",I,[e("table",O,[t[14]||(t[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," โปรโมชั่น "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ประเภท "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ค่าส่วนลด "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ระยะเวลา "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," การใช้งาน "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," จัดการ ")])],-1)),e("tbody",X,[(n(!0),i(b,null,_(a.promotions.data,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Y,[e("div",null,[e("div",P,r(s.name),1),e("div",G,r(s.description),1)])]),e("td",J,[e("span",{class:p(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",V(s.type)])},r(M(s.type)),3)]),e("td",K,[s.type==="percentage"?(n(),i("span",Q,r(s.value)+"%",1)):s.type==="fixed_amount"?(n(),i("span",R,r(H(s.value)),1)):(n(),i("span",W,"ซื้อ "+r(s.minimum_quantity)+" ได้ "+r(s.free_quantity),1))]),e("td",Z,[e("div",null,r(v(s.start_date)),1),e("div",ee,"ถึง "+r(v(s.end_date)),1)]),e("td",te,[e("span",{class:p(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(s.is_active?"เปิดใช้งาน":"ปิดใช้งาน"),3)]),e("td",se,[s.usage_limit?(n(),i("div",re,r(s.used_count||0)+" / "+r(s.usage_limit),1)):(n(),i("div",oe,"ไม่จำกัด"))]),e("td",ne,[e("div",ae,[y(u(c),{href:o.route("promotions.show",s.id),class:"text-green-600 hover:text-green-900"},{default:d(()=>[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),y(u(c),{href:o.route("promotions.edit",s.id),class:"text-blue-600 hover:text-blue-900"},{default:d(()=>[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:f=>B(s),class:"text-red-600 hover:text-red-900"},[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ie)])])]))),128))])])]),e("div",le,[e("div",de,[e("div",ue,[a.promotions.prev_page_url?(n(),x(u(c),{key:0,href:a.promotions.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:d(()=>[...t[15]||(t[15]=[g(" ก่อนหน้า ",-1)])]),_:1},8,["href"])):k("",!0),a.promotions.next_page_url?(n(),x(u(c),{key:1,href:a.promotions.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:d(()=>[...t[16]||(t[16]=[g(" ถัดไป ",-1)])]),_:1},8,["href"])):k("",!0)]),e("div",ce,[e("div",null,[e("p",xe," แสดง "+r(a.promotions.from)+" ถึง "+r(a.promotions.to)+" จาก "+r(a.promotions.total)+" รายการ ",1)]),e("div",null,[e("nav",ge,[(n(!0),i(b,null,_(a.promotions.links,(s,f)=>(n(),i(b,null,[s.url?(n(),x(u(c),{key:`link-${f}`,href:s.url,class:p(["relative inline-flex items-center px-2 py-2 border text-sm font-medium",s.active?"z-10 bg-green-50 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:d(()=>[g(r(s.label),1)]),_:2},1032,["href","class"])):(n(),i("span",{key:`span-${f}`,class:p(["relative inline-flex items-center px-2 py-2 border text-sm font-medium","bg-white border-gray-300 text-gray-300 cursor-not-allowed"])},r(s.label),1))],64))),256))])])])])])])])])]),_:1}))}};export{be as default};
