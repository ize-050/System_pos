import{r as S,o as Q,n as X,a as n,d as Y,e as y,b as t,g as P,v as E,t as a,q as z,c as d,p as j,k as D,j as p,F as A,i as R,l as U,z as W,I as $}from"./app-6ba43703.js";import{A as tt}from"./AppLayout-ac0cd7e0.js";import{C as M,r as st}from"./chart-e7add24e.js";/* empty css            */import"./ApplicationLogo-9fe9ca86.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                  */const et={class:"flex justify-between items-center"},ot={class:"flex space-x-2"},rt={class:"py-3 sm:py-4 lg:py-6"},lt={class:"max-w-full mx-auto px-3 sm:px-4 lg:px-6"},at={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 mb-4 sm:mb-6 lg:mb-8"},nt={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200"},dt={class:"p-4 sm:p-6"},it={class:"flex items-center"},ct={class:"ml-4 sm:ml-5"},mt={class:"text-xl sm:text-2xl font-bold text-gray-900 mt-1"},ut={class:"mt-3 sm:mt-4"},gt={class:"flex items-center text-sm"},ht={key:0,class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xt={key:1,class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200"},pt={class:"p-4 sm:p-6"},vt={class:"flex items-center"},bt={class:"ml-4 sm:ml-5"},yt={class:"text-xl sm:text-2xl font-bold text-gray-900 mt-1"},_t={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200"},wt={class:"p-4 sm:p-6"},kt={class:"flex items-center"},Ct={class:"ml-4 sm:ml-5"},Bt={class:"text-xl sm:text-2xl font-bold text-gray-900 mt-1"},St={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200"},jt={class:"p-4 sm:p-6"},Dt={class:"flex items-center"},At={class:"ml-4 sm:ml-5"},Mt={class:"text-xl sm:text-2xl font-bold text-gray-900 mt-1"},Ft={class:"grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8"},Tt={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100"},It={class:"p-4 sm:p-6"},Vt={class:"h-48 sm:h-64"},Ot={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100"},Lt={class:"p-4 sm:p-6"},Nt={class:"h-48 sm:h-64"},Ht={class:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8"},Pt={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100"},Et={class:"p-4 sm:p-6"},zt={class:"space-y-3"},Rt={class:"flex items-center"},Ut={key:0,class:"flex-shrink-0 h-10 w-10"},Wt=["src","alt"],Zt={class:"ml-3"},qt={class:"text-sm font-medium text-gray-900"},Gt={class:"text-xs text-gray-500"},Jt={class:"text-sm font-semibold text-gray-900"},Kt={key:0,class:"text-center text-gray-500 py-8"},Qt={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100"},Xt={class:"p-4 sm:p-6"},Yt={class:"flex justify-between items-center mb-4"},$t={class:"space-y-3"},ts={class:"text-sm font-medium text-gray-900"},ss={class:"text-xs text-gray-500"},es={class:"text-sm font-semibold text-gray-900"},os={key:0,class:"text-center text-gray-500 py-8"},rs={key:0,class:"mt-4 sm:mt-6 lg:mt-8"},ls={class:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-100"},as={class:"p-4 sm:p-6"},ns={class:"flex justify-between items-center mb-4"},ds={class:"overflow-x-auto"},is={class:"min-w-full divide-y divide-gray-200"},cs={class:"bg-white divide-y divide-gray-200"},ms={class:"px-3 sm:px-6 py-4 whitespace-nowrap"},us={class:"flex items-center"},gs={key:0,class:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10"},hs=["src","alt"],xs={class:"ml-2 sm:ml-4"},fs={class:"text-sm font-medium text-gray-900"},ps={class:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-900"},vs={class:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},bs={class:"px-3 sm:px-6 py-4 whitespace-nowrap"},js={__name:"Dashboard",props:{statistics:Object,sales_trend:Array,top_products:Array,payment_methods:Array,recent_sales:Array,low_stock_items:Array,filters:Object},setup(l){var T,I;M.register(...st);const m=l,f=S({start_date:((T=m.filters)==null?void 0:T.start_date)||new Date().toISOString().split("T")[0],end_date:((I=m.filters)==null?void 0:I.end_date)||new Date().toISOString().split("T")[0]}),_=S(null),w=S(null);let k=null,C=null;const B=r=>parseFloat(r||0).toFixed(2),Z=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),q=r=>r<=0?"à¸«à¸¡à¸”":r<=5?"à¸§à¸´à¸à¸¤à¸•":r<=10?"à¹ƒà¸à¸¥à¹‰à¸«à¸¡à¸”":"à¸¡à¸µà¸ªà¸•à¹‡à¸­à¸",G=r=>r<=0||r<=5?"bg-red-100 text-red-800":r<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",F=()=>{$.get(route("dashboard"),f.value,{preserveState:!0,preserveScroll:!0})},J=()=>{if(!_.value||!m.sales_trend||m.sales_trend.length===0)return;const r=_.value.getContext("2d");k&&k.destroy();const s=[],c=new Date;for(let o=6;o>=0;o--){const i=new Date(c);i.setDate(i.getDate()-o),s.push(i.toISOString().split("T")[0])}const x=s.map(o=>{const i=m.sales_trend.find(g=>g.date===o);return i?parseFloat(i.total):0}),u=s.map(o=>new Date(o).toLocaleDateString("th-TH",{day:"2-digit",month:"short"}));k=new M(r,{type:"line",data:{labels:u,datasets:[{label:"à¸¢à¸­à¸”à¸‚à¸²à¸¢ (à¸šà¸²à¸—)",data:x,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",callbacks:{label:function(o){return"à¸¢à¸­à¸”à¸‚à¸²à¸¢: à¸¿"+new Intl.NumberFormat("th-TH").format(o.parsed.y)}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(o){return"à¸¿"+new Intl.NumberFormat("th-TH").format(o)}}},x:{grid:{display:!1}}}}})},K=()=>{if(!w.value||!m.top_products||m.top_products.length===0)return;const r=w.value.getContext("2d");C&&C.destroy();const s=m.top_products.slice(0,5),c=s.map(o=>o.name),x=s.map(o=>parseFloat(o.total_revenue)),u=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"];C=new M(r,{type:"doughnut",data:{labels:c,datasets:[{data:x,backgroundColor:u,borderColor:u.map(o=>o.replace("0.8","1")),borderWidth:2,hoverOffset:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",callbacks:{label:function(o){const i=o.label||"",g=o.parsed,v=o.dataset.data.reduce((h,b)=>h+b,0),e=(g/v*100).toFixed(1);return i+": à¸¿"+new Intl.NumberFormat("th-TH").format(g)+" ("+e+"%)"}}}}}})};return Q(()=>{X(()=>{J(),K()})}),(r,s)=>(n(),Y(tt,{title:"à¹à¸”à¸Šà¸šà¸­à¸£à¹Œà¸” - POS System"},{header:y(()=>[t("div",et,[s[2]||(s[2]=t("h2",{class:"font-semibold text-xl leading-tight",style:{color:"#2D3748"}}," ðŸª à¹à¸”à¸Šà¸šà¸­à¸£à¹Œà¸” POS System ",-1)),t("div",ot,[P(t("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>f.value.start_date=c),type:"date",class:"border rounded-md shadow-sm focus:outline-none focus:ring-2",style:{"border-color":"#E2E8F0","--tw-ring-color":"#6B7B47"},onChange:F},null,544),[[E,f.value.start_date]]),P(t("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>f.value.end_date=c),type:"date",class:"border rounded-md shadow-sm focus:outline-none focus:ring-2",style:{"border-color":"#E2E8F0","--tw-ring-color":"#6B7B47"},onChange:F},null,544),[[E,f.value.end_date]])])])]),default:y(()=>{var c,x,u,o,i,g,v;return[t("div",rt,[t("div",lt,[t("div",at,[t("div",nt,[t("div",dt,[t("div",it,[s[4]||(s[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",ct,[s[3]||(s[3]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500 truncate"},"à¸¢à¸­à¸”à¸‚à¸²à¸¢à¸£à¸§à¸¡",-1)),t("p",mt," à¸¿"+a(B(((c=l.statistics)==null?void 0:c.total_sales)||0)),1)])]),t("div",ut,[t("div",gt,[t("span",{class:z([(((x=l.statistics)==null?void 0:x.monthly_growth)||0)>=0?"text-green-600":"text-red-600","flex items-center font-medium"])},[(((u=l.statistics)==null?void 0:u.monthly_growth)||0)>=0?(n(),d("svg",ht,[...s[5]||(s[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])])):(n(),d("svg",xt,[...s[6]||(s[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"},null,-1)])])),j(" "+a(Math.abs(((o=l.statistics)==null?void 0:o.monthly_growth)||0))+"% ",1)],2),s[7]||(s[7]=t("span",{class:"text-gray-500 ml-2"},"à¹€à¸—à¸µà¸¢à¸šà¸à¸±à¸šà¹€à¸”à¸·à¸­à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§",-1))])])])]),t("div",ft,[t("div",pt,[t("div",vt,[s[9]||(s[9]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])])],-1)),t("div",bt,[s[8]||(s[8]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500 truncate"},"à¸ˆà¸³à¸™à¸§à¸™à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ",-1)),t("p",yt,a(((i=l.statistics)==null?void 0:i.total_orders)||0),1)])])])]),t("div",_t,[t("div",wt,[t("div",kt,[s[11]||(s[11]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",Ct,[s[10]||(s[10]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500 truncate"},"à¸ˆà¸³à¸™à¸§à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)),t("p",Bt,a(((g=l.statistics)==null?void 0:g.total_products)||0),1)])])])]),t("div",St,[t("div",jt,[t("div",Dt,[s[13]||(s[13]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),t("div",At,[s[12]||(s[12]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500 truncate"},"à¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸à¸¥à¹‰à¸«à¸¡à¸”",-1)),t("p",Mt,a(((v=l.statistics)==null?void 0:v.low_stock_products)||0),1)])])])])]),t("div",Ft,[t("div",Tt,[t("div",It,[s[14]||(s[14]=t("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-4"},"ðŸ“ˆ à¹à¸™à¸§à¹‚à¸™à¹‰à¸¡à¸à¸²à¸£à¸‚à¸²à¸¢ (7 à¸§à¸±à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”)",-1)),t("div",Vt,[t("canvas",{ref_key:"salesChart",ref:_},null,512)])])]),t("div",Ot,[t("div",Lt,[s[15]||(s[15]=t("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-4"},"ðŸ† à¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸‚à¸²à¸¢à¸”à¸µ",-1)),t("div",Nt,[t("canvas",{ref_key:"paymentChart",ref:w},null,512)])])])]),t("div",Ht,[t("div",Pt,[t("div",Et,[s[16]||(s[16]=t("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-4"},"ðŸ† à¸ªà¸´à¸™à¸„à¹‰à¸²à¸‚à¸²à¸¢à¸”à¸µ",-1)),t("div",zt,[(n(!0),d(A,null,D(l.top_products,e=>(n(),d("div",{key:e.name,class:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors"},[t("div",Rt,[e.image?(n(),d("div",Ut,[t("img",{class:"h-10 w-10 rounded-full object-cover",src:e.image,alt:e.name},null,8,Wt)])):p("",!0),t("div",Zt,[t("div",qt,a(e.name),1),t("div",Gt,"à¸‚à¸²à¸¢à¹à¸¥à¹‰à¸§ "+a(e.total_sold)+" à¸Šà¸´à¹‰à¸™",1)])]),t("div",Jt," à¸¿"+a(B(e.total_revenue)),1)]))),128)),!l.top_products||l.top_products.length===0?(n(),d("div",Kt," à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸‚à¸²à¸¢ ")):p("",!0)])])]),t("div",Qt,[t("div",Xt,[t("div",Yt,[s[18]||(s[18]=t("h3",{class:"text-base sm:text-lg font-semibold text-gray-900"},"ðŸ•’ à¸à¸²à¸£à¸‚à¸²à¸¢à¸¥à¹ˆà¸²à¸ªà¸¸à¸”",-1)),R(U(W),{href:r.route("sales.index"),class:"text-sm font-medium transition-colors",style:{color:"#6B7B47"},onmouseover:"this.style.color='#8A9B5A'",onmouseout:"this.style.color='#6B7B47'"},{default:y(()=>[...s[17]||(s[17]=[j(" à¸”à¸¹à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ",-1)])]),_:1},8,["href"])]),t("div",$t,[(n(!0),d(A,null,D(l.recent_sales,e=>{var h;return n(),d("div",{key:e.id,class:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors"},[t("div",null,[t("div",ts," à¸à¸²à¸£à¸‚à¸²à¸¢ #"+a(e.id.toString().padStart(6,"0")),1),t("div",ss,a(((h=e.cashier)==null?void 0:h.name)||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸")+" â€¢ "+a(Z(e.created_at)),1)]),t("div",es," à¸¿"+a(B(e.total_amount)),1)])}),128)),!l.recent_sales||l.recent_sales.length===0?(n(),d("div",os," à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸‚à¸²à¸¢à¸¥à¹ˆà¸²à¸ªà¸¸à¸” ")):p("",!0)])])])]),l.low_stock_items&&l.low_stock_items.length>0?(n(),d("div",rs,[t("div",ls,[t("div",as,[t("div",ns,[s[20]||(s[20]=t("h3",{class:"text-base sm:text-lg font-semibold text-gray-900"},"âš ï¸ à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸à¸¥à¹‰à¸«à¸¡à¸”",-1)),R(U(W),{href:r.route("stocks.index"),class:"text-sm font-medium transition-colors",style:{color:"#6B7B47"},onmouseover:"this.style.color='#8A9B5A'",onmouseout:"this.style.color='#6B7B47'"},{default:y(()=>[...s[19]||(s[19]=[j(" à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸ ",-1)])]),_:1},8,["href"])]),t("div",ds,[t("table",is,[s[21]||(s[21]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," à¸ªà¸´à¸™à¸„à¹‰à¸² "),t("th",{class:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ "),t("th",{class:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," à¸ªà¸•à¹‡à¸­à¸à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ "),t("th",{class:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," à¸ªà¸–à¸²à¸™à¸° ")])],-1)),t("tbody",cs,[(n(!0),d(A,null,D(l.low_stock_items,e=>{var h,b,V,O,L,N,H;return n(),d("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[t("td",ms,[t("div",us,[e.image?(n(),d("div",gs,[t("img",{class:"h-8 w-8 sm:h-10 sm:w-10 rounded-full object-cover",src:e.image,alt:e.name},null,8,hs)])):p("",!0),t("div",xs,[t("div",fs,a(e.name),1)])])]),t("td",ps,a(((h=e.category)==null?void 0:h.name)||"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸"),1),t("td",vs,a(((V=(b=e.stocks)==null?void 0:b[0])==null?void 0:V.quantity)||0),1),t("td",bs,[t("span",{class:z([G(((L=(O=e.stocks)==null?void 0:O[0])==null?void 0:L.quantity)||0),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(q(((H=(N=e.stocks)==null?void 0:N[0])==null?void 0:H.quantity)||0)),3)])])}),128))])])])])])])):p("",!0)])])]}),_:1}))}};export{js as default};
