import{z as E,a as d,c as D,w as g,d as t,g as n,i as l,t as r,F as C,n as F,m as a,h as L,j as R,k as S,x as T,G as x}from"./app-6a986ce6.js";import{A as G}from"./AppLayout-c0397362.js";/* empty css            */import"./ApplicationLogo-88d45659.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white shadow-sm rounded-lg p-6"},q={class:"print-header mb-8"},Q={class:"text-center mb-6"},$={key:0,class:"mb-4 flex justify-center"},J=["src"],K={class:"grid grid-cols-2 gap-8 mb-6"},W={class:"border-2 border-gray-300 p-4 rounded"},X={class:"font-semibold text-lg"},Y={key:0,class:"text-sm text-gray-600"},Z={key:2,class:"text-sm text-gray-600 mt-2"},tt={key:3,class:"text-sm text-gray-600"},et={class:"border-2 border-gray-300 p-4 rounded"},st={class:"font-semibold text-lg"},rt={class:"text-sm text-gray-600"},ot={class:"text-sm text-gray-600"},dt={class:"text-sm text-gray-600 mt-2"},at={class:"text-sm text-gray-600"},nt={class:"grid grid-cols-3 gap-4 mb-6 bg-gray-50 p-4 rounded"},lt={class:"font-bold text-lg text-blue-600"},it={class:"font-semibold"},ct={class:"font-semibold"},ut={class:"no-print mb-4"},gt={class:"mb-6"},xt={class:"min-w-full border-2 border-gray-300"},bt={class:"border border-gray-300 px-4 py-2 text-center"},pt={class:"border border-gray-300 px-4 py-2"},yt={class:"border border-gray-300 px-4 py-2 text-center"},ht={class:"border border-gray-300 px-4 py-2 text-right"},mt={class:"border border-gray-300 px-4 py-2 text-right font-semibold"},ft={class:"flex justify-end mb-8"},vt={class:"w-96 border-2 border-gray-300 p-4"},_t={class:"flex justify-between py-2 text-base"},Ot={class:"font-semibold"},wt={class:"flex justify-between py-2 text-base border-t"},kt={class:"font-semibold"},jt={class:"flex justify-between py-2 text-base border-t"},Dt={class:"font-semibold"},Ct={class:"flex justify-between py-3 text-lg font-bold border-t-2 border-gray-400 bg-gray-50"},St={class:"text-blue-600"},Tt={key:0,class:"mb-6 border-2 border-gray-300 p-4"},Bt={class:"text-gray-600"},Nt={class:"flex justify-end gap-2"},Et={__name:"Show",props:{purchaseOrder:Object,settings:Object},setup(s){const c=s,b=E(()=>{var o;return(o=c.settings)!=null&&o.logo_path?`/storage/${c.settings.logo_path}`:null}),p=o=>new Date(o).toLocaleDateString("th-TH"),i=o=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(o||0),B=o=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",shipping:"bg-blue-100 text-blue-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",N=o=>({draft:"ฉบับร่าง",pending:"รอดำเนินการ",shipping:"กำลังจัดส่ง",received:"รับสินค้าแล้ว",cancelled:"ยกเลิก"})[o]||o,A=()=>{confirm("คุณต้องการส่งใบสั่งซื้อนี้ใช่หรือไม่?")&&x.post(route("purchase-orders.send",c.purchaseOrder.id))},H=()=>{x.get(route("purchase-orders.receive",c.purchaseOrder.id))},P=()=>{confirm("คุณต้องการลบใบสั่งซื้อนี้ใช่หรือไม่? การกระทำนี้ไม่สามารถย้อนกลับได้")&&x.delete(route("purchase-orders.destroy",c.purchaseOrder.id))},V=()=>{window.print()};return(o,e)=>(d(),D(G,{title:"Purchase Order Details"},{header:g(()=>[...e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight no-print"},"รายละเอียดใบสั่งซื้อ",-1)])]),default:g(()=>{var y,h,m,f,v,_,O,w,k,j;return[t("div",M,[t("div",U,[t("div",I,[t("div",q,[t("div",Q,[(y=s.settings)!=null&&y.show_logo&&b.value?(d(),n("div",$,[t("img",{src:b.value,alt:"Shop Logo",class:"h-20 object-contain"},null,8,J)])):l("",!0),e[1]||(e[1]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"ใบสั่งซื้อสินค้า",-1)),e[2]||(e[2]=t("h2",{class:"text-xl text-gray-600"},"PURCHASE ORDER",-1))]),t("div",K,[t("div",W,[e[6]||(e[6]=t("h3",{class:"font-bold text-lg mb-2 text-gray-700"},"จาก / FROM:",-1)),t("p",X,r(((h=s.settings)==null?void 0:h.shop_name)||"ร้านค้า POS"),1),(m=s.settings)!=null&&m.shop_address?(d(),n("p",Y,r(s.settings.shop_address),1)):(d(),n(C,{key:1},[e[3]||(e[3]=t("p",{class:"text-sm text-gray-600"},"123 ถนนสุขุมวิท",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-gray-600"},"แขวงคลองเตย เขตคลองเตย",-1)),e[5]||(e[5]=t("p",{class:"text-sm text-gray-600"},"กรุงเทพฯ 10110",-1))],64)),(f=s.settings)!=null&&f.shop_phone?(d(),n("p",Z,"โทร: "+r(s.settings.shop_phone),1)):l("",!0),(v=s.settings)!=null&&v.tax_id?(d(),n("p",tt,"เลขประจำตัวผู้เสียภาษี: "+r(s.settings.tax_id),1)):l("",!0)]),t("div",et,[e[7]||(e[7]=t("h3",{class:"font-bold text-lg mb-2 text-gray-700"},"ถึง / TO:",-1)),t("p",st,r((_=s.purchaseOrder.supplier)==null?void 0:_.name),1),t("p",rt,r((O=s.purchaseOrder.supplier)==null?void 0:O.contact_person),1),t("p",ot,r((w=s.purchaseOrder.supplier)==null?void 0:w.address),1),t("p",dt,"โทร: "+r((k=s.purchaseOrder.supplier)==null?void 0:k.phone),1),t("p",at,"อีเมล: "+r((j=s.purchaseOrder.supplier)==null?void 0:j.email),1)])]),t("div",nt,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm text-gray-600"},"เลขที่ใบสั่งซื้อ / PO Number:",-1)),t("p",lt,r(s.purchaseOrder.po_number),1)]),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},"วันที่สั่งซื้อ / Order Date:",-1)),t("p",it,r(p(s.purchaseOrder.order_date)),1)]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-600"},"วันที่คาดว่าจะได้รับ / Expected Date:",-1)),t("p",ct,r(s.purchaseOrder.expected_delivery_date?p(s.purchaseOrder.expected_delivery_date):"-"),1)])]),t("div",ut,[t("span",{class:F([B(s.purchaseOrder.status),"px-4 py-2 rounded-full text-sm font-semibold"])},r(N(s.purchaseOrder.status)),3)])]),t("div",gt,[e[12]||(e[12]=t("h3",{class:"font-bold text-lg mb-3 text-gray-700"},"รายการสินค้า / ITEMS",-1)),t("table",xt,[e[11]||(e[11]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"border border-gray-300 px-4 py-3 text-center text-sm font-bold text-gray-700"},[a("ลำดับ"),t("br"),a("No.")]),t("th",{class:"border border-gray-300 px-4 py-3 text-left text-sm font-bold text-gray-700"},[a("รายการสินค้า"),t("br"),a("Description")]),t("th",{class:"border border-gray-300 px-4 py-3 text-center text-sm font-bold text-gray-700"},[a("จำนวน"),t("br"),a("Quantity")]),t("th",{class:"border border-gray-300 px-4 py-3 text-right text-sm font-bold text-gray-700"},[a("ราคา/หน่วย"),t("br"),a("Unit Price")]),t("th",{class:"border border-gray-300 px-4 py-3 text-right text-sm font-bold text-gray-700"},[a("จำนวนเงิน"),t("br"),a("Amount")])])],-1)),t("tbody",null,[(d(!0),n(C,null,L(s.purchaseOrder.items,(u,z)=>(d(),n("tr",{key:u.id},[t("td",bt,r(z+1),1),t("td",pt,r(u.product_name),1),t("td",yt,r(u.quantity_ordered),1),t("td",ht,r(i(u.unit_price)),1),t("td",mt,r(i(u.total_price)),1)]))),128))])])]),t("div",ft,[t("div",vt,[t("div",_t,[e[13]||(e[13]=t("span",{class:"font-semibold"},"ยอดรวม / Subtotal:",-1)),t("span",Ot,r(i(s.purchaseOrder.subtotal)),1)]),t("div",wt,[e[14]||(e[14]=t("span",{class:"font-semibold"},"ส่วนลด / Discount:",-1)),t("span",kt,r(i(s.purchaseOrder.discount_amount||0)),1)]),t("div",jt,[e[15]||(e[15]=t("span",{class:"font-semibold"},"ภาษีมูลค่าเพิ่ม 7% / VAT 7%:",-1)),t("span",Dt,r(i(s.purchaseOrder.vat_amount)),1)]),t("div",Ct,[e[16]||(e[16]=t("span",null,"ยอดรวมสุทธิ / Grand Total:",-1)),t("span",St,r(i(s.purchaseOrder.total_amount)),1)])])]),s.purchaseOrder.notes?(d(),n("div",Tt,[e[17]||(e[17]=t("h3",{class:"font-bold text-gray-700 mb-2"},"หมายเหตุ / Notes:",-1)),t("p",Bt,r(s.purchaseOrder.notes),1)])):l("",!0),e[21]||(e[21]=t("div",{class:"grid grid-cols-2 gap-8 mt-12 print-only"},[t("div",{class:"text-center"},[t("div",{class:"border-t-2 border-gray-400 pt-2 mt-16"},[t("p",{class:"font-semibold"},"ผู้สั่งซื้อ / Authorized By"),t("p",{class:"text-sm text-gray-600"},"วันที่ / Date: _______________")])]),t("div",{class:"text-center"},[t("div",{class:"border-t-2 border-gray-400 pt-2 mt-16"},[t("p",{class:"font-semibold"},"ผู้อนุมัติ / Approved By"),t("p",{class:"text-sm text-gray-600"},"วันที่ / Date: _______________")])])],-1)),t("div",Nt,[R(S(T),{href:o.route("purchase-orders.index"),class:"px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400"},{default:g(()=>[...e[18]||(e[18]=[a("กลับ",-1)])]),_:1},8,["href"]),t("button",{onClick:V,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center gap-2"},[...e[19]||(e[19]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),a(" พิมพ์ใบสั่งซื้อ ",-1)])]),s.purchaseOrder.status==="draft"?(d(),D(S(T),{key:0,href:o.route("purchase-orders.edit",s.purchaseOrder.id),class:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600"},{default:g(()=>[...e[20]||(e[20]=[a(" แก้ไข ",-1)])]),_:1},8,["href"])):l("",!0),s.purchaseOrder.status==="draft"?(d(),n("button",{key:1,onClick:P,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," ลบ ")):l("",!0),s.purchaseOrder.status==="draft"?(d(),n("button",{key:2,onClick:A,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," ส่งใบสั่งซื้อ ")):l("",!0),["pending","shipping"].includes(s.purchaseOrder.status)?(d(),n("button",{key:3,onClick:H,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," รับสินค้า ")):l("",!0)])])])])]}),_:1}))}};export{Et as default};
