import{r as v,z as E,D as Ce,o as Ue,K as Re,a as o,c as Ie,w as je,d as e,t as r,g as n,e as m,v as w,i as d,h as A,n as h,F as B,s as ue,L as Me,p as Xe,f as ce,m as F,M as te,E as Te}from"./app-52dfa1a6.js";import{A as Ne}from"./AppLayout-39f8b0fe.js";import{_ as Fe}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */import"./ApplicationLogo-8547e154.js";const Oe={class:"flex items-center justify-between"},De={class:"hidden md:flex items-center space-x-4"},Ke={class:"text-sm text-gray-600"},Ge={class:"text-sm text-gray-600"},Qe={class:"py-4 lg:py-6"},We={class:"max-w-full mx-auto px-4 sm:px-6 lg:px-8"},Je={class:"lg:hidden"},Ze={class:"bg-white rounded-lg shadow-md p-4 mb-4"},Ye={class:"flex items-center justify-between mb-4"},et={key:0,class:"mb-4"},tt={class:"flex flex-wrap gap-2"},st=["onClick"],lt={class:"space-y-3 mb-20"},ot=["onClick"],nt={class:"flex items-center space-x-3"},rt={class:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center"},at=["src","alt"],it={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dt={class:"flex-1"},ut={class:"font-medium text-gray-900"},ct={class:"text-sm text-gray-500"},vt={class:"flex items-center justify-between mt-1"},pt={class:"text-lg font-bold text-primary-600"},mt={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50"},gt={class:"flex items-center justify-between mb-2"},xt={class:"text-sm text-gray-600"},ft={class:"text-lg font-bold text-primary-600"},bt=["disabled"],yt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},ht={class:"bg-white w-full max-h-[80vh] rounded-t-xl overflow-hidden"},_t={class:"p-4 border-b border-gray-200"},wt={class:"flex items-center justify-between"},kt={class:"p-4 overflow-y-auto max-h-96"},Ct={key:0,class:"text-center py-8 text-gray-500"},jt={key:1,class:"space-y-3"},Mt={class:"flex-1"},Tt={class:"font-medium"},Vt={class:"text-sm text-gray-500"},At={class:"flex items-center space-x-2"},Bt=["onClick"],zt={class:"w-8 text-center"},$t=["onClick"],qt=["onClick"],Et={class:"p-4 border-t border-gray-200"},St={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},Ht={class:"flex items-center justify-between"},Pt={class:"relative inline-flex items-center cursor-pointer"},Lt={class:"space-y-2 mb-4"},Ut={class:"flex justify-between text-sm"},Rt={key:0,class:"flex justify-between text-sm"},It={class:"flex justify-between font-bold text-lg border-t pt-2"},Xt={class:"text-primary-600"},Nt={class:"flex space-x-2"},Ft={class:"hidden lg:grid lg:grid-cols-12 lg:gap-4",style:{height:"calc(100vh - 140px)"}},Ot={class:"lg:col-span-5"},Dt={class:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col h-full"},Kt={class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 shadow-md flex-shrink-0"},Gt={class:"flex items-center justify-between text-white"},Qt={class:"bg-white text-indigo-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-sm"},Wt={class:"overflow-y-auto bg-white flex-shrink-0",style:{height:"280px"}},Jt={key:0,class:"flex flex-col items-center justify-center h-full py-8"},Zt={key:1,class:"p-3 space-y-2"},Yt={class:"flex justify-between items-start mb-2"},es={class:"flex-1 pr-2"},ts={class:"font-bold text-gray-900 text-sm leading-tight"},ss={class:"text-xs text-gray-500"},ls={class:"text-right"},os={class:"text-lg font-bold text-gray-900"},ns={class:"flex items-center justify-between"},rs={class:"flex items-center space-x-2"},as=["onClick"],is=["value","onChange","max"],ds=["onClick"],us=["onClick"],cs={class:"border-t bg-white px-4 py-3 flex-shrink-0"},vs=["value"],ps={class:"border-t bg-white px-4 py-3 flex-shrink-0"},ms={class:"grid grid-cols-2 gap-2"},gs={key:0,class:"border-t bg-green-50 px-4 py-3 flex-shrink-0"},xs={class:"space-y-2"},fs={class:"border-t bg-white px-4 py-2.5 flex-shrink-0"},bs={class:"flex items-center justify-between"},ys={class:"relative inline-flex items-center cursor-pointer"},hs={key:0,class:"text-xs text-orange-600 mt-1"},_s={class:"border-t bg-gray-50 px-4 py-3 flex-shrink-0"},ws={class:"space-y-1.5 mb-2"},ks={class:"flex justify-between text-sm text-gray-700"},Cs={class:"font-semibold"},js={key:0,class:"flex justify-between text-sm text-green-600"},Ms={class:"font-semibold"},Ts={class:"flex justify-between items-center text-sm"},Vs={class:"flex items-center"},As={key:1,class:"flex justify-between text-sm text-blue-600"},Bs={class:"font-semibold"},zs={class:"flex justify-between text-2xl font-bold border-t-2 border-gray-300 pt-2"},$s={class:"text-indigo-600"},qs={class:"border-t bg-white px-4 py-3 flex-shrink-0"},Es={class:"grid grid-cols-3 gap-2 mb-2"},Ss=["disabled"],Hs={key:0},Ps={key:0,class:"mt-1.5 text-sm"},Ls={class:"font-bold text-green-600 ml-1"},Us={key:1,class:"text-xs text-gray-600 mt-2"},Rs={key:2,class:"mt-2 p-2 bg-purple-50 rounded-lg border border-purple-200"},Is={key:0,class:"text-xs text-purple-600 mt-1"},Xs={key:1,class:"text-xs text-red-500 mt-1"},Ns={class:"border-t bg-gray-50 p-3 flex-shrink-0"},Fs={class:"grid grid-cols-2 gap-2"},Os=["disabled"],Ds=["disabled"],Ks={class:"lg:col-span-7 overflow-y-auto h-full"},Gs={class:"bg-white rounded-lg shadow-md p-6 mb-6"},Qs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ws={class:"relative"},Js={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"},Zs=["onClick"],Ys={class:"font-medium"},el={class:"text-sm text-gray-500"},tl={class:"text-sm text-gray-500"},sl={key:0,class:"p-3 bg-blue-50 rounded-lg border border-blue-200"},ll={class:"flex items-center justify-between"},ol={class:"flex-1"},nl={class:"font-medium text-blue-900"},rl={class:"text-sm text-blue-700"},al={key:0,class:"mt-2 p-2 bg-blue-100 rounded"},il={class:"text-xs text-blue-800 space-y-0.5"},dl={class:"flex justify-between"},ul={class:"font-medium"},cl={class:"flex justify-between text-red-600"},vl={class:"font-medium"},pl={class:"flex justify-between text-green-700 font-semibold border-t border-blue-200 pt-1 mt-1"},ml={key:1,class:"mt-1"},gl={class:"text-xs text-blue-600 mt-1"},xl={key:1,class:"p-3 bg-gray-50 rounded-lg border border-gray-200"},fl={class:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-md p-4 mb-6"},bl={class:"flex items-center space-x-4"},yl={class:"flex-1"},hl={key:0,class:"mt-2 text-white text-sm"},_l={class:"bg-white rounded-lg shadow-md p-6 mb-6"},wl={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},kl={class:"flex-1 lg:mr-4"},Cl={class:"relative"},jl={class:"flex space-x-2"},Ml=["value"],Tl={class:"bg-white rounded-lg shadow-md p-6"},Vl={key:0,class:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded"},Al={class:"flex items-center justify-between"},Bl={class:"flex items-center space-x-2 text-sm"},zl={class:"text-gray-700"},$l={key:0},ql={key:1},El={key:2},Sl={key:1,class:"flex flex-col items-center justify-center py-16"},Hl={key:2,class:"flex flex-col items-center justify-center py-16"},Pl={key:3,class:"grid grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},Ll=["onClick"],Ul={class:"absolute top-2 right-2 z-10"},Rl={class:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden relative"},Il=["src","alt"],Xl={key:1,class:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nl={class:"space-y-1"},Fl={class:"font-semibold text-gray-900 text-sm leading-tight line-clamp-2 min-h-[2.5rem]"},Ol={class:"text-xs text-gray-500 flex items-center"},Dl={class:"pt-2"},Kl={class:"text-xl font-bold text-primary-600"},Gl={key:4,class:"text-center py-8"},Ql={key:5,class:"text-center py-8 text-gray-500"},Wl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},Jl={class:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto"},Zl={class:"p-6"},Yl={class:"mb-6"},eo={class:"grid grid-cols-2 gap-3"},to={key:0,class:"mb-6 p-4 bg-green-50 rounded-lg border border-green-200"},so={class:"space-y-3"},lo={class:"grid grid-cols-2 gap-3"},oo={key:0,class:"mt-3 pt-3 border-t border-green-200"},no={class:"mb-6 p-4 bg-gray-50 rounded-lg"},ro={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},ao={class:"flex items-center justify-between"},io={class:"text-xs text-blue-600"},uo={class:"relative inline-flex items-center cursor-pointer"},co=["disabled"],vo={class:"space-y-1 text-sm"},po={class:"flex justify-between"},mo={class:"flex justify-between"},go={key:0,class:"flex justify-between text-green-600"},xo={class:"flex justify-between items-center"},fo={class:"flex items-center"},bo={key:1,class:"flex justify-between"},yo={class:"flex justify-between font-bold text-lg border-t pt-1"},ho={class:"text-primary-600"},_o={class:"mb-6"},wo={class:"relative"},ko={class:"flex items-center"},Co={key:0,class:"flex items-center"},jo={class:"flex-shrink-0 mr-3"},Mo={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},To={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},Vo={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},Ao={class:"font-medium text-sm text-gray-900"},Bo={key:1,class:"text-gray-500"},zo={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},$o={class:"flex items-center"},qo={class:"flex-shrink-0 ml-auto"},Eo={key:0,class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},So={key:0,class:"px-4 py-3 text-center text-gray-500"},Ho=["onClick"],Po={class:"flex items-center"},Lo={class:"flex-shrink-0 mr-3"},Uo={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},Ro={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},Io={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},Xo={class:"flex-1"},No={class:"font-medium text-sm text-gray-900"},Fo={class:"text-xs text-gray-500"},Oo={class:"flex-shrink-0 ml-2"},Do={key:0,class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},Ko={key:0,class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg"},Go={class:"flex items-center justify-between"},Qo={class:"flex items-center"},Wo={class:"text-sm font-medium text-green-800"},Jo={class:"text-sm font-bold text-green-600"},Zo={class:"mb-6"},Yo={class:"space-y-2"},en={class:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50"},tn=["disabled"],sn={class:"flex items-center flex-1"},ln={class:"flex-1"},on={key:0,class:"text-xs text-purple-600 mt-1"},nn={key:0},rn={key:1,class:"text-orange-600"},an={key:0,class:"text-sm text-red-600 ml-6 p-2 bg-red-50 rounded"},dn={key:1,class:"text-sm text-orange-600 ml-6 p-2 bg-orange-50 rounded"},un={key:1,class:"mb-6"},cn={key:0,class:"mt-2 p-2 bg-green-50 rounded text-sm"},vn={class:"text-green-800"},pn={key:1,class:"mt-2 p-2 bg-red-50 rounded text-sm"},mn={key:2,class:"mb-6"},gn={key:0,class:"mt-2 max-h-40 overflow-y-auto border rounded-lg"},xn=["onClick"],fn={class:"font-medium"},bn={class:"text-sm text-gray-500"},yn={class:"text-sm text-gray-500"},hn={key:1,class:"mt-2 p-3 bg-blue-50 rounded-lg"},_n={class:"font-medium"},wn={class:"text-sm text-gray-600"},kn={key:0,class:"text-sm text-red-600 mt-1"},Cn={class:"flex space-x-3"},jn=["disabled"],Mn={__name:"POS",setup(Tn){const k=v(""),C=v(""),se=v(!1),G=v(!1),le=v(!1),L=v(!1),ve=v(""),f=v("cash_bill");v(!1);const g=v({name:"",company_name:"",address:"",tax_id:"",phone:"",branch:"‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà"}),Q=v(null),z=v(""),$=v("");let S="",O=null;const pe=l=>{const t=document.activeElement,i=t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable;if(t!==Q.value&&!i){if(l.key==="Enter"&&S.length>0){l.preventDefault(),z.value=S,Y(),S="";return}l.key.length===1&&/[a-zA-Z0-9]/.test(l.key)&&(l.preventDefault(),S+=l.key,O&&clearTimeout(O),O=setTimeout(()=>{S.length>=3&&(z.value=S,Y()),S=""},100))}},V=v([]),W=v([]),x=v([]),me=v([]),U=v(null),y=v(null),j=v(0),R=v(!1),J=E(()=>x.value.length===0?[]:me.value.filter(l=>l.applicable_products&&l.applicable_products.length>0?x.value.some(t=>l.applicable_products.includes(t.product_id)):!0)),b=v("cash"),M=v(0),D=v(""),I=v([]),H=v(""),q=v([]),a=v(null),T=v(!0),P=v(0),Ve=E(()=>{const l=[{id:"",label:"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",count:V.value.length,active:C.value===""}];return W.value.forEach(t=>{const i=V.value.filter(u=>u.category_id===t.id).length;l.push({id:t.id,label:t.name,count:i,active:C.value==t.id})}),l}),X=E(()=>x.value.reduce((l,t)=>{const i=Number(t.price)*Number(t.quantity);return l+i},0)),Z=E(()=>T.value?(X.value-j.value)*.07:0),_=E(()=>{const l=X.value-j.value,t=T.value?l*.07:0,i=P.value||0;return l+t+i});E(()=>!(!a.value||!a.value.credit_limit||a.value.credit_limit<=0||a.value.available_credit<_.value));const ge=E(()=>{var l,t;return x.value.length===0||f.value==="tax_invoice"&&(!((l=g.value.company_name)!=null&&l.trim())||!((t=g.value.address)!=null&&t.trim()))?!1:b.value==="cash"?M.value>=_.value:b.value==="credit"?a.value&&a.value.available_credit>=_.value:!0}),c=l=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l||0),xe=l=>l<=0?"bg-red-100 text-red-800":l<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",K=async()=>{var l;if(k.value.length<2&&!C.value){await oe();return}L.value=!0;try{const t=new URLSearchParams;k.value&&t.append("query",k.value),C.value&&t.append("category",C.value);const i=await fetch(`/pos/search-products?${t.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const u=await i.json();V.value=Array.isArray(u)?u:u.products||[]}catch(t){console.error("Error searching products:",t),V.value=[]}finally{L.value=!1}},Ae=async()=>{var l;if(D.value.length<2){I.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(D.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();I.value=i.customers||[]}catch(t){console.error("Error searching customers:",t),I.value=[]}},Be=async()=>{var l;if(H.value.length<2){q.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(H.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();q.value=i.customers||[]}catch(t){console.error("Error searching main customers:",t),q.value=[]}},ze=l=>{a.value=l,H.value=l.name||l.company_name,q.value=[]},$e=()=>{a.value=null,H.value="",q.value=[]},Y=async()=>{var l;if(!z.value.trim()){$.value="‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å Barcode";return}$.value="";try{const t=await fetch(`/pos/barcode/${encodeURIComponent(z.value.trim())}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){t.status===404?$.value=`‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Barcode: ${z.value}`:$.value="‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤";return}const i=await t.json();i&&i.id?(ne(i),z.value="",$.value="",Q.value&&Q.value.focus()):$.value=`‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Barcode: ${z.value}`}catch(t){console.error("Error searching by barcode:",t),$.value="‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"}},oe=async()=>{var l;L.value=!0;try{const t=await fetch("/pos/search-products",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();V.value=Array.isArray(i)?i:i.products||[]}catch(t){console.error("Error loading products:",t),V.value=[]}finally{L.value=!1}},qe=async()=>{try{const l=await fetch("/api/categories",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const t=await l.json();W.value=t.data||[]}catch(l){console.error("Error loading categories:",l)}},ne=l=>{if(l.current_stock<=0)return;const t=x.value.find(i=>i.product_id===l.id);t?t.quantity<l.current_stock&&t.quantity++:x.value.push({id:Date.now()+Math.random(),product_id:l.id,product_name:l.name,price:l.selling_price,quantity:1,max_stock:l.current_stock})},ee=({id:l,change:t})=>{const i=x.value.find(s=>s.id===l);if(!i)return;const u=i.quantity+t;u<=0?re(l):u<=i.max_stock&&(i.quantity=u)},re=l=>{const t=x.value.findIndex(i=>i.id===l);t>-1&&x.value.splice(t,1)},ae=()=>{x.value=[],y.value=null,j.value=0,P.value=0,a.value=null,H.value="",q.value=[]},Ee=l=>{C.value=l.id,K()},Se=()=>{k.value="",C.value="",K()},ie=()=>{le.value=!1,b.value="cash",M.value=0,D.value="",I.value=[],f.value="cash_bill",g.value={name:"",company_name:"",address:"",tax_id:"",phone:"",branch:"‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà"}},fe=()=>{a.value&&(g.value={name:a.value.name||"",company_name:a.value.company_name||a.value.name||"",address:a.value.address||"",tax_id:a.value.tax_id||"",phone:a.value.phone||"",branch:"‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà"})},He=E(()=>{var l,t;return f.value!=="tax_invoice"?!0:((l=g.value.company_name)==null?void 0:l.trim())&&((t=g.value.address)==null?void 0:t.trim())}),be=async()=>{var l,t;if(f.value==="tax_invoice"&&!He.value){alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡∏ä‡∏∑‡πà‡∏≠/‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÅ‡∏•‡∏∞ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà)");return}try{const i={items:x.value.map(p=>({product_id:p.product_id,quantity:p.quantity,unit_price:p.price})),payment_method:b.value,total_amount:_.value,tax_amount:Z.value,customer_id:((l=a.value)==null?void 0:l.id)||null,received_amount:b.value==="cash"?M.value:_.value,promotion_id:((t=y.value)==null?void 0:t.id)||null,discount_amount:j.value,shipping_fee:P.value||0,invoice_type:f.value,tax_invoice_customer:f.value==="tax_invoice"?g.value:null},u=await fetch("/pos/process-sale",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(i)});if(!u.ok){const p=await u.json();alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: "+(p.message||p.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"));return}const s=await u.json();if(s.success){const p=f.value;ae(),ie();const N=p==="tax_invoice"?"‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ":"‡∏ö‡∏¥‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î";confirm(`‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç${N}: ${s.sale_number}

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå${N}‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)?(p==="tax_invoice"?window.open(`/receipts/${s.sale.id}/print?type=tax_invoice`,"_blank","width=900,height=700"):window.open(`/receipts/${s.sale.id}/print`,"_blank","width=800,height=600"),setTimeout(()=>{Te.visit("/sales")},1e3)):Te.visit("/sales")}else alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: "+(s.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"))}catch(i){console.error("Error processing payment:",i),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô")}},ye=()=>{const l=new Date;ve.value=l.toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},he=async()=>{var l;try{const t=x.value.map(u=>u.product_id),i=await fetch("/pos/promotions/active",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""},body:JSON.stringify({product_ids:t,cart_total:X.value})});if(i.ok){const u=await i.json();me.value=u}else console.error("Failed to load promotions:",i.status)}catch(t){console.error("Error loading promotions:",t)}},de=l=>{if(!l)return"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©";let t=l.name||"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô";const i=l.type||l.discount_type,u=l.value||l.discount_value;if(i==="percentage"&&u)t+=` (‡∏•‡∏î ${u}%)`;else if(i==="fixed_amount"&&u)t+=` (‡∏•‡∏î ‡∏ø${u})`;else if(i==="buy_x_get_y"){const s=l.min_quantity||1,p=l.free_quantity||1;t+=` (‡∏ã‡∏∑‡πâ‡∏≠ ${s} ‡πÅ‡∏ñ‡∏° ${p})`}return t},_e=l=>{switch(l){case"percentage":return"text-blue-600";case"fixed_amount":return"text-green-600";case"buy_x_get_y":return"text-purple-600";default:return"text-orange-600"}},Pe=()=>{if(U.value){const l=J.value.find(t=>t.id===U.value);l&&we(l)}else ke()},we=async l=>{var t;if(l)try{const i=await fetch("/pos/promotions/apply",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({promotion_id:l.id,cart_items:x.value.map(u=>({product_id:u.product_id,quantity:u.quantity,price:u.price}))})});if(i.ok){const u=await i.json();y.value=l,j.value=u.discount||0}else{const u=await i.json();let s="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ";u.error?s+=": "+u.error:u.message&&(s+=": "+u.message),alert(s),U.value=null,y.value=null,j.value=0}}catch(i){console.error("Error applying promotion:",i),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå"),U.value=null,y.value=null,j.value=0}},ke=()=>{y.value=null,j.value=0};return Ce(k,()=>{k.value.length===0&&oe()}),Ce(x,()=>{he()},{deep:!0}),Ue(async()=>{ye(),setInterval(ye,1e3),document.addEventListener("keydown",pe),await Promise.all([oe(),qe(),he()])}),Re(()=>{document.removeEventListener("keydown",pe),O&&clearTimeout(O)}),(l,t)=>(o(),Ie(Ne,{title:"‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS)"},{header:je(()=>[e("div",Oe,[t[38]||(t[38]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS) ",-1)),e("div",De,[e("span",Ke,"‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô: "+r(l.$page.props.auth.user.name),1),e("span",Ge,r(ve.value),1)])])]),default:je(()=>{var i,u;return[e("div",Qe,[e("div",We,[e("div",Je,[e("div",Ze,[e("div",Ye,[t[40]||(t[40]=e("h3",{class:"text-lg font-semibold"},"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),e("button",{onClick:t[0]||(t[0]=s=>se.value=!se.value),class:"btn btn-primary btn-sm"},[...t[39]||(t[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),se.value?(o(),n("div",et,[m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>k.value=s),onInput:K,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..."},null,544),[[w,k.value]])])):d("",!0),e("div",tt,[(o(!0),n(B,null,A(Ve.value,s=>(o(),n("button",{key:s.id,onClick:p=>Ee(s),class:h(["px-3 py-1 rounded-full text-sm font-medium transition-colors",s.active?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},r(s.label)+" ("+r(s.count)+") ",11,st))),128))])]),e("div",lt,[(o(!0),n(B,null,A(V.value,s=>(o(),n("div",{key:s.id,class:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:p=>ne(s)},[e("div",nt,[e("div",rt,[s.image?(o(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover rounded-lg"},null,8,at)):(o(),n("svg",it,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])]))]),e("div",dt,[e("h4",ut,r(s.name),1),e("p",ct,r(s.category),1),e("div",vt,[e("span",pt,"‡∏ø"+r(c(s.selling_price)),1),e("span",{class:h([xe(s.current_stock),"px-2 py-1 rounded-full text-xs font-medium"])}," ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ "+r(s.current_stock),3)])])])],8,ot))),128))]),e("div",mt,[e("div",gt,[e("span",xt,r(x.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",1),e("span",ft,"‡∏ø"+r(c(_.value)),1)]),e("button",{onClick:t[2]||(t[2]=s=>G.value=!0),disabled:x.value.length===0,class:"w-full btn btn-primary"}," ‡∏î‡∏π‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ",8,bt)]),G.value?(o(),n("div",yt,[e("div",ht,[e("div",_t,[e("div",wt,[t[43]||(t[43]=e("h3",{class:"text-lg font-semibold"}," ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ",-1)),e("button",{onClick:t[3]||(t[3]=s=>G.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[42]||(t[42]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",kt,[x.value.length===0?(o(),n("div",Ct," ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ")):(o(),n("div",jt,[(o(!0),n(B,null,A(x.value,s=>(o(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",Mt,[e("h4",Tt,r(s.product_name),1),e("p",Vt,r(s.quantity)+" ‡∏´‡∏ô‡πà‡∏ß‡∏¢ x ‡∏ø"+r(c(s.price))+" / ‡∏´‡∏ô‡πà‡∏ß‡∏¢ ",1)]),e("div",At,[e("button",{onClick:p=>ee({id:s.id,change:-1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[44]||(t[44]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,Bt),e("span",zt,r(s.quantity),1),e("button",{onClick:p=>ee({id:s.id,change:1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[45]||(t[45]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,$t),e("button",{onClick:p=>re(s.id),class:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center"},[...t[46]||(t[46]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qt)])]))),128))]))]),e("div",Et,[e("div",St,[e("div",Ht,[t[48]||(t[48]=e("div",null,[e("h4",{class:"font-medium text-sm text-blue-800"}," ‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (VAT) "),e("p",{class:"text-xs text-blue-600"}," ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ VAT 7% ")],-1)),e("label",Pt,[m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>T.value=s),type:"checkbox",class:"sr-only peer","aria-label":"‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î VAT"},null,512),[[ue,T.value]]),t[47]||(t[47]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",Lt,[e("div",Ut,[t[49]||(t[49]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",null,"‡∏ø"+r(c(X.value)),1)]),T.value?(o(),n("div",Rt,[t[50]||(t[50]=e("span",null,"‡∏†‡∏≤‡∏©‡∏µ (7%):",-1)),e("span",null,"‡∏ø"+r(c(Z.value)),1)])):d("",!0),e("div",It,[t[51]||(t[51]=e("span",null,"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:",-1)),e("span",Xt,"‡∏ø"+r(c(_.value)),1)])]),e("div",Nt,[e("button",{onClick:ae,class:"flex-1 btn btn-outline"}," ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ "),e("button",{onClick:t[5]||(t[5]=s=>{le.value=!0,G.value=!1}),class:"flex-1 btn btn-primary"}," ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ")])])])])):d("",!0)]),e("div",Ft,[e("div",Ot,[e("div",Dt,[e("div",Kt,[e("div",Gt,[t[52]||(t[52]=e("h2",{class:"text-xl font-bold"}," ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ",-1)),e("span",Qt,r(x.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ",1)])]),e("div",Wt,[x.value.length===0?(o(),n("div",Jt,[...t[53]||(t[53]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),e("p",{class:"text-gray-500 text-center text-sm font-medium"}," ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ",-1)])])):(o(),n("div",Zt,[(o(!0),n(B,null,A(x.value,s=>(o(),n("div",{key:s.id,class:"bg-gray-50 rounded-lg p-3 border border-gray-200 hover:border-indigo-300 transition-all"},[e("div",Yt,[e("div",es,[e("h4",ts,r(s.product_name),1),e("p",ss," ‡∏ø"+r(c(s.price))+" / ‡∏´‡∏ô‡πà‡∏ß‡∏¢ ",1)]),e("div",ls,[e("span",os," ‡∏ø"+r(c(s.price*s.quantity)),1)])]),e("div",ns,[e("div",rs,[e("button",{onClick:p=>ee({id:s.id,change:-1}),class:"w-7 h-7 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center"},[...t[54]||(t[54]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,as),e("input",{type:"number",value:s.quantity,onChange:p=>l.setCartQuantity(s.id,p.target.value),onKeydown:t[6]||(t[6]=Me(Xe(()=>{},["prevent"]),["enter"])),min:"1",max:s.max_stock,class:"w-14 text-center border border-gray-300 rounded py-1 text-sm"},null,40,is),e("button",{onClick:p=>ee({id:s.id,change:1}),class:"w-7 h-7 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center"},[...t[55]||(t[55]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,ds)]),e("button",{onClick:p=>re(s.id),class:"w-7 h-7 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600"},[...t[56]||(t[56]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,us)])]))),128))]))]),e("div",cs,[t[58]||(t[58]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-1.5"},"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",-1)),m(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>U.value=s),onChange:Pe,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},[t[57]||(t[57]=e("option",{value:null}," ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô ",-1)),(o(!0),n(B,null,A(J.value,s=>(o(),n("option",{key:s.id,value:s.id},r(de(s)),9,vs))),128))],544),[[ce,U.value]])]),e("div",ps,[t[61]||(t[61]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-2"},"‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏¥‡∏•",-1)),e("div",ms,[e("button",{onClick:t[8]||(t[8]=s=>f.value="cash_bill"),class:h([f.value==="cash_bill"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-xs hover:opacity-90 transition-all flex flex-col items-center"])},[...t[59]||(t[59]=[e("span",{class:"text-lg"},"üßæ",-1),e("span",null,"‡∏ö‡∏¥‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î",-1)])],2),e("button",{onClick:t[9]||(t[9]=s=>f.value="tax_invoice"),class:h([f.value==="tax_invoice"?"bg-green-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-xs hover:opacity-90 transition-all flex flex-col items-center"])},[...t[60]||(t[60]=[e("span",{class:"text-lg"},"üìÑ",-1),e("span",null,"‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ",-1)])],2)])]),f.value==="tax_invoice"?(o(),n("div",gs,[t[62]||(t[62]=e("label",{class:"block text-xs font-semibold text-green-800 mb-2"},"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ",-1)),e("div",xs,[m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>g.value.company_name=s),type:"text",class:"w-full px-2 py-1.5 text-xs border border-green-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• *"},null,512),[[w,g.value.company_name]]),m(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>g.value.address=s),rows:"2",class:"w-full px-2 py-1.5 text-xs border border-green-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà *"},null,512),[[w,g.value.address]]),m(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>g.value.tax_id=s),type:"text",class:"w-full px-2 py-1.5 text-xs border border-green-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",maxlength:"13"},null,512),[[w,g.value.tax_id]]),a.value?(o(),n("button",{key:0,onClick:fe,class:"w-full py-1.5 text-xs bg-green-600 text-white rounded hover:bg-green-700"}," ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ")):d("",!0)])])):d("",!0),e("div",fs,[e("div",bs,[t[64]||(t[64]=e("span",{class:"text-xs font-semibold text-gray-700"},"VAT 7%",-1)),e("label",ys,[m(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>T.value=s),type:"checkbox",class:"sr-only peer"},null,512),[[ue,T.value]]),t[63]||(t[63]=e("div",{class:"w-10 h-5 bg-gray-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),f.value==="tax_invoice"&&!T.value?(o(),n("p",hs," ‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô VAT ")):d("",!0)]),e("div",_s,[e("div",ws,[e("div",ks,[t[65]||(t[65]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",Cs,"‡∏ø"+r(c(X.value)),1)]),j.value>0?(o(),n("div",js,[t[66]||(t[66]=e("span",null,"‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î:",-1)),e("span",Ms,"-‡∏ø"+r(c(j.value)),1)])):d("",!0),e("div",Ts,[t[68]||(t[68]=e("span",null,"‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á:",-1)),e("div",Vs,[t[67]||(t[67]=e("span",{class:"mr-1"},"‡∏ø",-1)),m(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>P.value=s),type:"number",min:"0",step:"1",class:"w-20 px-2 py-1 text-right border border-gray-300 rounded text-sm",placeholder:"0"},null,512),[[w,P.value,void 0,{number:!0}]])])]),T.value?(o(),n("div",As,[t[69]||(t[69]=e("span",null,"VAT (7%):",-1)),e("span",Bs,"‡∏ø"+r(c(Z.value)),1)])):d("",!0)]),e("div",zs,[t[70]||(t[70]=e("span",{class:"text-gray-900"},"Total:",-1)),e("span",$s,"‡∏ø"+r(c(_.value)),1)])]),e("div",qs,[t[74]||(t[74]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-2"},"‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",-1)),e("div",Es,[e("button",{onClick:t[15]||(t[15]=s=>b.value="cash"),class:h([b.value==="cash"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ",2),e("button",{onClick:t[16]||(t[16]=s=>b.value="transfer"),class:h([b.value==="transfer"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ",2),e("button",{onClick:t[17]||(t[17]=s=>b.value="credit"),disabled:!a.value,class:h([b.value==="credit"?"bg-purple-500 text-white":a.value?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-400","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï ",10,Ss)]),b.value==="cash"?(o(),n("div",Hs,[t[72]||(t[72]=e("label",{class:"block text-xs text-gray-600 mb-1"},"‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤",-1)),m(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>M.value=s),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"0.00"},null,512),[[w,M.value,void 0,{number:!0}]]),M.value>=_.value?(o(),n("div",Ps,[t[71]||(t[71]=e("span",{class:"text-gray-600"},"‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:",-1)),e("span",Ls,"‡∏ø"+r(c(M.value-_.value)),1)])):d("",!0)])):d("",!0),b.value==="transfer"?(o(),n("div",Us," ‡∏ä‡∏≥‡∏£‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ")):d("",!0),b.value==="credit"?(o(),n("div",Rs,[t[73]||(t[73]=e("div",{class:"text-xs text-purple-700 font-medium"}," üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï (‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞) ",-1)),a.value?(o(),n("div",Is," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô: ‡∏ø"+r(c(a.value.credit_limit||0))+" | ‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞: ‡∏ø"+r(c(a.value.current_balance||0)),1)):d("",!0),a.value?d("",!0):(o(),n("div",Xs," ‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô "))])):d("",!0)]),t[75]||(t[75]=e("div",{class:"flex-1"},null,-1)),e("div",Ns,[e("div",Fs,[e("button",{onClick:ae,disabled:x.value.length===0,class:"py-3 bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:text-gray-400 text-red-700 font-bold rounded-lg transition-colors"}," ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ",8,Os),e("button",{onClick:be,disabled:!ge.value,class:"py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 disabled:from-gray-300 disabled:to-gray-300 text-white font-bold rounded-lg shadow-lg transition-all"}," ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ",8,Ds)])])])]),e("div",Ks,[e("div",Gs,[t[85]||(t[85]=e("h3",{class:"text-lg font-semibold mb-4"}," ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ",-1)),e("div",Qs,[e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),e("div",Ws,[m(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>H.value=s),onInput:Be,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ ‡∏´‡∏£‡∏∑‡∏∏‡∏≠ Line ID..."},null,544),[[w,H.value]]),q.value.length>0?(o(),n("div",Js,[(o(!0),n(B,null,A(q.value,s=>(o(),n("div",{key:s.id,onClick:p=>ze(s),class:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0"},[e("div",Ys,r(s.name||s.company_name),1),e("div",el,r(s.phone),1),e("div",tl," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô: ‡∏ø"+r(c(s.credit_limit)),1)],8,Zs))),128))])):d("",!0)]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å",-1)),a.value?(o(),n("div",sl,[e("div",ll,[e("div",ol,[e("div",nl,r(a.value.name||a.value.company_name),1),e("div",rl,r(a.value.phone),1),a.value.credit_limit>0?(o(),n("div",al,[t[79]||(t[79]=e("div",{class:"flex items-center mb-1"},[e("span",{class:"px-2 py-0.5 text-xs font-semibold rounded-full bg-purple-500 text-white"}," ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï ")],-1)),e("div",il,[e("div",dl,[t[76]||(t[76]=e("span",null,"‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï:",-1)),e("span",ul,"‡∏ø"+r(c(a.value.credit_limit)),1)]),e("div",cl,[t[77]||(t[77]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞:",-1)),e("span",vl,"‡∏ø"+r(c(a.value.current_balance||0)),1)]),e("div",pl,[t[78]||(t[78]=e("span",null,"‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:",-1)),e("span",null,"‡∏ø"+r(c(a.value.available_credit)),1)])])])):(o(),n("div",ml,[...t[80]||(t[80]=[e("span",{class:"px-2 py-0.5 text-xs font-semibold rounded-full bg-gray-400 text-white"}," ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ",-1)])])),e("div",gl," ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: "+r(a.value.customer_type==="individual"?"‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏î‡∏≤":"‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•"),1)]),e("button",{onClick:$e,class:"ml-2 text-blue-400 hover:text-blue-600"},[...t[81]||(t[81]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):(o(),n("div",xl,[...t[82]||(t[82]=[e("div",{class:"text-gray-500 text-center"},[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",{class:"text-sm"},"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"),e("div",{class:"text-xs text-gray-400 mt-1"}," ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ")],-1)])]))])])])]),e("div",fl,[e("div",bl,[t[86]||(t[86]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])],-1)),e("div",yl,[m(e("input",{ref_key:"barcodeInput",ref:Q,"onUpdate:modelValue":t[20]||(t[20]=s=>z.value=s),onKeyup:Me(Y,["enter"]),type:"text",class:"block w-full px-4 py-3 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-lg",placeholder:"üî´ ‡∏™‡πÅ‡∏Å‡∏ô Barcode ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™ Barcode ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter...",autofocus:""},null,544),[[w,z.value]])]),e("button",{onClick:Y,class:"px-4 py-3 bg-white text-green-600 rounded-lg font-semibold hover:bg-green-50 transition-colors"}," ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ")]),$.value?(o(),n("p",hl,r($.value),1)):d("",!0)]),e("div",_l,[e("div",wl,[e("div",kl,[e("div",Cl,[t[87]||(t[87]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>k.value=s),onInput:K,type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..."},null,544),[[w,k.value]])])]),e("div",jl,[m(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>C.value=s),onChange:K,class:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500"},[t[88]||(t[88]=e("option",{value:""}," ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1)),(o(!0),n(B,null,A(W.value,s=>(o(),n("option",{key:s.id,value:s.id},r(s.name),9,Ml))),128))],544),[[ce,C.value]])])])]),e("div",Tl,[k.value||C.value?(o(),n("div",Vl,[e("div",Al,[e("div",Bl,[t[91]||(t[91]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("span",zl,[k.value?(o(),n("span",$l,[t[89]||(t[89]=F("‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ",-1)),e("strong",null,'"'+r(k.value)+'"',1)])):d("",!0),k.value&&C.value?(o(),n("span",ql," ‚Ä¢ ")):d("",!0),C.value?(o(),n("span",El,[t[90]||(t[90]=F("‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ",-1)),e("strong",null,r((i=W.value.find(s=>s.id==C.value))==null?void 0:i.name),1)])):d("",!0)])]),e("button",{onClick:Se,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ")])])):d("",!0),L.value?(o(),n("div",Sl,[...t[92]||(t[92]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4"},null,-1),e("p",{class:"text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...",-1)])])):V.value.length===0?(o(),n("div",Hl,[...t[93]||(t[93]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-gray-500 text-lg font-medium mb-2"}," ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ",-1),e("p",{class:"text-gray-400 text-sm"}," ‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ",-1)])])):(o(),n("div",Pl,[(o(!0),n(B,null,A(V.value,s=>(o(),n("div",{key:s.id,class:h(["group relative bg-white rounded-xl p-4 cursor-pointer border-2 border-gray-100 hover:border-primary-400 hover:shadow-lg transition-all duration-200",{"opacity-60 cursor-not-allowed":s.current_stock<=0}]),onClick:p=>ne(s)},[e("div",Ul,[e("span",{class:h([xe(s.current_stock),"px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm"])},r(s.current_stock)+" ‡∏ä‡∏¥‡πâ‡∏ô ",3)]),e("div",Rl,[s.image?(o(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,Il)):(o(),n("svg",Xl,[...t[94]||(t[94]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])])),t[95]||(t[95]=e("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 flex items-center justify-center transition-all duration-200"},[e("div",{class:"transform scale-0 group-hover:scale-100 transition-transform duration-200"},[e("div",{class:"bg-primary-500 text-white rounded-full p-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])])])],-1))]),e("div",Nl,[e("h3",Fl,r(s.name),1),e("p",Ol,[t[96]||(t[96]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),F(" "+r(s.category),1)]),e("div",Dl,[e("span",Kl,"‡∏ø"+r(c(s.selling_price)),1)])])],10,Ll))),128))])),L.value?(o(),n("div",Gl,[...t[97]||(t[97]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"},null,-1),e("p",{class:"mt-2 text-gray-500"}," ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤... ",-1)])])):V.value.length===0?(o(),n("div",Ql,[...t[98]||(t[98]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"mt-2"},"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)])])):d("",!0)])])]),le.value?(o(),n("div",Wl,[e("div",Jl,[e("div",Zl,[e("div",{class:"flex items-center justify-between mb-6"},[t[100]||(t[100]=e("h3",{class:"text-lg font-semibold"},"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",-1)),e("button",{onClick:ie,class:"text-gray-400 hover:text-gray-600"},[...t[99]||(t[99]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Yl,[t[107]||(t[107]=e("h4",{class:"font-medium mb-3"},"‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏¥‡∏•",-1)),e("div",eo,[e("label",{class:h(["flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all",f.value==="cash_bill"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[m(e("input",{"onUpdate:modelValue":t[23]||(t[23]=s=>f.value=s),type:"radio",value:"cash_bill",class:"sr-only"},null,512),[[te,f.value]]),t[101]||(t[101]=e("span",{class:"text-3xl mb-2"},"üßæ",-1)),t[102]||(t[102]=e("span",{class:"font-medium text-sm"},"‡∏ö‡∏¥‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î",-1)),t[103]||(t[103]=e("span",{class:"text-xs text-gray-500"},"‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",-1))],2),e("label",{class:h(["flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-all",f.value==="tax_invoice"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"])},[m(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>f.value=s),type:"radio",value:"tax_invoice",class:"sr-only"},null,512),[[te,f.value]]),t[104]||(t[104]=e("span",{class:"text-3xl mb-2"},"üìÑ",-1)),t[105]||(t[105]=e("span",{class:"font-medium text-sm"},"‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ",-1)),t[106]||(t[106]=e("span",{class:"text-xs text-gray-500"},"Tax Invoice",-1))],2)])]),f.value==="tax_invoice"?(o(),n("div",to,[t[115]||(t[115]=e("h4",{class:"font-medium mb-3 text-green-800"}," ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ ",-1)),e("div",so,[e("div",null,[t[108]||(t[108]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[F("‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• / ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>g.value.company_name=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•",required:""},null,512),[[w,g.value.company_name]])]),e("div",null,[t[109]||(t[109]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[F("‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà "),e("span",{class:"text-red-500"},"*")],-1)),m(e("textarea",{"onUpdate:modelValue":t[26]||(t[26]=s=>g.value.address=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ",required:""},null,512),[[w,g.value.address]])]),e("div",lo,[e("div",null,[t[110]||(t[110]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ",-1)),m(e("input",{"onUpdate:modelValue":t[27]||(t[27]=s=>g.value.tax_id=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"13 ‡∏´‡∏•‡∏±‡∏Å (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",maxlength:"13"},null,512),[[w,g.value.tax_id]])]),e("div",null,[t[112]||(t[112]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"‡∏™‡∏≤‡∏Ç‡∏≤",-1)),m(e("select",{"onUpdate:modelValue":t[28]||(t[28]=s=>g.value.branch=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500"},[...t[111]||(t[111]=[e("option",{value:"‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà"}," ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà ",-1),e("option",{value:"‡∏™‡∏≤‡∏Ç‡∏≤"}," ‡∏™‡∏≤‡∏Ç‡∏≤ ",-1)])],512),[[ce,g.value.branch]])])]),e("div",null,[t[113]||(t[113]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£",-1)),m(e("input",{"onUpdate:modelValue":t[29]||(t[29]=s=>g.value.phone=s),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)"},null,512),[[w,g.value.phone]])])]),a.value?(o(),n("div",oo,[e("button",{onClick:fe,type:"button",class:"text-sm text-green-600 hover:text-green-800 flex items-center"},[t[114]||(t[114]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),F(" ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ("+r(a.value.name)+") ",1)])])):d("",!0)])):d("",!0),e("div",no,[t[124]||(t[124]=e("h4",{class:"font-medium mb-2"},"‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠",-1)),e("div",ro,[e("div",ao,[e("div",null,[t[116]||(t[116]=e("h5",{class:"font-medium text-sm text-blue-800"}," ‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (VAT) ",-1)),e("p",io,r(f.value==="tax_invoice"?"‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ VAT":"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ VAT 7%"),1)]),e("label",uo,[m(e("input",{"onUpdate:modelValue":t[30]||(t[30]=s=>T.value=s),type:"checkbox",class:"sr-only peer","aria-label":"‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î VAT",disabled:f.value==="tax_invoice"},null,8,co),[[ue,T.value]]),t[117]||(t[117]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 peer-disabled:opacity-50"},null,-1))])])]),e("div",vo,[e("div",po,[t[118]||(t[118]=e("span",null,"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:",-1)),e("span",null,r(x.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",1)]),e("div",mo,[t[119]||(t[119]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",null,"‡∏ø"+r(c(X.value)),1)]),j.value>0?(o(),n("div",go,[e("span",null,"‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î ("+r((u=y.value)==null?void 0:u.name)+"):",1),e("span",null,"-‡∏ø"+r(c(j.value)),1)])):d("",!0),e("div",xo,[t[121]||(t[121]=e("span",null,"‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á:",-1)),e("div",fo,[t[120]||(t[120]=e("span",{class:"mr-1"},"‡∏ø",-1)),m(e("input",{"onUpdate:modelValue":t[31]||(t[31]=s=>P.value=s),type:"number",min:"0",step:"1",class:"w-24 px-2 py-1 text-right border border-gray-300 rounded text-sm",placeholder:"0"},null,512),[[w,P.value,void 0,{number:!0}]])])]),T.value?(o(),n("div",bo,[t[122]||(t[122]=e("span",null,"‡∏†‡∏≤‡∏©‡∏µ (7%):",-1)),e("span",null,"‡∏ø"+r(c(Z.value)),1)])):d("",!0),e("div",yo,[t[123]||(t[123]=e("span",null,"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:",-1)),e("span",ho,"‡∏ø"+r(c(_.value)),1)])])]),e("div",_o,[t[138]||(t[138]=e("h4",{class:"font-medium mb-3"}," ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ ",-1)),e("div",wo,[e("button",{onClick:t[32]||(t[32]=s=>R.value=!R.value),class:h(["w-full flex items-center justify-between px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-green-500 bg-green-50":y.value,"border-gray-300":!y.value}])},[e("div",ko,[y.value?(o(),n("div",Co,[e("div",jo,[y.value.type==="percentage"?(o(),n("div",Mo,[...t[125]||(t[125]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):y.value.type==="fixed_amount"?(o(),n("div",To,[...t[126]||(t[126]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(o(),n("div",Vo,[...t[127]||(t[127]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",null,[e("div",Ao,r(y.value.name),1),e("div",{class:h(["text-xs font-medium",_e(y.value.type)])},r(de(y.value)),3)])])):(o(),n("div",Bo," ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô "))]),(o(),n("svg",{class:h(["w-5 h-5 text-gray-400 transition-transform",{"rotate-180":R.value}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[128]||(t[128]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2))],2),R.value?(o(),n("div",zo,[e("div",{onClick:t[33]||(t[33]=s=>{ke(),R.value=!1}),class:h(["px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100",{"bg-blue-50":!y.value}])},[e("div",$o,[t[130]||(t[130]=e("div",{class:"flex-shrink-0 mr-3"},[e("div",{class:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)),t[131]||(t[131]=e("div",null,[e("div",{class:"font-medium text-sm text-gray-900"}," ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô "),e("div",{class:"text-xs text-gray-500"}," ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ ")],-1)),e("div",qo,[y.value?d("",!0):(o(),n("svg",Eo,[...t[129]||(t[129]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))])])],2),J.value.length===0?(o(),n("div",So,[...t[132]||(t[132]=[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-gray-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("span",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤")],-1)])])):d("",!0),(o(!0),n(B,null,A(J.value,s=>{var p,N;return o(),n("div",{key:s.id,onClick:Le=>{we(s),R.value=!1},class:h(["px-4 py-3 hover:bg-gray-50 cursor-pointer",{"bg-green-50":((p=y.value)==null?void 0:p.id)===s.id}])},[e("div",Po,[e("div",Lo,[s.type==="percentage"?(o(),n("div",Uo,[...t[133]||(t[133]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):s.type==="fixed_amount"?(o(),n("div",Ro,[...t[134]||(t[134]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(o(),n("div",Io,[...t[135]||(t[135]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",Xo,[e("div",No,r(s.name),1),e("div",Fo,r(s.description),1),e("div",{class:h(["text-xs font-medium mt-1",_e(s.type)])},r(de(s)),3)]),e("div",Oo,[((N=y.value)==null?void 0:N.id)===s.id?(o(),n("svg",Do,[...t[136]||(t[136]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):d("",!0)])])],10,Ho)}),128))])):d("",!0)]),y.value?(o(),n("div",Ko,[e("div",Go,[e("div",Qo,[t[137]||(t[137]=e("svg",{class:"w-4 h-4 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),e("span",Wo,"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: "+r(y.value.name),1)]),e("span",Jo,"-‡∏ø"+r(c(j.value)),1)])])):d("",!0)]),e("div",Zo,[t[142]||(t[142]=e("h4",{class:"font-medium mb-3"}," ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ",-1)),e("div",Yo,[e("label",en,[m(e("input",{"onUpdate:modelValue":t[34]||(t[34]=s=>b.value=s),type:"radio",value:"cash",class:"mr-3"},null,512),[[te,b.value]]),t[139]||(t[139]=e("div",{class:"flex items-center"},[e("span",{class:"text-2xl mr-2"},"üí∞"),e("span",null,"‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î")],-1))]),e("label",{class:h(["flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 border-purple-300 bg-purple-50",{"opacity-50 cursor-not-allowed":!a.value}])},[m(e("input",{"onUpdate:modelValue":t[35]||(t[35]=s=>b.value=s),type:"radio",value:"credit",class:"mr-3 text-purple-600",disabled:!a.value},null,8,tn),[[te,b.value]]),e("div",sn,[t[141]||(t[141]=e("span",{class:"text-2xl mr-2"},"üí≥",-1)),e("div",ln,[t[140]||(t[140]=e("div",{class:"flex items-center"},[e("span",{class:"font-medium text-purple-700"},"‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï"),e("span",{class:"ml-2 px-2 py-0.5 text-xs bg-purple-600 text-white rounded-full"},"‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞")],-1)),a.value?(o(),n("div",on,[a.value.credit_limit>0?(o(),n("div",nn," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô: ‡∏ø"+r(c(a.value.credit_limit))+" | ‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞: ‡∏ø"+r(c(a.value.current_balance||0))+" | ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(a.value.available_credit)),1)):(o(),n("div",rn," ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï "))])):d("",!0)])])],2),b.value==="credit"&&!a.value?(o(),n("div",an," ‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï ")):b.value==="credit"&&a.value&&a.value.credit_limit>0&&a.value.available_credit<_.value?(o(),n("div",dn," ‚ö†Ô∏è ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡∏ø"+r(c(a.value.available_credit))+", ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏ø"+r(c(_.value))+") ",1)):d("",!0)])]),b.value==="cash"?(o(),n("div",un,[t[144]||(t[144]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö",-1)),m(e("input",{"onUpdate:modelValue":t[36]||(t[36]=s=>M.value=s),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"0.00"},null,512),[[w,M.value,void 0,{number:!0}]]),M.value>=_.value?(o(),n("div",cn,[e("span",vn,"‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô: ‡∏ø"+r(c(M.value-_.value)),1)])):M.value>0?(o(),n("div",pn,[...t[143]||(t[143]=[e("span",{class:"text-red-800"},"‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠",-1)])])):d("",!0)])):d("",!0),b.value==="credit"?(o(),n("div",mn,[t[145]||(t[145]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),m(e("input",{"onUpdate:modelValue":t[37]||(t[37]=s=>D.value=s),onInput:Ae,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤..."},null,544),[[w,D.value]]),I.value.length>0?(o(),n("div",gn,[(o(!0),n(B,null,A(I.value,s=>{var p;return o(),n("div",{key:s.id,onClick:N=>a.value=s,class:h(["p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",{"bg-primary-50":((p=a.value)==null?void 0:p.id)===s.id}])},[e("div",fn,r(s.name),1),e("div",bn,r(s.company_name),1),e("div",yn," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(s.available_credit)),1)],10,xn)}),128))])):d("",!0),a.value?(o(),n("div",hn,[e("div",_n,r(a.value.name),1),e("div",wn," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(a.value.available_credit)),1),a.value.available_credit<_.value?(o(),n("div",kn," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ")):d("",!0)])):d("",!0)])):d("",!0),e("div",Cn,[e("button",{onClick:ie,class:"flex-1 btn btn-outline"}," ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å "),e("button",{onClick:be,disabled:!ge.value,class:"flex-1 btn btn-primary"}," ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ",8,jn)])])])])):d("",!0)])])]}),_:1}))}},qn=Fe(Mn,[["__scopeId","data-v-33f8f29f"]]);export{qn as default};
