import{u as q,a as d,c as V,w as p,d as t,j as c,k as s,m as x,x as v,p as U,e as l,v as m,n as u,g as i,t as a,i as n,f as h,h as _,s as b,F as k}from"./app-3d7f0e19.js";import{A as C}from"./AppLayout-daa2be83.js";import{r as S}from"./ArrowLeftIcon-6bf7bd69.js";/* empty css            */import"./ApplicationLogo-2b775c7a.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},M={class:"p-6 lg:p-8"},N={class:"flex items-center justify-between mb-6"},j={class:"bg-gray-50 p-6 rounded-lg"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={key:0,class:"mt-2 text-sm text-red-600"},T={key:0,class:"mt-2 text-sm text-red-600"},z={class:"md:col-span-2"},E={key:0,class:"mt-2 text-sm text-red-600"},X={class:"bg-gray-50 p-6 rounded-lg"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},G={key:0},H={class:"mt-1 relative rounded-md shadow-sm"},I={key:0,class:"mt-2 text-sm text-red-600"},J={key:1},K={class:"mt-1 relative rounded-md shadow-sm"},O={key:0,class:"mt-2 text-sm text-red-600"},P={key:2,class:"md:col-span-2"},Q={class:"grid grid-cols-2 gap-4"},R={key:0,class:"mt-2 text-sm text-red-600"},W={key:0,class:"mt-2 text-sm text-red-600"},Z={key:3},$={class:"mt-1 relative rounded-md shadow-sm"},ee={key:0,class:"mt-2 text-sm text-red-600"},te={key:4},se={class:"mt-1 relative rounded-md shadow-sm"},re={key:0,class:"mt-2 text-sm text-red-600"},oe={class:"bg-gray-50 p-6 rounded-lg"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={key:0,class:"mt-2 text-sm text-red-600"},ne={key:0,class:"mt-2 text-sm text-red-600"},le={class:"bg-gray-50 p-6 rounded-lg"},ae={class:"space-y-4"},ue={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"},me=["value"],ge={class:"text-sm"},pe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto"},ce=["value"],be={class:"text-sm"},fe={class:"bg-gray-50 p-6 rounded-lg"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xe={key:0,class:"mt-2 text-sm text-red-600"},ve={class:"flex items-center"},_e={class:"flex items-center justify-end space-x-4 pt-6"},ke=["disabled"],we={key:0},qe={key:1},Be={__name:"Create",props:{products:Array,categories:Array},setup(f){const r=q({name:"",description:"",type:"",value:null,minimum_quantity:null,free_quantity:null,minimum_amount:null,maximum_discount:null,start_date:"",end_date:"",applicable_products:[],applicable_categories:[],usage_limit:null,is_active:!0}),w=()=>{r.post(route("promotions.store"),{preserveScroll:!1,onSuccess:()=>{},onFinish:()=>{r.processing=!1}})};return(y,e)=>(d(),V(C,{title:"เพิ่มโปรโมชั่นใหม่"},{default:p(()=>[t("div",A,[t("div",B,[t("div",F,[t("div",M,[t("div",N,[e[16]||(e[16]=t("h1",{class:"text-2xl font-bold text-gray-900"},"เพิ่มโปรโมชั่นใหม่",-1)),c(s(v),{href:y.route("promotions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:p(()=>[c(s(S),{class:"w-4 h-4 mr-2"}),e[15]||(e[15]=x(" กลับ ",-1))]),_:1},8,["href"])]),t("form",{onSubmit:U(w,["prevent"]),class:"space-y-6"},[t("div",j,[e[21]||(e[21]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"ข้อมูลพื้นฐาน",-1)),t("div",D,[t("div",null,[e[17]||(e[17]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"ชื่อโปรโมชั่น *",-1)),l(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).name=o),type:"text",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.name}]),required:""},null,2),[[m,s(r).name]]),s(r).errors.name?(d(),i("div",L,a(s(r).errors.name),1)):n("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{for:"type",class:"block text-sm font-medium text-gray-700"},"ประเภทโปรโมชั่น *",-1)),l(t("select",{id:"type","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).type=o),class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.type}]),required:""},[...e[18]||(e[18]=[t("option",{value:""},"เลือกประเภท",-1),t("option",{value:"percentage"},"ลดเปอร์เซ็นต์",-1),t("option",{value:"fixed_amount"},"ลดจำนวนเงิน",-1),t("option",{value:"buy_x_get_y"},"ซื้อ X แถม Y",-1)])],2),[[h,s(r).type]]),s(r).errors.type?(d(),i("div",T,a(s(r).errors.type),1)):n("",!0)]),t("div",z,[e[20]||(e[20]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"รายละเอียด",-1)),l(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).description=o),rows:"3",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.description}])},null,2),[[m,s(r).description]]),s(r).errors.description?(d(),i("div",E,a(s(r).errors.description),1)):n("",!0)])])]),t("div",X,[e[32]||(e[32]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"ค่าโปรโมชั่น",-1)),t("div",Y,[s(r).type==="percentage"?(d(),i("div",G,[e[23]||(e[23]=t("label",{for:"value",class:"block text-sm font-medium text-gray-700"},"เปอร์เซ็นต์ส่วนลด *",-1)),t("div",H,[l(t("input",{id:"value","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).value=o),type:"number",step:"0.01",min:"0",max:"100",class:u(["block w-full pr-12 border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.value}]),required:""},null,2),[[m,s(r).value]]),e[22]||(e[22]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),s(r).errors.value?(d(),i("div",I,a(s(r).errors.value),1)):n("",!0)])):n("",!0),s(r).type==="fixed_amount"?(d(),i("div",J,[e[25]||(e[25]=t("label",{for:"value",class:"block text-sm font-medium text-gray-700"},"จำนวนเงินส่วนลด *",-1)),t("div",K,[l(t("input",{id:"value","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).value=o),type:"number",step:"0.01",min:"0",class:u(["block w-full pr-12 border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.value}]),required:""},null,2),[[m,s(r).value]]),e[24]||(e[24]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"฿")],-1))]),s(r).errors.value?(d(),i("div",O,a(s(r).errors.value),1)):n("",!0)])):n("",!0),s(r).type==="buy_x_get_y"?(d(),i("div",P,[t("div",Q,[t("div",null,[e[26]||(e[26]=t("label",{for:"minimum_quantity",class:"block text-sm font-medium text-gray-700"},"ซื้อขั้นต่ำ *",-1)),l(t("input",{id:"minimum_quantity","onUpdate:modelValue":e[5]||(e[5]=o=>s(r).minimum_quantity=o),type:"number",min:"1",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.minimum_quantity}]),required:""},null,2),[[m,s(r).minimum_quantity]]),s(r).errors.minimum_quantity?(d(),i("div",R,a(s(r).errors.minimum_quantity),1)):n("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{for:"free_quantity",class:"block text-sm font-medium text-gray-700"},"แถมฟรี *",-1)),l(t("input",{id:"free_quantity","onUpdate:modelValue":e[6]||(e[6]=o=>s(r).free_quantity=o),type:"number",min:"1",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.free_quantity}]),required:""},null,2),[[m,s(r).free_quantity]]),s(r).errors.free_quantity?(d(),i("div",W,a(s(r).errors.free_quantity),1)):n("",!0)])])])):n("",!0),s(r).type==="percentage"||s(r).type==="fixed_amount"?(d(),i("div",Z,[e[29]||(e[29]=t("label",{for:"minimum_amount",class:"block text-sm font-medium text-gray-700"},"ยอดขั้นต่ำ",-1)),t("div",$,[l(t("input",{id:"minimum_amount","onUpdate:modelValue":e[7]||(e[7]=o=>s(r).minimum_amount=o),type:"number",step:"0.01",min:"0",class:u(["block w-full pr-12 border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.minimum_amount}])},null,2),[[m,s(r).minimum_amount]]),e[28]||(e[28]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"฿")],-1))]),s(r).errors.minimum_amount?(d(),i("div",ee,a(s(r).errors.minimum_amount),1)):n("",!0)])):n("",!0),s(r).type==="percentage"?(d(),i("div",te,[e[31]||(e[31]=t("label",{for:"maximum_discount",class:"block text-sm font-medium text-gray-700"},"ส่วนลดสูงสุด",-1)),t("div",se,[l(t("input",{id:"maximum_discount","onUpdate:modelValue":e[8]||(e[8]=o=>s(r).maximum_discount=o),type:"number",step:"0.01",min:"0",class:u(["block w-full pr-12 border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.maximum_discount}])},null,2),[[m,s(r).maximum_discount]]),e[30]||(e[30]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"฿")],-1))]),s(r).errors.maximum_discount?(d(),i("div",re,a(s(r).errors.maximum_discount),1)):n("",!0)])):n("",!0)])]),t("div",oe,[e[35]||(e[35]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"ระยะเวลาโปรโมชั่น",-1)),t("div",de,[t("div",null,[e[33]||(e[33]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"วันที่เริ่มต้น *",-1)),l(t("input",{id:"start_date","onUpdate:modelValue":e[9]||(e[9]=o=>s(r).start_date=o),type:"datetime-local",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.start_date}]),required:""},null,2),[[m,s(r).start_date]]),s(r).errors.start_date?(d(),i("div",ie,a(s(r).errors.start_date),1)):n("",!0)]),t("div",null,[e[34]||(e[34]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"วันที่สิ้นสุด *",-1)),l(t("input",{id:"end_date","onUpdate:modelValue":e[10]||(e[10]=o=>s(r).end_date=o),type:"datetime-local",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.end_date}]),required:""},null,2),[[m,s(r).end_date]]),s(r).errors.end_date?(d(),i("div",ne,a(s(r).errors.end_date),1)):n("",!0)])])]),t("div",le,[e[38]||(e[38]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"สินค้าที่ใช้โปรโมชั่น",-1)),t("div",ae,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"หมวดหมู่สินค้า",-1)),t("div",ue,[(d(!0),i(k,null,_(f.categories,o=>(d(),i("label",{key:o.id,class:"flex items-center space-x-2 p-2 border rounded-md hover:bg-gray-100 cursor-pointer"},[l(t("input",{"onUpdate:modelValue":e[11]||(e[11]=g=>s(r).applicable_categories=g),value:o.id,type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,8,me),[[b,s(r).applicable_categories]]),t("span",ge,a(o.name),1)]))),128))])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"สินค้า",-1)),t("div",pe,[(d(!0),i(k,null,_(f.products,o=>(d(),i("label",{key:o.id,class:"flex items-center space-x-2 p-2 border rounded-md hover:bg-gray-100 cursor-pointer"},[l(t("input",{"onUpdate:modelValue":e[12]||(e[12]=g=>s(r).applicable_products=g),value:o.id,type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,8,ce),[[b,s(r).applicable_products]]),t("span",be,a(o.name),1)]))),128))])])])]),t("div",fe,[e[42]||(e[42]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"จำกัดการใช้งาน",-1)),t("div",ye,[t("div",null,[e[39]||(e[39]=t("label",{for:"usage_limit",class:"block text-sm font-medium text-gray-700"},"จำนวนครั้งที่ใช้ได้",-1)),l(t("input",{id:"usage_limit","onUpdate:modelValue":e[13]||(e[13]=o=>s(r).usage_limit=o),type:"number",min:"0",class:u(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",{"border-red-500":s(r).errors.usage_limit}]),placeholder:"ไม่จำกัด"},null,2),[[m,s(r).usage_limit]]),s(r).errors.usage_limit?(d(),i("div",xe,a(s(r).errors.usage_limit),1)):n("",!0),e[40]||(e[40]=t("p",{class:"mt-1 text-sm text-gray-500"},"เว้นว่างหรือใส่ 0 หากไม่ต้องการจำกัด",-1))]),t("div",ve,[l(t("input",{id:"is_active","onUpdate:modelValue":e[14]||(e[14]=o=>s(r).is_active=o),type:"checkbox",class:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"},null,512),[[b,s(r).is_active]]),e[41]||(e[41]=t("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," เปิดใช้งานโปรโมชั่น ",-1))])])]),t("div",_e,[c(s(v),{href:y.route("promotions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:p(()=>[...e[43]||(e[43]=[x(" ยกเลิก ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[s(r).processing?(d(),i("span",we,"กำลังบันทึก...")):(d(),i("span",qe,"บันทึกโปรโมชั่น"))],8,ke)])],32)])])])])]),_:1}))}};export{Be as default};
