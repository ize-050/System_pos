import{B as I,r as Q,o as G,a as l,c as H,w as B,d as t,e as m,v as V,f as A,g as n,h as N,t as i,F as T,i as g,n as U,E as F}from"./app-3d7f0e19.js";import{A as K}from"./AppLayout-daa2be83.js";/* empty css            */import"./ApplicationLogo-2b775c7a.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white shadow-lg rounded-lg p-6 mb-6"},Y={class:"p-6"},Z={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},tt=["value"],et={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ot={class:"p-6"},it={class:"flex items-center"},rt={class:"ml-5 w-0 flex-1"},at={class:"text-lg font-medium text-gray-900"},lt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},nt={class:"p-6"},dt={class:"flex items-center"},ct={class:"ml-5 w-0 flex-1"},ut={class:"text-lg font-medium text-gray-900"},mt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},gt={class:"p-6"},xt={class:"flex items-center"},pt={class:"ml-5 w-0 flex-1"},ft={class:"text-lg font-medium text-gray-900"},yt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},vt={class:"p-6"},ht={class:"flex items-center"},wt={class:"ml-5 w-0 flex-1"},bt={class:"text-lg font-medium text-gray-900"},_t={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8"},kt={class:"p-6"},Ct={class:"text-lg font-medium text-gray-900 mb-4"},Pt={class:"h-64 flex items-center justify-center"},St={key:0,class:"w-full h-full"},Dt={key:1,class:"text-gray-500"},jt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Mt={class:"p-6"},Rt={class:"overflow-x-auto"},$t={class:"min-w-full divide-y divide-gray-200"},Bt={class:"bg-white divide-y divide-gray-200"},Vt={class:"px-6 py-4 whitespace-nowrap"},At={class:"flex items-center"},Nt={key:0,class:"flex-shrink-0 h-10 w-10"},Tt=["src","alt"],Ut={class:"ml-4"},Ft={class:"text-sm font-medium text-gray-900"},Ot={class:"text-sm text-gray-500"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qt={class:"px-6 py-4 whitespace-nowrap"},Gt={class:"px-6 py-4 whitespace-nowrap"},Ht={key:0},Kt={key:0,class:"mt-6"},Jt={class:"flex items-center justify-between"},Wt={class:"flex-1 flex justify-between sm:hidden"},Xt=["disabled"],Yt=["disabled"],Zt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},te={class:"text-sm text-gray-700"},ee={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},se=["disabled"],oe=["disabled"],de={__name:"ProductReport",props:{summary:Object,reportData:Array,chartData:Array,categories:Array,pagination:Object,filters:Object},setup(o){var p,f,y,v,h;const d=o,a=I({start_date:((p=d.filters)==null?void 0:p.start_date)||new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end_date:((f=d.filters)==null?void 0:f.end_date)||new Date().toISOString().split("T")[0],category_id:((y=d.filters)==null?void 0:y.category_id)||"",sort_by:((v=d.filters)==null?void 0:v.sort_by)||"quantity_sold",page:((h=d.filters)==null?void 0:h.page)||1}),O=Q(null),c=r=>parseFloat(r||0).toFixed(2),x=r=>parseFloat(r||0).toFixed(1),z=r=>r>=30?"bg-green-100 text-green-800":r>=15?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",E=r=>r<=0?"bg-red-100 text-red-800":r<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",L=()=>{a.page=1,F.get(route("reports.products"),a,{preserveState:!0,preserveScroll:!0})},u=r=>{a.page=r,F.get(route("reports.products"),a,{preserveState:!0,preserveScroll:!0})},q=()=>{const r=new URLSearchParams(a);r.append("export","csv"),window.open(`${route("reports.products")}?${r.toString()}`,"_blank")};return G(()=>{console.log("Product Report mounted with data:",d)}),(r,e)=>(l(),H(K,{title:"Product Performance Report"},{header:B(()=>[...e[8]||(e[8]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Product Performance Report ",-1)])]),default:B(()=>{var w,b,_,k,C,P,S,D,j,M,R;return[t("div",J,[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.start_date=s),type:"date",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,512),[[V,a.start_date]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.end_date=s),type:"date",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,512),[[V,a.end_date]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.category_id=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[e[11]||(e[11]=t("option",{value:""},"All Categories",-1)),(l(!0),n(T,null,N(o.categories,s=>(l(),n("option",{key:s.id,value:s.id},i(s.name),9,tt))),128))],512),[[A,a.category_id]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sort By",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.sort_by=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[...e[13]||(e[13]=[t("option",{value:"quantity_sold"},"Quantity Sold",-1),t("option",{value:"revenue"},"Revenue",-1),t("option",{value:"profit"},"Profit",-1),t("option",{value:"name"},"Product Name",-1)])],512),[[A,a.sort_by]])]),t("div",{class:"flex items-end"},[t("button",{onClick:L,type:"button",class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Generate Report ")])])])]),t("div",et,[t("div",st,[t("div",ot,[t("div",it,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",rt,[t("dl",null,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Products Sold ",-1)),t("dd",at,i(((w=o.summary)==null?void 0:w.total_products_sold)||0),1)])])])])]),t("div",lt,[t("div",nt,[t("div",dt,[e[18]||(e[18]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",ct,[t("dl",null,[e[17]||(e[17]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Revenue ",-1)),t("dd",ut," $"+i(c(((b=o.summary)==null?void 0:b.total_revenue)||0)),1)])])])])]),t("div",mt,[t("div",gt,[t("div",xt,[e[20]||(e[20]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t("div",pt,[t("dl",null,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Profit ",-1)),t("dd",ft," $"+i(c(((_=o.summary)==null?void 0:_.total_profit)||0)),1)])])])])]),t("div",yt,[t("div",vt,[t("div",ht,[e[22]||(e[22]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),t("div",wt,[t("dl",null,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Avg Profit Margin ",-1)),t("dd",bt,i(x(((k=o.summary)==null?void 0:k.avg_profit_margin)||0))+"% ",1)])])])])])]),t("div",_t,[t("div",kt,[t("h3",Ct,"Top 10 Products by "+i(a.sort_by.replace("_"," ").toUpperCase()),1),t("div",Pt,[o.chartData&&o.chartData.length>0?(l(),n("div",St,[t("canvas",{ref_key:"productsChart",ref:O},null,512)])):(l(),n("div",Dt," No product data available for the selected period "))])])]),t("div",jt,[t("div",Mt,[t("div",{class:"flex justify-between items-center mb-4"},[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900"},"Product Performance Details",-1)),t("button",{onClick:q,type:"button",class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Export CSV ")]),t("div",Rt,[t("table",$t,[e[25]||(e[25]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Qty Sold "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Revenue "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cost "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Profit "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Margin % "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Current Stock ")])],-1)),t("tbody",Bt,[(l(!0),n(T,null,N(o.reportData,s=>{var $;return l(),n("tr",{key:s.id},[t("td",Vt,[t("div",At,[s.image?(l(),n("div",Nt,[t("img",{class:"h-10 w-10 rounded-full object-cover",src:s.image,alt:s.name},null,8,Tt)])):g("",!0),t("div",Ut,[t("div",Ft,i(s.name),1),t("div",Ot,"SKU: "+i(s.sku),1)])])]),t("td",zt,i((($=s.category)==null?void 0:$.name)||"N/A"),1),t("td",Et,i(s.quantity_sold||0),1),t("td",Lt," $"+i(c(s.revenue||0)),1),t("td",qt," $"+i(c(s.total_cost||0)),1),t("td",It," $"+i(c(s.profit||0)),1),t("td",Qt,[t("span",{class:U([z(s.profit_margin||0),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},i(x(s.profit_margin||0))+"% ",3)]),t("td",Gt,[t("span",{class:U([E(s.current_stock||0),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},i(s.current_stock||0),3)])])}),128)),!o.reportData||o.reportData.length===0?(l(),n("tr",Ht,[...e[24]||(e[24]=[t("td",{colspan:"8",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"}," No product data available for the selected criteria ",-1)])])):g("",!0)])])]),o.reportData&&o.reportData.length>0?(l(),n("div",Kt,[t("nav",Jt,[t("div",Wt,[t("button",{disabled:!((C=o.pagination)!=null&&C.prev_page_url),onClick:e[4]||(e[4]=s=>u(o.pagination.current_page-1)),class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Xt),t("button",{disabled:!((P=o.pagination)!=null&&P.next_page_url),onClick:e[5]||(e[5]=s=>u(o.pagination.current_page+1)),class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Yt)]),t("div",Zt,[t("div",null,[t("p",te," Showing "+i(((S=o.pagination)==null?void 0:S.from)||0)+" to "+i(((D=o.pagination)==null?void 0:D.to)||0)+" of "+i(((j=o.pagination)==null?void 0:j.total)||0)+" results ",1)]),t("div",null,[t("nav",ee,[t("button",{disabled:!((M=o.pagination)!=null&&M.prev_page_url),onClick:e[6]||(e[6]=s=>u(o.pagination.current_page-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,se),t("button",{disabled:!((R=o.pagination)!=null&&R.next_page_url),onClick:e[7]||(e[7]=s=>u(o.pagination.current_page+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,oe)])])])])])):g("",!0)])])])])]}),_:1}))}};export{de as default};
