import{B as D,a as i,c as v,w as c,d as e,t as o,e as x,v as S,f as w,g as l,h as p,F as g,j as b,m as _,k as h,x as m,n as O,Y as H,i as L,E as k}from"./app-3d7f0e19.js";import{A as N}from"./AppLayout-daa2be83.js";/* empty css            */import"./ApplicationLogo-2b775c7a.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"py-12"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6"},A={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},F={class:"text-2xl font-bold"},I={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},U={class:"text-2xl font-bold text-yellow-600"},z={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},Y={class:"text-2xl font-bold text-blue-600"},q={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},G={class:"text-2xl font-bold text-green-600"},J={class:"bg-white overflow-hidden shadow-sm rounded-lg p-6"},K={class:"text-2xl font-bold text-red-600"},Q={class:"bg-white overflow-hidden shadow-sm rounded-lg mb-6 p-6"},R={class:"flex flex-wrap gap-4 items-center justify-between"},W={class:"flex gap-4 flex-1"},X=["value"],Z={class:"flex gap-2"},$={class:"bg-white overflow-hidden shadow-sm rounded-lg"},ee={class:"min-w-full divide-y divide-gray-200"},te={class:"bg-white divide-y divide-gray-200"},se={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},le={key:0,class:"px-6 py-4 border-t"},ne={class:"flex justify-between items-center"},ce={class:"text-sm text-gray-700"},ue={class:"flex gap-2"},fe={__name:"Index",props:{purchaseOrders:Object,statistics:Object,suppliers:Array,filters:Object},setup(r){const u=r,d=D({search:u.filters.search||"",status:u.filters.status||"all",supplier_id:u.filters.supplier_id||""}),C=()=>{k.get(route("purchase-orders.index"),d,{preserveState:!0,replace:!0})},f=()=>{k.get(route("purchase-orders.index"),d,{preserveState:!0,replace:!0})},T=()=>{window.location.href=route("purchase-orders.export")},V=a=>new Date(a).toLocaleDateString("th-TH"),j=a=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(a),B=a=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",shipping:"bg-blue-100 text-blue-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return(a,t)=>(i(),v(N,{title:"Purchase Orders"},{header:c(()=>[...t[3]||(t[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"ใบสั่งซื้อสินค้า (PO)",-1)])]),default:c(()=>{var y;return[e("div",E,[e("div",M,[e("div",P,[e("div",A,[t[4]||(t[4]=e("div",{class:"text-gray-500 text-sm"},"ฉบับร่าง",-1)),e("div",F,o(r.statistics.draft),1)]),e("div",I,[t[5]||(t[5]=e("div",{class:"text-gray-500 text-sm"},"รอดำเนินการ",-1)),e("div",U,o(r.statistics.pending),1)]),e("div",z,[t[6]||(t[6]=e("div",{class:"text-gray-500 text-sm"},"กำลังจัดส่ง",-1)),e("div",Y,o(r.statistics.shipping),1)]),e("div",q,[t[7]||(t[7]=e("div",{class:"text-gray-500 text-sm"},"รับสินค้าแล้ว",-1)),e("div",G,o(r.statistics.received),1)]),e("div",J,[t[8]||(t[8]=e("div",{class:"text-gray-500 text-sm"},"ยกเลิก",-1)),e("div",K,o(r.statistics.cancelled),1)])]),e("div",Q,[e("div",R,[e("div",W,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.search=s),type:"text",placeholder:"ค้นหาเลขที่ PO หรือซัพพลายเออร์...",class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:C},null,544),[[S,d.search]]),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.status=s),class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:f},[...t[9]||(t[9]=[e("option",{value:"all"},"ทุกสถานะ",-1),e("option",{value:"draft"},"ฉบับร่าง",-1),e("option",{value:"pending"},"รอดำเนินการ",-1),e("option",{value:"shipping"},"กำลังจัดส่ง",-1),e("option",{value:"received"},"รับสินค้าแล้ว",-1),e("option",{value:"cancelled"},"ยกเลิก",-1)])],544),[[w,d.status]]),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.supplier_id=s),class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:f},[t[10]||(t[10]=e("option",{value:""},"ซัพพลายเออร์ทั้งหมด",-1)),(i(!0),l(g,null,p(r.suppliers,s=>(i(),l("option",{key:s.id,value:s.id},o(s.name),9,X))),128))],544),[[w,d.supplier_id]])]),e("div",Z,[e("button",{onClick:T,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," ส่งออก Excel "),b(h(m),{href:a.route("purchase-orders.create"),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"},{default:c(()=>[...t[11]||(t[11]=[_(" + สร้างใบสั่งซื้อ ",-1)])]),_:1},8,["href"])])])]),e("div",$,[e("table",ee,[t[13]||(t[13]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"เลขที่ PO"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ซัพพลายเออร์"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"วันที่สั่ง"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ยอดรวม"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"สถานะ"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"จัดการ")])],-1)),e("tbody",te,[(i(!0),l(g,null,p(r.purchaseOrders.data,s=>{var n;return i(),l("tr",{key:s.id},[e("td",se,o(s.po_number),1),e("td",re,o(((n=s.supplier)==null?void 0:n.name)||"-"),1),e("td",oe,o(V(s.order_date)),1),e("td",de,o(j(s.total_amount)),1),e("td",ae,[e("span",{class:O([B(s.status),"px-2 py-1 text-xs rounded-full"])},o(s.status),3)]),e("td",ie,[b(h(m),{href:a.route("purchase-orders.show",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:c(()=>[...t[12]||(t[12]=[_(" ดูรายละเอียด ",-1)])]),_:1},8,["href"])])])}),128))])]),(y=r.purchaseOrders)!=null&&y.links&&r.purchaseOrders.links.length>0?(i(),l("div",le,[e("div",ne,[e("div",ce," แสดง "+o(r.purchaseOrders.from||0)+" ถึง "+o(r.purchaseOrders.to||0)+" จากทั้งหมด "+o(r.purchaseOrders.total||0)+" รายการ ",1),e("div",ue,[(i(!0),l(g,null,p(r.purchaseOrders.links,(s,n)=>(i(),v(H(s.url?h(m):"span"),{key:n,href:s.url||void 0,class:O(["px-3 py-2 rounded-md text-sm",s.active?"bg-indigo-600 text-white":"bg-white text-gray-700",s.url?"hover:bg-gray-50 cursor-pointer":"opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):L("",!0)])])])]}),_:1}))}};export{fe as default};
