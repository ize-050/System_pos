import{r as u,z as R,E as be,o as Ee,J as qe,a as l,c as Se,w as ye,d as e,t as r,g as n,e as b,v as q,i as d,h as M,n as y,F as T,s as oe,f as he,N as Pe,m as le,O as _e,G as we}from"./app-cfb3a24f.js";import{A as $e}from"./AppLayout-e7d94700.js";import{_ as He}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */import"./ApplicationLogo-506cd769.js";const Le={class:"flex items-center justify-between"},Re={class:"hidden md:flex items-center space-x-4"},Ne={class:"text-sm text-gray-600"},Xe={class:"text-sm text-gray-600"},Oe={class:"py-4 lg:py-6"},Ue={class:"max-w-full mx-auto px-4 sm:px-6 lg:px-8"},Ie={class:"lg:hidden"},Fe={class:"bg-white rounded-lg shadow-md p-4 mb-4"},De={class:"flex items-center justify-between mb-4"},Ke={key:0,class:"mb-4"},Ge={class:"flex flex-wrap gap-2"},We=["onClick"],Qe={class:"space-y-3 mb-20"},Je=["onClick"],Ze={class:"flex items-center space-x-3"},Ye={class:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center"},et=["src","alt"],tt={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},st={class:"flex-1"},ot={class:"font-medium text-gray-900"},lt={class:"text-sm text-gray-500"},nt={class:"flex items-center justify-between mt-1"},rt={class:"text-lg font-bold text-primary-600"},at={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50"},it={class:"flex items-center justify-between mb-2"},dt={class:"text-sm text-gray-600"},ut={class:"text-lg font-bold text-primary-600"},ct=["disabled"],vt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},pt={class:"bg-white w-full max-h-[80vh] rounded-t-xl overflow-hidden"},mt={class:"p-4 border-b border-gray-200"},ft={class:"flex items-center justify-between"},gt={class:"p-4 overflow-y-auto max-h-96"},xt={key:0,class:"text-center py-8 text-gray-500"},bt={key:1,class:"space-y-3"},yt={class:"flex-1"},ht={class:"font-medium"},_t={class:"text-sm text-gray-500"},wt={class:"flex items-center space-x-2"},kt=["onClick"],Ct={class:"w-8 text-center"},jt=["onClick"],Mt=["onClick"],Tt={class:"p-4 border-t border-gray-200"},zt={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},At={class:"flex items-center justify-between"},Vt={class:"relative inline-flex items-center cursor-pointer"},Bt={class:"space-y-2 mb-4"},Et={class:"flex justify-between text-sm"},qt={key:0,class:"flex justify-between text-sm"},St={class:"flex justify-between font-bold text-lg border-t pt-2"},Pt={class:"text-primary-600"},$t={class:"flex space-x-2"},Ht={class:"hidden lg:grid lg:grid-cols-12 lg:gap-4",style:{height:"calc(100vh - 140px)"}},Lt={class:"lg:col-span-5"},Rt={class:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col h-full"},Nt={class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 shadow-md flex-shrink-0"},Xt={class:"flex items-center justify-between text-white"},Ot={class:"bg-white text-indigo-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-sm"},Ut={class:"overflow-y-auto bg-white flex-shrink-0",style:{height:"280px"}},It={key:0,class:"flex flex-col items-center justify-center h-full py-8"},Ft={key:1,class:"p-3 space-y-2"},Dt={class:"flex justify-between items-start"},Kt={class:"flex-1 pr-2"},Gt={class:"font-bold text-gray-900 text-sm leading-tight mb-1"},Wt={class:"text-xs text-gray-600"},Qt={class:"text-right"},Jt={class:"text-lg font-bold text-gray-900"},Zt={class:"border-t bg-white px-4 py-3 flex-shrink-0"},Yt=["value"],es={class:"border-t bg-white px-4 py-2.5 flex-shrink-0"},ts={class:"flex items-center justify-between"},ss={class:"relative inline-flex items-center cursor-pointer"},os={class:"border-t bg-gray-50 px-4 py-3 flex-shrink-0"},ls={class:"space-y-1.5 mb-2"},ns={class:"flex justify-between text-sm text-gray-700"},rs={class:"font-semibold"},as={key:0,class:"flex justify-between text-sm text-green-600"},is={class:"font-semibold"},ds={key:1,class:"flex justify-between text-sm text-blue-600"},us={class:"font-semibold"},cs={class:"flex justify-between text-2xl font-bold border-t-2 border-gray-300 pt-2"},vs={class:"text-indigo-600"},ps={class:"border-t bg-white px-4 py-3 flex-shrink-0"},ms={class:"grid grid-cols-2 gap-2 mb-2"},fs={key:0},gs={key:0,class:"mt-1.5 text-sm"},xs={class:"font-bold text-green-600 ml-1"},bs={key:1,class:"text-xs text-gray-600 mt-2"},ys={class:"border-t bg-gray-50 p-3 flex-shrink-0"},hs={class:"grid grid-cols-2 gap-2"},_s=["disabled"],ws=["disabled"],ks={class:"lg:col-span-7 overflow-y-auto h-full"},Cs={class:"bg-white rounded-lg shadow-md p-6 mb-6"},js={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ms={class:"relative"},Ts={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"},zs=["onClick"],As={class:"font-medium"},Vs={class:"text-sm text-gray-500"},Bs={class:"text-sm text-gray-500"},Es={key:0,class:"p-3 bg-blue-50 rounded-lg border border-blue-200"},qs={class:"flex items-center justify-between"},Ss={class:"flex-1"},Ps={class:"font-medium text-blue-900"},$s={class:"text-sm text-blue-700"},Hs={class:"text-sm text-blue-700"},Ls={class:"text-xs text-blue-600 mt-1"},Rs={key:1,class:"p-3 bg-gray-50 rounded-lg border border-gray-200"},Ns={class:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg shadow-md p-4 mb-6"},Xs={class:"flex items-center space-x-4"},Os={class:"flex-1"},Us={key:0,class:"mt-2 text-white text-sm"},Is={class:"bg-white rounded-lg shadow-md p-6 mb-6"},Fs={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},Ds={class:"flex-1 lg:mr-4"},Ks={class:"relative"},Gs={class:"flex space-x-2"},Ws=["value"],Qs={class:"bg-white rounded-lg shadow-md p-6"},Js={key:0,class:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded"},Zs={class:"flex items-center justify-between"},Ys={class:"flex items-center space-x-2 text-sm"},eo={class:"text-gray-700"},to={key:0},so={key:1},oo={key:2},lo={key:1,class:"flex flex-col items-center justify-center py-16"},no={key:2,class:"flex flex-col items-center justify-center py-16"},ro={key:3,class:"grid grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},ao=["onClick"],io={class:"absolute top-2 right-2 z-10"},uo={class:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden relative"},co=["src","alt"],vo={key:1,class:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},po={class:"space-y-1"},mo={class:"font-semibold text-gray-900 text-sm leading-tight line-clamp-2 min-h-[2.5rem]"},fo={class:"text-xs text-gray-500 flex items-center"},go={class:"pt-2"},xo={class:"text-xl font-bold text-primary-600"},bo={key:4,class:"text-center py-8"},yo={key:5,class:"text-center py-8 text-gray-500"},ho={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},_o={class:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto"},wo={class:"p-6"},ko={class:"mb-6 p-4 bg-gray-50 rounded-lg"},Co={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},jo={class:"flex items-center justify-between"},Mo={class:"relative inline-flex items-center cursor-pointer"},To={class:"space-y-1 text-sm"},zo={class:"flex justify-between"},Ao={class:"flex justify-between"},Vo={key:0,class:"flex justify-between text-green-600"},Bo={key:1,class:"flex justify-between"},Eo={class:"flex justify-between font-bold text-lg border-t pt-1"},qo={class:"text-primary-600"},So={class:"mb-6"},Po={class:"relative"},$o={class:"flex items-center"},Ho={key:0,class:"flex items-center"},Lo={class:"flex-shrink-0 mr-3"},Ro={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},No={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},Xo={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},Oo={class:"font-medium text-sm text-gray-900"},Uo={key:1,class:"text-gray-500"},Io={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Fo={class:"flex items-center"},Do={class:"flex-shrink-0 ml-auto"},Ko={key:0,class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},Go={key:0,class:"px-4 py-3 text-center text-gray-500"},Wo=["onClick"],Qo={class:"flex items-center"},Jo={class:"flex-shrink-0 mr-3"},Zo={key:0,class:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center"},Yo={key:1,class:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center"},el={key:2,class:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center"},tl={class:"flex-1"},sl={class:"font-medium text-sm text-gray-900"},ol={class:"text-xs text-gray-500"},ll={class:"flex-shrink-0 ml-2"},nl={key:0,class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},rl={key:0,class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg"},al={class:"flex items-center justify-between"},il={class:"flex items-center"},dl={class:"text-sm font-medium text-green-800"},ul={class:"text-sm font-bold text-green-600"},cl={class:"mb-6"},vl={class:"space-y-2"},pl={class:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50"},ml=["disabled"],fl={key:0,class:"text-sm text-red-600 ml-6"},gl={key:0,class:"mb-6"},xl={key:0,class:"mt-2 p-2 bg-green-50 rounded text-sm"},bl={class:"text-green-800"},yl={key:1,class:"mt-2 p-2 bg-red-50 rounded text-sm"},hl={key:1,class:"mb-6"},_l={key:0,class:"mt-2 max-h-40 overflow-y-auto border rounded-lg"},wl=["onClick"],kl={class:"font-medium"},Cl={class:"text-sm text-gray-500"},jl={class:"text-sm text-gray-500"},Ml={key:1,class:"mt-2 p-3 bg-blue-50 rounded-lg"},Tl={class:"font-medium"},zl={class:"text-sm text-gray-600"},Al={key:0,class:"text-sm text-red-600 mt-1"},Vl={class:"flex space-x-3"},Bl=["disabled"],El={__name:"POS",setup(ql){const x=u(""),h=u(""),W=u(!1),U=u(!1),Q=u(!1),S=u(!1),ne=u(""),I=u(null),z=u(""),A=u("");let B="",N=null;const re=o=>{const t=document.activeElement,a=t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable;if(t!==I.value&&!a){if(o.key==="Enter"&&B.length>0){o.preventDefault(),z.value=B,G(),B="";return}o.key.length===1&&/[a-zA-Z0-9]/.test(o.key)&&(o.preventDefault(),B+=o.key,N&&clearTimeout(N),N=setTimeout(()=>{B.length>=3&&(z.value=B,G()),B=""},100))}},j=u([]),F=u([]),v=u([]),ae=u([]),P=u(null),m=u(null),_=u(0),$=u(!1),D=R(()=>v.value.length===0?[]:ae.value.filter(o=>o.applicable_products&&o.applicable_products.length>0?v.value.some(t=>o.applicable_products.includes(t.product_id)):!0)),g=u("cash"),k=u(0),X=u(""),H=u([]),E=u(""),V=u([]),f=u(null),C=u(!0),ke=R(()=>{const o=[{id:"",label:"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",count:j.value.length,active:h.value===""}];return F.value.forEach(t=>{const a=j.value.filter(i=>i.category_id===t.id).length;o.push({id:t.id,label:t.name,count:a,active:h.value==t.id})}),o}),L=R(()=>v.value.reduce((o,t)=>{const a=Number(t.price)*Number(t.quantity);return o+a},0)),K=R(()=>C.value?(L.value-_.value)*.07:0),w=R(()=>{const o=L.value-_.value,t=C.value?o*.07:0;return o+t}),ie=R(()=>v.value.length===0?!1:g.value==="cash"?k.value>=w.value:g.value==="customer_account"?f.value&&f.value.available_credit>=w.value:!0),c=o=>new Intl.NumberFormat("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),de=o=>o<=0?"bg-red-100 text-red-800":o<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",O=async()=>{var o;if(x.value.length<2&&!h.value){await J();return}S.value=!0;try{const t=new URLSearchParams;x.value&&t.append("query",x.value),h.value&&t.append("category",h.value);const a=await fetch(`/pos/search-products?${t.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=await a.json();j.value=Array.isArray(i)?i:i.products||[]}catch(t){console.error("Error searching products:",t),j.value=[]}finally{S.value=!1}},Ce=async()=>{var o;if(X.value.length<2){H.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(X.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();H.value=a.customers||[]}catch(t){console.error("Error searching customers:",t),H.value=[]}},je=async()=>{var o;if(E.value.length<2){V.value=[];return}try{const t=await fetch(`/pos/search-customers?query=${encodeURIComponent(E.value)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();V.value=a.customers||[]}catch(t){console.error("Error searching main customers:",t),V.value=[]}},Me=o=>{f.value=o,E.value=o.name||o.company_name,V.value=[]},Te=()=>{f.value=null,E.value="",V.value=[]},G=async()=>{var o;if(!z.value.trim()){A.value="‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å Barcode";return}A.value="";try{const t=await fetch(`/pos/barcode/${encodeURIComponent(z.value.trim())}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok){t.status===404?A.value=`‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Barcode: ${z.value}`:A.value="‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤";return}const a=await t.json();a&&a.id?(Z(a),z.value="",A.value="",I.value&&I.value.focus()):A.value=`‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Barcode: ${z.value}`}catch(t){console.error("Error searching by barcode:",t),A.value="‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"}},J=async()=>{var o;S.value=!0;try{const t=await fetch("/pos/search-products",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();j.value=Array.isArray(a)?a:a.products||[]}catch(t){console.error("Error loading products:",t),j.value=[]}finally{S.value=!1}},ze=async()=>{try{const o=await fetch("/api/categories",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const t=await o.json();F.value=t.data||[]}catch(o){console.error("Error loading categories:",o)}},Z=o=>{if(o.current_stock<=0)return;const t=v.value.find(a=>a.product_id===o.id);t?t.quantity<o.current_stock&&t.quantity++:v.value.push({id:Date.now()+Math.random(),product_id:o.id,product_name:o.name,price:o.selling_price,quantity:1,max_stock:o.current_stock})},ue=({id:o,change:t})=>{const a=v.value.find(s=>s.id===o);if(!a)return;const i=a.quantity+t;i<=0?ce(o):i<=a.max_stock&&(a.quantity=i)},ce=o=>{const t=v.value.findIndex(a=>a.id===o);t>-1&&v.value.splice(t,1)},Y=()=>{v.value=[],m.value=null,_.value=0,f.value=null,E.value="",V.value=[]},Ae=o=>{h.value=o.id,O()},Ve=()=>{x.value="",h.value="",O()},ee=()=>{Q.value=!1,g.value="cash",k.value=0,X.value="",H.value=[]},ve=async()=>{var o,t;try{const a={items:v.value.map(p=>({product_id:p.product_id,quantity:p.quantity,unit_price:p.price})),payment_method:g.value,total_amount:w.value,tax_amount:K.value,customer_id:((o=f.value)==null?void 0:o.id)||null,received_amount:g.value==="cash"?k.value:w.value,promotion_id:((t=m.value)==null?void 0:t.id)||null,discount_amount:_.value},i=await fetch("/pos/process-sale",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(a)});if(!i.ok){const p=await i.json();alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: "+(p.message||p.error||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"));return}const s=await i.json();s.success?(Y(),ee(),confirm(`‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à: ${s.sale_number}

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)?(window.open(`/receipts/${s.sale.id}/print`,"_blank","width=800,height=600"),setTimeout(()=>{we.visit("/sales")},1e3)):we.visit("/sales")):alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: "+(s.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ"))}catch(a){console.error("Error processing payment:",a),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô")}},pe=()=>{const o=new Date;ne.value=o.toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},me=async()=>{var o;try{const t=v.value.map(i=>i.product_id),a=await fetch("/pos/promotions/active",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({product_ids:t,cart_total:L.value})});if(a.ok){const i=await a.json();ae.value=i}else console.error("Failed to load promotions:",a.status)}catch(t){console.error("Error loading promotions:",t)}},te=o=>{if(!o)return"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©";let t=o.name||"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô";const a=o.type||o.discount_type,i=o.value||o.discount_value;if(a==="percentage"&&i)t+=` (‡∏•‡∏î ${i}%)`;else if(a==="fixed_amount"&&i)t+=` (‡∏•‡∏î ‡∏ø${i})`;else if(a==="buy_x_get_y"){const s=o.min_quantity||1,p=o.free_quantity||1;t+=` (‡∏ã‡∏∑‡πâ‡∏≠ ${s} ‡πÅ‡∏ñ‡∏° ${p})`}return t},fe=o=>{switch(o){case"percentage":return"text-blue-600";case"fixed_amount":return"text-green-600";case"buy_x_get_y":return"text-purple-600";default:return"text-orange-600"}},Be=()=>{if(P.value){const o=D.value.find(t=>t.id===P.value);o&&ge(o)}else xe()},ge=async o=>{var t;if(o)try{const a=await fetch("/pos/promotions/apply",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({promotion_id:o.id,cart_items:v.value.map(i=>({product_id:i.product_id,quantity:i.quantity,price:i.price}))})});if(a.ok){const i=await a.json();m.value=o,_.value=i.discount||0}else{const i=await a.json();let s="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ";i.error?s+=": "+i.error:i.message&&(s+=": "+i.message),alert(s),P.value=null,m.value=null,_.value=0}}catch(a){console.error("Error applying promotion:",a),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå"),P.value=null,m.value=null,_.value=0}},xe=()=>{m.value=null,_.value=0};return be(x,()=>{x.value.length===0&&J()}),be(v,()=>{me()},{deep:!0}),Ee(async()=>{pe(),setInterval(pe,1e3),document.addEventListener("keydown",re),await Promise.all([J(),ze(),me()])}),qe(()=>{document.removeEventListener("keydown",re),N&&clearTimeout(N)}),(o,t)=>(l(),Se($e,{title:"‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS)"},{header:ye(()=>[e("div",Le,[t[22]||(t[22]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô (POS) ",-1)),e("div",Re,[e("span",Ne,"‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô: "+r(o.$page.props.auth.user.name),1),e("span",Xe,r(ne.value),1)])])]),default:ye(()=>{var a,i;return[e("div",Oe,[e("div",Ue,[e("div",Ie,[e("div",Fe,[e("div",De,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold"},"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),e("button",{onClick:t[0]||(t[0]=s=>W.value=!W.value),class:"btn btn-primary btn-sm"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),W.value?(l(),n("div",Ke,[b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),onInput:O,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..."},null,544),[[q,x.value]])])):d("",!0),e("div",Ge,[(l(!0),n(T,null,M(ke.value,s=>(l(),n("button",{key:s.id,onClick:p=>Ae(s),class:y(["px-3 py-1 rounded-full text-sm font-medium transition-colors",s.active?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},r(s.label)+" ("+r(s.count)+") ",11,We))),128))])]),e("div",Qe,[(l(!0),n(T,null,M(j.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:p=>Z(s)},[e("div",Ze,[e("div",Ye,[s.image?(l(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover rounded-lg"},null,8,et)):(l(),n("svg",tt,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])]))]),e("div",st,[e("h4",ot,r(s.name),1),e("p",lt,r(s.category),1),e("div",nt,[e("span",rt,"‡∏ø"+r(c(s.selling_price)),1),e("span",{class:y([de(s.current_stock),"px-2 py-1 rounded-full text-xs font-medium"])}," ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ "+r(s.current_stock),3)])])])],8,Je))),128))]),e("div",at,[e("div",it,[e("span",dt,r(v.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",1),e("span",ut,"‡∏ø"+r(c(w.value)),1)]),e("button",{onClick:t[2]||(t[2]=s=>U.value=!0),disabled:v.value.length===0,class:"w-full btn btn-primary"}," ‡∏î‡∏π‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ",8,ct)]),U.value?(l(),n("div",vt,[e("div",pt,[e("div",mt,[e("div",ft,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold"},"‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),e("button",{onClick:t[3]||(t[3]=s=>U.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[26]||(t[26]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",gt,[v.value.length===0?(l(),n("div",xt," ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ")):(l(),n("div",bt,[(l(!0),n(T,null,M(v.value,s=>(l(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",yt,[e("h4",ht,r(s.product_name),1),e("p",_t,r(s.quantity)+" ‡∏´‡∏ô‡πà‡∏ß‡∏¢ x ‡∏ø"+r(c(s.price))+" / ‡∏´‡∏ô‡πà‡∏ß‡∏¢",1)]),e("div",wt,[e("button",{onClick:p=>ue({id:s.id,change:-1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[28]||(t[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,kt),e("span",Ct,r(s.quantity),1),e("button",{onClick:p=>ue({id:s.id,change:1}),class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,jt),e("button",{onClick:p=>ce(s.id),class:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center"},[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Mt)])]))),128))]))]),e("div",Tt,[e("div",zt,[e("div",At,[t[32]||(t[32]=e("div",null,[e("h4",{class:"font-medium text-sm text-blue-800"},"‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (VAT)"),e("p",{class:"text-xs text-blue-600"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ VAT 7%")],-1)),e("label",Vt,[b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>C.value=s),type:"checkbox",class:"sr-only peer","aria-label":"‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î VAT"},null,512),[[oe,C.value]]),t[31]||(t[31]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",Bt,[e("div",Et,[t[33]||(t[33]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",null,"‡∏ø"+r(c(L.value)),1)]),C.value?(l(),n("div",qt,[t[34]||(t[34]=e("span",null,"‡∏†‡∏≤‡∏©‡∏µ (7%):",-1)),e("span",null,"‡∏ø"+r(c(K.value)),1)])):d("",!0),e("div",St,[t[35]||(t[35]=e("span",null,"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:",-1)),e("span",Pt,"‡∏ø"+r(c(w.value)),1)])]),e("div",$t,[e("button",{onClick:Y,class:"flex-1 btn btn-outline"},"‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤"),e("button",{onClick:t[5]||(t[5]=s=>{Q.value=!0,U.value=!1}),class:"flex-1 btn btn-primary"},"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô")])])])])):d("",!0)]),e("div",Ht,[e("div",Lt,[e("div",Rt,[e("div",Nt,[e("div",Xt,[t[36]||(t[36]=e("h2",{class:"text-xl font-bold"},"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)),e("span",Ot,r(v.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ",1)])]),e("div",Ut,[v.value.length===0?(l(),n("div",It,[...t[37]||(t[37]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),e("p",{class:"text-gray-500 text-center text-sm font-medium"},"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤",-1)])])):(l(),n("div",Ft,[(l(!0),n(T,null,M(v.value,s=>(l(),n("div",{key:s.id,class:"bg-gray-50 rounded-lg p-3 border border-gray-200 hover:border-indigo-300 transition-all"},[e("div",Dt,[e("div",Kt,[e("h4",Gt,r(s.product_name),1),e("p",Wt,r(s.quantity)+" ‡∏´‡∏ô‡πà‡∏ß‡∏¢ x ‡∏ø"+r(c(s.price))+" / ‡∏´‡∏ô‡πà‡∏ß‡∏¢",1)]),e("div",Qt,[e("span",Jt,"‡∏ø"+r(c(s.price*s.quantity)),1)])])]))),128))]))]),e("div",Zt,[t[39]||(t[39]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-1.5"},"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",-1)),b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>P.value=s),onChange:Be,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"},[t[38]||(t[38]=e("option",{value:null},"‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô",-1)),(l(!0),n(T,null,M(D.value,s=>(l(),n("option",{key:s.id,value:s.id},r(te(s)),9,Yt))),128))],544),[[he,P.value]])]),e("div",es,[e("div",ts,[t[41]||(t[41]=e("span",{class:"text-xs font-semibold text-gray-700"},"VAT 7%",-1)),e("label",ss,[b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>C.value=s),type:"checkbox",class:"sr-only peer"},null,512),[[oe,C.value]]),t[40]||(t[40]=e("div",{class:"w-10 h-5 bg-gray-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"},null,-1))])])]),e("div",os,[e("div",ls,[e("div",ns,[t[42]||(t[42]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",rs,"‡∏ø"+r(c(L.value)),1)]),_.value>0?(l(),n("div",as,[t[43]||(t[43]=e("span",null,"‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î:",-1)),e("span",is,"-‡∏ø"+r(c(_.value)),1)])):d("",!0),C.value?(l(),n("div",ds,[t[44]||(t[44]=e("span",null,"VAT (7%):",-1)),e("span",us,"‡∏ø"+r(c(K.value)),1)])):d("",!0)]),e("div",cs,[t[45]||(t[45]=e("span",{class:"text-gray-900"},"Total:",-1)),e("span",vs,"‡∏ø"+r(c(w.value)),1)])]),e("div",ps,[t[48]||(t[48]=e("label",{class:"block text-xs font-semibold text-gray-700 mb-2"},"‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",-1)),e("div",ms,[e("button",{onClick:t[8]||(t[8]=s=>g.value="cash"),class:y([g.value==="cash"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ",2),e("button",{onClick:t[9]||(t[9]=s=>g.value="transfer"),class:y([g.value==="transfer"?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700","py-2 rounded-lg font-semibold text-sm hover:opacity-90 transition-all"])}," ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ",2)]),g.value==="cash"?(l(),n("div",fs,[t[47]||(t[47]=e("label",{class:"block text-xs text-gray-600 mb-1"},"‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏≤",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>k.value=s),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"0.00"},null,512),[[q,k.value,void 0,{number:!0}]]),k.value>=w.value?(l(),n("div",gs,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:",-1)),e("span",xs,"‡∏ø"+r(c(k.value-w.value)),1)])):d("",!0)])):d("",!0),g.value==="transfer"?(l(),n("div",bs," ‡∏ä‡∏≥‡∏£‡∏∞‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ")):d("",!0)]),t[49]||(t[49]=e("div",{class:"flex-1"},null,-1)),e("div",ys,[e("div",hs,[e("button",{onClick:Y,disabled:v.value.length===0,class:"py-3 bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:text-gray-400 text-red-700 font-bold rounded-lg transition-colors"}," ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ",8,_s),e("button",{onClick:ve,disabled:!ie.value,class:"py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 disabled:from-gray-300 disabled:to-gray-300 text-white font-bold rounded-lg shadow-lg transition-all"}," ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ",8,ws)])])])]),e("div",ks,[e("div",Cs,[t[54]||(t[54]=e("h3",{class:"text-lg font-semibold mb-4"},"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),e("div",js,[e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),e("div",Ms,[b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>E.value=s),onInput:je,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ ‡∏´‡∏£‡∏∑‡∏∏‡∏≠ Line ID..."},null,544),[[q,E.value]]),V.value.length>0?(l(),n("div",Ts,[(l(!0),n(T,null,M(V.value,s=>(l(),n("div",{key:s.id,onClick:p=>Me(s),class:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0"},[e("div",As,r(s.name||s.company_name),1),e("div",Vs,r(s.phone),1),e("div",Bs,"‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô: ‡∏ø"+r(c(s.credit_limit)),1)],8,zs))),128))])):d("",!0)]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å",-1)),f.value?(l(),n("div",Es,[e("div",qs,[e("div",Ss,[e("div",Ps,r(f.value.name||f.value.company_name),1),e("div",$s,r(f.value.phone),1),e("div",Hs," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(f.value.available_credit)),1),e("div",Ls," ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: "+r(f.value.customer_type==="individual"?"‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏î‡∏≤":"‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•"),1)]),e("button",{onClick:Te,class:"ml-2 text-blue-400 hover:text-blue-600"},[...t[50]||(t[50]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):(l(),n("div",Rs,[...t[51]||(t[51]=[e("div",{class:"text-gray-500 text-center"},[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",{class:"text-sm"},"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"),e("div",{class:"text-xs text-gray-400 mt-1"},"‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î")],-1)])]))])])])]),e("div",Ns,[e("div",Xs,[t[55]||(t[55]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])],-1)),e("div",Os,[b(e("input",{ref_key:"barcodeInput",ref:I,"onUpdate:modelValue":t[12]||(t[12]=s=>z.value=s),onKeyup:Pe(G,["enter"]),type:"text",class:"block w-full px-4 py-3 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-lg",placeholder:"üî´ ‡∏™‡πÅ‡∏Å‡∏ô Barcode ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™ Barcode ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter...",autofocus:""},null,544),[[q,z.value]])]),e("button",{onClick:G,class:"px-4 py-3 bg-white text-green-600 rounded-lg font-semibold hover:bg-green-50 transition-colors"}," ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ")]),A.value?(l(),n("p",Us,r(A.value),1)):d("",!0)]),e("div",Is,[e("div",Fs,[e("div",Ds,[e("div",Ks,[t[56]||(t[56]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>x.value=s),onInput:O,type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..."},null,544),[[q,x.value]])])]),e("div",Gs,[b(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>h.value=s),onChange:O,class:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500"},[t[57]||(t[57]=e("option",{value:""},"‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",-1)),(l(!0),n(T,null,M(F.value,s=>(l(),n("option",{key:s.id,value:s.id},r(s.name),9,Ws))),128))],544),[[he,h.value]])])])]),e("div",Qs,[x.value||h.value?(l(),n("div",Js,[e("div",Zs,[e("div",Ys,[t[60]||(t[60]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("span",eo,[x.value?(l(),n("span",to,[t[58]||(t[58]=le("‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ",-1)),e("strong",null,'"'+r(x.value)+'"',1)])):d("",!0),x.value&&h.value?(l(),n("span",so," ‚Ä¢ ")):d("",!0),h.value?(l(),n("span",oo,[t[59]||(t[59]=le("‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ",-1)),e("strong",null,r((a=F.value.find(s=>s.id==h.value))==null?void 0:a.name),1)])):d("",!0)])]),e("button",{onClick:Ve,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ")])])):d("",!0),S.value?(l(),n("div",lo,[...t[61]||(t[61]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4"},null,-1),e("p",{class:"text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...",-1)])])):j.value.length===0?(l(),n("div",no,[...t[62]||(t[62]=[e("svg",{class:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-gray-500 text-lg font-medium mb-2"},"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1),e("p",{class:"text-gray-400 text-sm"},"‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà",-1)])])):(l(),n("div",ro,[(l(!0),n(T,null,M(j.value,s=>(l(),n("div",{key:s.id,class:y(["group relative bg-white rounded-xl p-4 cursor-pointer border-2 border-gray-100 hover:border-primary-400 hover:shadow-lg transition-all duration-200",{"opacity-60 cursor-not-allowed":s.current_stock<=0}]),onClick:p=>Z(s)},[e("div",io,[e("span",{class:y([de(s.current_stock),"px-2.5 py-1 rounded-full text-xs font-semibold shadow-sm"])},r(s.current_stock)+" ‡∏ä‡∏¥‡πâ‡∏ô ",3)]),e("div",uo,[s.image?(l(),n("img",{key:0,src:s.image,alt:s.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,co)):(l(),n("svg",vo,[...t[63]||(t[63]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])])),t[64]||(t[64]=e("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 flex items-center justify-center transition-all duration-200"},[e("div",{class:"transform scale-0 group-hover:scale-100 transition-transform duration-200"},[e("div",{class:"bg-primary-500 text-white rounded-full p-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])])])],-1))]),e("div",po,[e("h3",mo,r(s.name),1),e("p",fo,[t[65]||(t[65]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),le(" "+r(s.category),1)]),e("div",go,[e("span",xo,"‡∏ø"+r(c(s.selling_price)),1)])])],10,ao))),128))])),S.value?(l(),n("div",bo,[...t[66]||(t[66]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"},null,-1),e("p",{class:"mt-2 text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...",-1)])])):j.value.length===0?(l(),n("div",yo,[...t[67]||(t[67]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"mt-2"},"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",-1)])])):d("",!0)])])]),Q.value?(l(),n("div",ho,[e("div",_o,[e("div",wo,[e("div",{class:"flex items-center justify-between mb-6"},[t[69]||(t[69]=e("h3",{class:"text-lg font-semibold"},"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",-1)),e("button",{onClick:ee,class:"text-gray-400 hover:text-gray-600"},[...t[68]||(t[68]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ko,[t[76]||(t[76]=e("h4",{class:"font-medium mb-2"},"‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠",-1)),e("div",Co,[e("div",jo,[t[71]||(t[71]=e("div",null,[e("h5",{class:"font-medium text-sm text-blue-800"},"‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (VAT)"),e("p",{class:"text-xs text-blue-600"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏∏‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ VAT 7%")],-1)),e("label",Mo,[b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>C.value=s),type:"checkbox",class:"sr-only peer","aria-label":"‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î VAT"},null,512),[[oe,C.value]]),t[70]||(t[70]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",To,[e("div",zo,[t[72]||(t[72]=e("span",null,"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:",-1)),e("span",null,r(v.value.length)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",1)]),e("div",Ao,[t[73]||(t[73]=e("span",null,"‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:",-1)),e("span",null,"‡∏ø"+r(c(L.value)),1)]),_.value>0?(l(),n("div",Vo,[e("span",null,"‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î ("+r((i=m.value)==null?void 0:i.name)+"):",1),e("span",null,"-‡∏ø"+r(c(_.value)),1)])):d("",!0),C.value?(l(),n("div",Bo,[t[74]||(t[74]=e("span",null,"‡∏†‡∏≤‡∏©‡∏µ (7%):",-1)),e("span",null,"‡∏ø"+r(c(K.value)),1)])):d("",!0),e("div",Eo,[t[75]||(t[75]=e("span",null,"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:",-1)),e("span",qo,"‡∏ø"+r(c(w.value)),1)])])]),e("div",So,[t[90]||(t[90]=e("h4",{class:"font-medium mb-3"},"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ",-1)),e("div",Po,[e("button",{onClick:t[16]||(t[16]=s=>$.value=!$.value),class:y(["w-full flex items-center justify-between px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",{"border-green-500 bg-green-50":m.value,"border-gray-300":!m.value}])},[e("div",$o,[m.value?(l(),n("div",Ho,[e("div",Lo,[m.value.type==="percentage"?(l(),n("div",Ro,[...t[77]||(t[77]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):m.value.type==="fixed_amount"?(l(),n("div",No,[...t[78]||(t[78]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(l(),n("div",Xo,[...t[79]||(t[79]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",null,[e("div",Oo,r(m.value.name),1),e("div",{class:y(["text-xs font-medium",fe(m.value.type)])},r(te(m.value)),3)])])):(l(),n("div",Uo," ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô "))]),(l(),n("svg",{class:y(["w-5 h-5 text-gray-400 transition-transform",{"rotate-180":$.value}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[80]||(t[80]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2))],2),$.value?(l(),n("div",Io,[e("div",{onClick:t[17]||(t[17]=s=>{xe(),$.value=!1}),class:y(["px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100",{"bg-blue-50":!m.value}])},[e("div",Fo,[t[82]||(t[82]=e("div",{class:"flex-shrink-0 mr-3"},[e("div",{class:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)),t[83]||(t[83]=e("div",null,[e("div",{class:"font-medium text-sm text-gray-900"},"‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô"),e("div",{class:"text-xs text-gray-500"},"‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥")],-1)),e("div",Do,[m.value?d("",!0):(l(),n("svg",Ko,[...t[81]||(t[81]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))])])],2),D.value.length===0?(l(),n("div",Go,[...t[84]||(t[84]=[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-gray-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("span",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤")],-1)])])):d("",!0),(l(!0),n(T,null,M(D.value,s=>{var p,se;return l(),n("div",{key:s.id,onClick:Sl=>{ge(s),$.value=!1},class:y(["px-4 py-3 hover:bg-gray-50 cursor-pointer",{"bg-green-50":((p=m.value)==null?void 0:p.id)===s.id}])},[e("div",Qo,[e("div",Jo,[s.type==="percentage"?(l(),n("div",Zo,[...t[85]||(t[85]=[e("svg",{class:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])])):s.type==="fixed_amount"?(l(),n("div",Yo,[...t[86]||(t[86]=[e("svg",{class:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})],-1)])])):(l(),n("div",el,[...t[87]||(t[87]=[e("svg",{class:"w-3 h-3 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)])]))]),e("div",tl,[e("div",sl,r(s.name),1),e("div",ol,r(s.description),1),e("div",{class:y(["text-xs font-medium mt-1",fe(s.type)])},r(te(s)),3)]),e("div",ll,[((se=m.value)==null?void 0:se.id)===s.id?(l(),n("svg",nl,[...t[88]||(t[88]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):d("",!0)])])],10,Wo)}),128))])):d("",!0)]),m.value?(l(),n("div",rl,[e("div",al,[e("div",il,[t[89]||(t[89]=e("svg",{class:"w-4 h-4 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),e("span",dl,"‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ: "+r(m.value.name),1)]),e("span",ul,"-‡∏ø"+r(c(_.value)),1)])])):d("",!0)]),e("div",cl,[t[93]||(t[93]=e("h4",{class:"font-medium mb-3"},"‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",-1)),e("div",vl,[e("label",pl,[b(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>g.value=s),type:"radio",value:"cash",class:"mr-3"},null,512),[[_e,g.value]]),t[91]||(t[91]=e("div",{class:"flex items-center"},[e("span",{class:"text-2xl mr-2"},"üí∞"),e("span",null,"‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î")],-1))]),e("label",{class:y(["flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",{"opacity-50 cursor-not-allowed":!f.value}])},[b(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>g.value=s),type:"radio",value:"customer_account",class:"mr-3",disabled:!f.value},null,8,ml),[[_e,g.value]]),t[92]||(t[92]=e("div",{class:"flex items-center"},[e("span",{class:"text-2xl mr-2"},"üè¢"),e("span",null,"‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï (‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)")],-1))],2),!f.value&&g.value==="customer_account"?(l(),n("div",fl," ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï ")):d("",!0)])]),g.value==="cash"?(l(),n("div",gl,[t[95]||(t[95]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö",-1)),b(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>k.value=s),type:"number",step:"0.01",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"0.00"},null,512),[[q,k.value,void 0,{number:!0}]]),k.value>=w.value?(l(),n("div",xl,[e("span",bl,"‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô: ‡∏ø"+r(c(k.value-w.value)),1)])):k.value>0?(l(),n("div",yl,[...t[94]||(t[94]=[e("span",{class:"text-red-800"},"‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠",-1)])])):d("",!0)])):d("",!0),g.value==="customer_account"?(l(),n("div",hl,[t[96]||(t[96]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",-1)),b(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>X.value=s),onInput:Ce,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤..."},null,544),[[q,X.value]]),H.value.length>0?(l(),n("div",_l,[(l(!0),n(T,null,M(H.value,s=>{var p;return l(),n("div",{key:s.id,onClick:se=>f.value=s,class:y(["p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",{"bg-primary-50":((p=f.value)==null?void 0:p.id)===s.id}])},[e("div",kl,r(s.name),1),e("div",Cl,r(s.company_name),1),e("div",jl,"‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(s.available_credit)),1)],10,wl)}),128))])):d("",!0),f.value?(l(),n("div",Ml,[e("div",Tl,r(f.value.name),1),e("div",zl,"‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡∏ø"+r(c(f.value.available_credit)),1),f.value.available_credit<w.value?(l(),n("div",Al," ‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ")):d("",!0)])):d("",!0)])):d("",!0),e("div",Vl,[e("button",{onClick:ee,class:"flex-1 btn btn-outline"},"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"),e("button",{onClick:ve,disabled:!ie.value,class:"flex-1 btn btn-primary"}," ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ",8,Bl)])])])])):d("",!0)])])]}),_:1}))}},Nl=He(El,[["__scopeId","data-v-c4886a1d"]]);export{Nl as default};
