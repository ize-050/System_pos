import{A as N,r as m,D as A,a as n,c as y,w as l,d as e,j as v,m as d,k as u,x as c,e as _,v as D,f as M,g as a,h as C,t as r,F as b,n as w,i as j,E as B}from"./app-52dfa1a6.js";import{A as T}from"./AppLayout-39f8b0fe.js";/* empty css            */import"./ApplicationLogo-8547e154.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6 bg-white border-b border-gray-200"},$={class:"mb-6 flex justify-between items-center"},q={class:"flex items-center space-x-3"},G={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},J=["value"],K={class:"bg-white rounded-lg shadow overflow-x-auto",style:{"-webkit-overflow-scrolling":"touch"}},Q={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1000px"}},R={class:"bg-white divide-y divide-gray-200"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"flex-shrink-0 h-16 w-16"},Y=["src","alt"],Z={key:1,class:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"text-sm font-medium text-gray-900"},se={class:"text-sm text-gray-500"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},de={class:"px-6 py-4 whitespace-nowrap"},ue={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ce={class:"flex justify-end space-x-2"},xe=["onClick"],pe={key:0,class:"mt-6"},ge={class:"flex items-center justify-between"},fe={class:"flex-1 flex justify-between sm:hidden"},he={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},me={class:"text-sm text-gray-700"},ye={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},je={__name:"Index",props:{products:Object,categories:Array,filters:Object},setup(i){const k=i;N();const h=m(null),x=m(k.filters.search||""),p=m(k.filters.category_id||""),g=m(k.filters.status||"");A([x,p,g],()=>{B.get(route("products.index"),{search:x.value,category_id:p.value,status:g.value},{preserveState:!0,replace:!0})},{debounce:300});const E=()=>{x.value="",p.value="",g.value=""},S=o=>o.is_active?o.current_stock<=0?"สินค้าหมด":o.current_stock<=o.reorder_point?"สต็อกต่ำ":"ใช้งาน":"ไม่ใช้งาน",V=o=>o.is_active?o.current_stock<=0?"bg-red-100 text-red-800":o.current_stock<=o.reorder_point?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",z=o=>{confirm("คุณแน่ใจหรือไม่ที่จะลบสินค้านี้?")&&B.delete(route("products.destroy",o))},F=()=>{window.location.href=route("products.template.download")},L=()=>{h.value.click()},H=o=>{const t=o.target.files[0];if(t){const s=new FormData;s.append("file",t),B.post(route("products.import"),s,{onSuccess:()=>{h.value.value=""},onError:()=>{h.value.value=""}})}};return(o,t)=>(n(),y(T,{title:"จัดการสินค้า"},{header:l(()=>[...t[3]||(t[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการสินค้า ",-1)])]),default:l(()=>[e("div",U,[e("div",I,[e("div",P,[e("div",O,[e("div",$,[t[8]||(t[8]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการสินค้า",-1)),e("div",q,[v(u(c),{href:o.route("products.create"),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:l(()=>[...t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" เพิ่มสินค้า ",-1)])]),_:1},8,["href"]),e("button",{onClick:F,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),d(" ดาวน์โหลดแม่แบบ ",-1)])]),e("button",{onClick:L,class:"inline-flex items-center px-4 py-2 bg-orange-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-orange-700 focus:bg-orange-700 active:bg-orange-900 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition ease-in-out duration-150"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})],-1),d(" นำเข้า Excel ",-1)])]),v(u(c),{href:o.route("products.barcode-labels"),class:"inline-flex items-center px-4 py-2 bg-purple-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-700 focus:bg-purple-700 active:bg-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:l(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),d(" พิมพ์ Barcode ",-1)])]),_:1},8,["href"]),e("input",{ref_key:"fileInput",ref:h,type:"file",accept:".xlsx,.xls",onChange:H,class:"hidden"},null,544)])]),e("div",G,[e("div",null,[_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),type:"text",placeholder:"ค้นหาสินค้า...",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,512),[[D,x.value]])]),e("div",null,[_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>p.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[t[9]||(t[9]=e("option",{value:""},"หมวดหมู่ทั้งหมด",-1)),(n(!0),a(b,null,C(i.categories,s=>(n(),a("option",{key:s.id,value:s.id},r(s.name),9,J))),128))],512),[[M,p.value]])]),e("div",null,[_(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...t[10]||(t[10]=[e("option",{value:""},"สถานะทั้งหมด",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1),e("option",{value:"low_stock"},"สต็อกต่ำ",-1),e("option",{value:"out_of_stock"},"สินค้าหมด",-1)])],512),[[M,g.value]])]),e("div",null,[e("button",{onClick:E,class:"w-full px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out"}," ล้างตัวกรอง ")])]),e("div",K,[e("table",Q,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รูปภาพ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ชื่อสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รหัสสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," หมวดหมู่ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาขาย "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาต้นทุน "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สต็อก "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," จุดสั่งซื้อ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," การดำเนินการ ")])],-1)),e("tbody",R,[(n(!0),a(b,null,C(i.products.data,s=>{var f;return n(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",W,[e("div",X,[s.image_path?(n(),a("img",{key:0,src:`/storage/${s.image_path}`,alt:s.name,class:"h-16 w-16 rounded-lg object-cover"},null,8,Y)):(n(),a("div",Z,[...t[11]||(t[11]=[e("svg",{class:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))])]),e("td",ee,[e("div",te,r(s.name),1),e("div",se,r(s.description),1)]),e("td",oe,r(s.sku),1),e("td",re,r(((f=s.category)==null?void 0:f.name)||"-"),1),e("td",ne," ฿"+r(Number(s.selling_price).toLocaleString()),1),e("td",ie," ฿"+r(Number(s.cost_price).toLocaleString()),1),e("td",ae,[e("span",{class:w(s.current_stock<=s.reorder_point?"text-red-600 font-semibold":"")},r(s.current_stock),3)]),e("td",le,r(s.reorder_point),1),e("td",de,[e("span",{class:w([V(s),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},r(S(s)),3)]),e("td",ue,[e("div",ce,[v(u(c),{href:o.route("products.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:l(()=>[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),v(u(c),{href:o.route("products.edit",s.id),class:"text-yellow-600 hover:text-yellow-900"},{default:l(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:ve=>z(s.id),class:"text-red-600 hover:text-red-900"},[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xe)])])])}),128))])])]),i.products.links.length>3?(n(),a("div",pe,[e("nav",ge,[e("div",fe,[i.products.prev_page_url?(n(),y(u(c),{key:0,href:i.products.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>[...t[16]||(t[16]=[d(" Previous ",-1)])]),_:1},8,["href"])):j("",!0),i.products.next_page_url?(n(),y(u(c),{key:1,href:i.products.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>[...t[17]||(t[17]=[d(" Next ",-1)])]),_:1},8,["href"])):j("",!0)]),e("div",he,[e("div",null,[e("p",me," Showing "+r(i.products.from)+" to "+r(i.products.to)+" of "+r(i.products.total)+" results ",1)]),e("div",null,[e("nav",ye,[(n(!0),a(b,null,C(i.products.links,(s,f)=>(n(),a(b,null,[s.url?(n(),y(u(c),{key:"link-"+f,href:s.url,class:w(["relative inline-flex items-center px-2 py-2 border text-sm font-medium",s.active?"z-10 bg-green-500 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:l(()=>[d(r(s.label),1)]),_:2},1032,["href","class"])):(n(),a("span",{key:"span-"+f,class:w(["relative inline-flex items-center px-2 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500"])},r(s.label),1))],64))),256))])])])])])):j("",!0)])])])])]),_:1}))}};export{je as default};
