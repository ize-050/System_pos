import{A as E}from"./AppLayout-39f8b0fe.js";import{l as F,x as A,B as S,C as j,E as v,J as w,a,c as x,w as n,d as e,j as f,m as u,e as h,v as L,f as _,g as c,h as k,t as r,n as g,F as y,i as b}from"./app-52dfa1a6.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-8547e154.js";/* empty css            */const V={components:{AppLayout:E,Head:F,Link:A},props:{users:Object,filters:Object},setup(i){const s=S({search:i.filters.search||"",role:i.filters.role||"",status:i.filters.status||""}),l=j.debounce(()=>{v.get(route("users.index"),s,{preserveState:!0,replace:!0})},300);return{form:s,search:l,clearFilters:()=>{s.search="",s.role="",s.status="",l()},getRoleClass:t=>({admin:"bg-red-100 text-red-800",manager:"bg-yellow-100 text-yellow-800",cashier:"bg-green-100 text-green-800"})[t]||"bg-gray-100 text-gray-800",getRoleText:t=>({admin:"ผู้ดูแลระบบ",manager:"ผู้จัดการ",cashier:"พนักงานขาย"})[t]||t,formatDate:t=>new Date(t).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),deleteUser:t=>{confirm(`คุณแน่ใจหรือไม่ที่จะลบ ${t.first_name} ${t.last_name}?`)&&v.delete(route("users.destroy",t.id))}}}},R={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6 bg-white border-b border-gray-200"},z={class:"mb-6 flex justify-between items-center"},H={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},M={class:"bg-white rounded-lg shadow overflow-hidden"},I={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4 whitespace-nowrap"},q={class:"flex items-center"},G={class:"flex-shrink-0 h-10 w-10"},K={class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center text-sm font-medium text-gray-700"},P={class:"ml-4"},Q={class:"text-sm font-medium text-gray-900"},W={class:"text-sm text-gray-500"},X={class:"text-xs text-gray-400"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 whitespace-nowrap"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},te=["onClick"],se={key:0,class:"mt-6"},oe={class:"flex items-center justify-between"},re={class:"flex-1 flex justify-between sm:hidden"},le={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ae={class:"text-sm text-gray-700"},ne={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"};function ie(i,s,l,o,B,C){const d=w("Link"),p=w("AppLayout");return a(),x(p,{title:"จัดการผู้ใช้งาน"},{header:n(()=>[...s[7]||(s[7]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการผู้ใช้งาน ",-1)])]),default:n(()=>[e("div",R,[e("div",T,[e("div",U,[e("div",N,[e("div",z,[s[9]||(s[9]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการผู้ใช้งาน",-1)),f(d,{href:i.route("users.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150",style:{"background-color":"#6B7B47","border-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:n(()=>[...s[8]||(s[8]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),u(" เพิ่มผู้ใช้ใหม่ ",-1)])]),_:1},8,["href"])]),e("div",H,[e("div",null,[h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.form.search=t),type:"text",placeholder:"ค้นหาผู้ใช้งาน...",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'",onInput:s[1]||(s[1]=(...t)=>o.search&&o.search(...t))},null,544),[[L,o.form.search]])]),e("div",null,[h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.form.role=t),onChange:s[3]||(s[3]=(...t)=>o.search&&o.search(...t)),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...s[10]||(s[10]=[e("option",{value:""},"ทุกบทบาท",-1),e("option",{value:"admin"},"ผู้ดูแลระบบ",-1),e("option",{value:"manager"},"ผู้จัดการ",-1),e("option",{value:"cashier"},"พนักงานขาย",-1)])],544),[[_,o.form.role]])]),e("div",null,[h(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.form.status=t),onChange:s[5]||(s[5]=(...t)=>o.search&&o.search(...t)),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...s[11]||(s[11]=[e("option",{value:""},"ทุกสถานะ",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1)])],544),[[_,o.form.status]])]),e("div",null,[e("button",{onClick:s[6]||(s[6]=(...t)=>o.clearFilters&&o.clearFilters(...t)),class:"w-full px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out"}," ล้างตัวกรอง ")])]),e("div",M,[e("table",I,[s[14]||(s[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ผู้ใช้งาน "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," บทบาท "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," เข้าสู่ระบบล่าสุด "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," การดำเนินการ ")])],-1)),e("tbody",O,[(a(!0),c(y,null,k(l.users.data,t=>(a(),c("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",J,[e("div",q,[e("div",G,[e("div",K,r(t.first_name.charAt(0))+r(t.last_name.charAt(0)),1)]),e("div",P,[e("div",Q,r(t.first_name)+" "+r(t.last_name),1),e("div",W,r(t.email),1),e("div",X," @"+r(t.username),1)])])]),e("td",Y,[e("span",{class:g(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.getRoleClass(t.role)])},r(o.getRoleText(t.role)),3)]),e("td",Z,[e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(t.is_active?"ใช้งาน":"ไม่ใช้งาน"),3)]),e("td",$,r(t.last_login_at?o.formatDate(t.last_login_at):"ไม่เคยเข้าสู่ระบบ"),1),e("td",ee,[f(d,{href:i.route("users.show",t.id),class:"mr-3 transition ease-in-out duration-150",style:{color:"#6B7B47"},onmouseover:"this.style.color='#8A9B5A'",onmouseout:"this.style.color='#6B7B47'"},{default:n(()=>[...s[12]||(s[12]=[u(" ดู ",-1)])]),_:1},8,["href"]),f(d,{href:i.route("users.edit",t.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:n(()=>[...s[13]||(s[13]=[u(" แก้ไข ",-1)])]),_:1},8,["href"]),e("button",{onClick:m=>o.deleteUser(t),class:"text-red-600 hover:text-red-900"}," ลบ ",8,te)])]))),128))])])]),l.users.links.length>3?(a(),c("div",se,[e("nav",oe,[e("div",re,[l.users.prev_page_url?(a(),x(d,{key:0,href:l.users.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>[...s[15]||(s[15]=[u(" ก่อนหน้า ",-1)])]),_:1},8,["href"])):b("",!0),l.users.next_page_url?(a(),x(d,{key:1,href:l.users.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>[...s[16]||(s[16]=[u(" ถัดไป ",-1)])]),_:1},8,["href"])):b("",!0)]),e("div",le,[e("div",null,[e("p",ae," แสดง "+r(l.users.from)+" ถึง "+r(l.users.to)+" จาก "+r(l.users.total)+" รายการ ",1)]),e("div",null,[e("nav",ne,[(a(!0),c(y,null,k(l.users.links,(t,m)=>(a(),c(y,null,[t.url?(a(),x(d,{key:"link-"+m,href:t.url,class:g(["relative inline-flex items-center px-2 py-2 border text-sm font-medium",t.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",t.active?{backgroundColor:"#6B7B47",borderColor:"#6B7B47"}:{}])},{default:n(()=>[u(r(t.label),1)]),_:2},1032,["href","class"])):(a(),c("span",{key:"span-"+m,class:g(["relative inline-flex items-center px-2 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500"])},r(t.label),1))],64))),256))])])])])])):b("",!0)])])])])]),_:1})}const ge=D(V,[["render",ie]]);export{ge as default};
