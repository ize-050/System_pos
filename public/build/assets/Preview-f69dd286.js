import{r as c,z as f,a as l,c as a,w as m,d as e,n as x,g as v,e as w,v as y,i as C,G as h}from"./app-cfb3a24f.js";import{A as k}from"./AppLayout-e7d94700.js";import q from"./A4Template-840abf1f.js";import j from"./ThermalTemplate-9c90bbd2.js";import P from"./DotMatrixTemplate-1d9be4fb.js";/* empty css            */import"./ApplicationLogo-506cd769.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./JsBarcode-62537342.js";const E={class:"py-12"},D={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white shadow-sm rounded-lg p-6 mb-4"},S={class:"flex justify-between items-center mb-6"},B={class:"flex gap-2"},$={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},F={class:"bg-white rounded-lg p-6 w-96"},M={class:"flex justify-end gap-2"},I={__name:"Preview",props:{sale:Object,settings:Object,qrCode:String,barcode:String},setup(t){var d;const i=t,o=c(!1),n=c({email:((d=i.sale.customer)==null?void 0:d.email)||""}),u=f(()=>i.settings.printer_type==="a4"?"border p-8":i.settings.printer_type==="dot_matrix"?"flex justify-center overflow-x-auto":"flex justify-center"),p=()=>window.print(),g=()=>window.location.href=route("receipts.download-pdf",i.sale.id),b=()=>{h.post(route("receipts.send-email",i.sale.id),n.value),o.value=!1};return(V,s)=>(l(),a(k,{title:"Receipt Preview"},{header:m(()=>[...s[3]||(s[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Receipt Preview",-1)])]),default:m(()=>[e("div",E,[e("div",D,[e("div",R,[e("div",S,[s[4]||(s[4]=e("h2",{class:"text-2xl font-bold"},"Receipt Preview",-1)),e("div",B,[e("button",{onClick:p,class:"px-4 py-2 bg-blue-600 text-white rounded-md"},"Print"),e("button",{onClick:g,class:"px-4 py-2 bg-green-600 text-white rounded-md"},"Download PDF"),e("button",{onClick:s[0]||(s[0]=r=>o.value=!0),class:"px-4 py-2 bg-purple-600 text-white rounded-md"},"Send Email")])]),e("div",{id:"receipt-content",class:x(u.value)},[t.settings.printer_type==="a4"?(l(),a(q,{key:0,sale:t.sale,settings:t.settings,qrCode:t.qrCode,barcode:t.barcode},null,8,["sale","settings","qrCode","barcode"])):t.settings.printer_type==="dot_matrix"?(l(),a(P,{key:1,sale:t.sale,settings:t.settings},null,8,["sale","settings"])):(l(),a(j,{key:2,sale:t.sale,settings:t.settings,qrCode:t.qrCode,barcode:t.barcode},null,8,["sale","settings","qrCode","barcode"]))],2)])])]),o.value?(l(),v("div",$,[e("div",F,[s[5]||(s[5]=e("h3",{class:"text-lg font-bold mb-4"},"Send Receipt via Email",-1)),w(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>n.value.email=r),type:"email",placeholder:"Email address",required:"",class:"w-full rounded-md border-gray-300 mb-4"},null,512),[[y,n.value.email]]),e("div",M,[e("button",{onClick:s[2]||(s[2]=r=>o.value=!1),class:"px-4 py-2 bg-gray-300 rounded-md"},"Cancel"),e("button",{onClick:b,class:"px-4 py-2 bg-indigo-600 text-white rounded-md"},"Send")])])])):C("",!0)]),_:1}))}};export{I as default};
