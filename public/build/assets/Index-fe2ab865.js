import{A as b}from"./AppLayout-e7d94700.js";import{l as h,x as v,r as w,z as k,a as n,c as T,w as m,L as l,j as u,d as t,n as x,g as c,F as C,h as L,t as i,m as B,i as y}from"./app-cfb3a24f.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-506cd769.js";/* empty css            */const V={components:{AppLayout:b,Head:h,Link:v},props:{customers:Array},setup(d){const e=w("debtors"),p=k(()=>{var a;return((a=d.customers)==null?void 0:a.filter(o=>o.current_balance>0))||[]});return{activeTab:e,debtors:p,formatCurrency:a=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(a||0),getCustomerTypeText:a=>({individual:"บุคคลทั่วไป",business:"นิติบุคคล",vip:"ลูกค้า VIP"})[a]||a,getDebtorStatus:a=>{const o=a.current_balance/a.credit_limit;return o>.8?"เสี่ยงสูง":o>.5?"เสี่ยงปานกลาง":"ปกติ"}}}},z={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},N={class:"border-b border-gray-200"},S={class:"-mb-px flex space-x-8 px-6","aria-label":"Tabs"},F={class:"p-6"},I={key:0},j={class:"mb-6"},M={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},G={class:"flex items-center"},J={class:"text-sm font-medium text-gray-900"},K={class:"text-sm text-gray-500"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},U={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Y={key:1};function Z(d,e,p,r,g,f){const a=l("Head"),o=l("Link"),_=l("AppLayout");return n(),T(_,{title:"ลูกหนี้/เจ้าหนี้"},{default:m(()=>[u(a,{title:"ลูกหนี้/เจ้าหนี้"}),t("div",z,[t("div",A,[t("div",D,[e[6]||(e[6]=t("div",{class:"p-6 bg-white border-b border-gray-200"},[t("div",{class:"flex justify-between items-center"},[t("h2",{class:"text-2xl font-bold text-gray-900"},"ลูกหนี้/เจ้าหนี้")])],-1)),t("div",N,[t("nav",S,[t("button",{onClick:e[0]||(e[0]=s=>r.activeTab="debtors"),class:x([r.activeTab==="debtors"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])}," ลูกหนี้ (Debtors) ",2),t("button",{onClick:e[1]||(e[1]=s=>r.activeTab="creditors"),class:x([r.activeTab==="creditors"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])}," เจ้าหนี้ (Creditors) ",2)])]),t("div",F,[r.activeTab==="debtors"?(n(),c("div",I,[t("div",j,[e[4]||(e[4]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"รายการลูกหนี้",-1)),t("div",M,[t("table",E,[e[3]||(e[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ลูกค้า "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ประเภท "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," วงเงินเครดิต "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ยอดค้างชำระ "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," วงเงินคงเหลือ "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," การดำเนินการ ")])],-1)),t("tbody",P,[(n(!0),c(C,null,L(r.debtors,s=>(n(),c("tr",{key:s.id},[t("td",q,[t("div",G,[t("div",null,[t("div",J,i(s.name),1),t("div",K,i(s.phone),1)])])]),t("td",O,i(r.getCustomerTypeText(s.customer_type)),1),t("td",Q,i(r.formatCurrency(s.credit_limit)),1),t("td",R,i(r.formatCurrency(s.current_balance)),1),t("td",U,i(r.formatCurrency(s.credit_limit-s.current_balance)),1),t("td",W,[t("span",{class:x([s.current_balance>s.credit_limit*.8?"bg-red-100 text-red-800":s.current_balance>s.credit_limit*.5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800","inline-flex px-2 text-xs font-semibold rounded-full"])},i(r.getDebtorStatus(s)),3)]),t("td",X,[u(o,{href:d.route("customers.show",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:m(()=>[...e[2]||(e[2]=[B(" ดูรายละเอียด ",-1)])]),_:1},8,["href"])])]))),128))])])])])])):y("",!0),r.activeTab==="creditors"?(n(),c("div",Y,[...e[5]||(e[5]=[t("div",{class:"mb-6"},[t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"รายการเจ้าหนี้"),t("div",{class:"bg-yellow-50 border border-yellow-200 rounded-md p-4"},[t("div",{class:"flex"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),t("div",{class:"ml-3"},[t("h3",{class:"text-sm font-medium text-yellow-800"}," ฟีเจอร์กำลังพัฒนา "),t("div",{class:"mt-2 text-sm text-yellow-700"},[t("p",null,"ระบบจัดการเจ้าหนี้กำลังอยู่ระหว่างการพัฒนา จะเปิดใช้งานในเร็วๆ นี้")])])])])],-1)])])):y("",!0)])])])])]),_:1})}const at=H(V,[["render",Z]]);export{at as default};
