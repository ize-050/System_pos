import{C as A,r as k,w as H,D as m,a,d as y,e as n,b as e,i as _,p as f,l as d,z as u,g as C,v as D,h as M,c as l,k as B,t as r,F as v,q as w,j,I as F}from"./app-6ba43703.js";import{A as P}from"./AppLayout-ac0cd7e0.js";/* empty css            */import"./ApplicationLogo-9fe9ca86.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                  */const T={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6 bg-white border-b border-gray-200"},$={class:"mb-6 flex justify-between items-center"},q={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},G=["value"],J={class:"bg-white rounded-lg shadow overflow-hidden overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},Q={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap"},W={class:"flex-shrink-0 h-16 w-16"},X=["src","alt"],Y={key:1,class:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm font-medium text-gray-900"},te={class:"text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ue={class:"flex justify-end space-x-2"},ce=["onClick"],xe={key:0,class:"mt-6"},pe={class:"flex items-center justify-between"},ge={class:"flex-1 flex justify-between sm:hidden"},he={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},me={class:"text-sm text-gray-700"},ye={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Be={__name:"Index",props:{products:Object,categories:Array,filters:Object},setup(i){var S,E;const b=i,h=A(),c=k(b.filters.search||""),x=k(b.filters.category||""),p=k(b.filters.status||"");H([c,x,p],()=>{F.get(route("products.index"),{search:c.value,category:x.value,status:p.value},{preserveState:!0,replace:!0})},{debounce:300});const V=()=>{c.value="",x.value="",p.value=""},z=o=>o.is_active?o.current_stock<=0?"สินค้าหมด":o.current_stock<=o.reorder_point?"สต็อกต่ำ":"ใช้งาน":"ไม่ใช้งาน",L=o=>o.is_active?o.current_stock<=0?"bg-red-100 text-red-800":o.current_stock<=o.reorder_point?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",N=o=>{confirm("คุณแน่ใจหรือไม่ที่จะลบสินค้านี้?")&&F.delete(route("products.destroy",o),{onSuccess:()=>{m.success("ลบสินค้าเรียบร้อยแล้ว",{position:"top-right",autoClose:3e3})},onError:()=>{m.error("เกิดข้อผิดพลาดในการลบสินค้า",{position:"top-right",autoClose:3e3})}})};return(S=h.props.flash)!=null&&S.success&&m.success(h.props.flash.success,{position:"top-right",autoClose:3e3}),(E=h.props.flash)!=null&&E.error&&m.error(h.props.flash.error,{position:"top-right",autoClose:3e3}),(o,s)=>(a(),y(P,{title:"จัดการสินค้า"},{header:n(()=>[...s[3]||(s[3]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," จัดการสินค้า ",-1)])]),default:n(()=>[e("div",T,[e("div",U,[e("div",I,[e("div",O,[e("div",$,[s[5]||(s[5]=e("h1",{class:"text-2xl font-bold text-gray-900"},"จัดการสินค้า",-1)),_(d(u),{href:o.route("products.create"),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest disabled:opacity-25 transition ease-in-out duration-150",style:{"background-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},{default:n(()=>[...s[4]||(s[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),f(" เพิ่มสินค้าใหม่ ",-1)])]),_:1},8,["href"])]),e("div",q,[e("div",null,[C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),type:"text",placeholder:"ค้นหาสินค้า...",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,512),[[D,c.value]])]),e("div",null,[C(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[s[6]||(s[6]=e("option",{value:""},"หมวดหมู่ทั้งหมด",-1)),(a(!0),l(v,null,B(i.categories,t=>(a(),l("option",{key:t.id,value:t.id},r(t.name),9,G))),128))],512),[[M,x.value]])]),e("div",null,[C(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>p.value=t),class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150",style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},[...s[7]||(s[7]=[e("option",{value:""},"สถานะทั้งหมด",-1),e("option",{value:"active"},"ใช้งาน",-1),e("option",{value:"inactive"},"ไม่ใช้งาน",-1),e("option",{value:"low_stock"},"สต็อกต่ำ",-1),e("option",{value:"out_of_stock"},"สินค้าหมด",-1)])],512),[[M,p.value]])]),e("div",null,[e("button",{onClick:V,class:"w-full px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out"}," ล้างตัวกรอง ")])]),e("div",J,[e("table",K,[s[12]||(s[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รูปภาพ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ชื่อสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," รหัสสินค้า "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," หมวดหมู่ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาขาย "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ราคาต้นทุน "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สต็อก "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," จุดสั่งซื้อ "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," สถานะ "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," การดำเนินการ ")])],-1)),e("tbody",Q,[(a(!0),l(v,null,B(i.products.data,t=>{var g;return a(),l("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",R,[e("div",W,[t.image_path?(a(),l("img",{key:0,src:`/storage/${t.image_path}`,alt:t.name,class:"h-16 w-16 rounded-lg object-cover"},null,8,X)):(a(),l("div",Y,[...s[8]||(s[8]=[e("svg",{class:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))])]),e("td",Z,[e("div",ee,r(t.name),1),e("div",te,r(t.description),1)]),e("td",se,r(t.sku),1),e("td",oe,r(((g=t.category)==null?void 0:g.name)||"-"),1),e("td",re," ฿"+r(Number(t.selling_price).toLocaleString()),1),e("td",ae," ฿"+r(Number(t.cost_price).toLocaleString()),1),e("td",ie,[e("span",{class:w(t.current_stock<=t.reorder_point?"text-red-600 font-semibold":"")},r(t.current_stock),3)]),e("td",le,r(t.reorder_point),1),e("td",ne,[e("span",{class:w([L(t),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},r(z(t)),3)]),e("td",de,[e("div",ue,[_(d(u),{href:o.route("products.show",t.id),class:"text-indigo-600 hover:text-indigo-900"},{default:n(()=>[...s[9]||(s[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),_(d(u),{href:o.route("products.edit",t.id),class:"text-yellow-600 hover:text-yellow-900"},{default:n(()=>[...s[10]||(s[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:fe=>N(t.id),class:"text-red-600 hover:text-red-900"},[...s[11]||(s[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ce)])])])}),128))])])]),i.products.links.length>3?(a(),l("div",xe,[e("nav",pe,[e("div",ge,[i.products.prev_page_url?(a(),y(d(u),{key:0,href:i.products.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>[...s[13]||(s[13]=[f(" Previous ",-1)])]),_:1},8,["href"])):j("",!0),i.products.next_page_url?(a(),y(d(u),{key:1,href:i.products.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>[...s[14]||(s[14]=[f(" Next ",-1)])]),_:1},8,["href"])):j("",!0)]),e("div",he,[e("div",null,[e("p",me," Showing "+r(i.products.from)+" to "+r(i.products.to)+" of "+r(i.products.total)+" results ",1)]),e("div",null,[e("nav",ye,[(a(!0),l(v,null,B(i.products.links,(t,g)=>(a(),l(v,null,[t.url?(a(),y(d(u),{key:"link-"+g,href:t.url,class:w(["relative inline-flex items-center px-2 py-2 border text-sm font-medium",t.active?"z-10 bg-green-500 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},{default:n(()=>[f(r(t.label),1)]),_:2},1032,["href","class"])):(a(),l("span",{key:"span-"+g,class:w(["relative inline-flex items-center px-2 py-2 border text-sm font-medium bg-white border-gray-300 text-gray-500"])},r(t.label),1))],64))),256))])])])])])):j("",!0)])])])])]),_:1}))}};export{Be as default};
