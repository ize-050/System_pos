import{r as j,z as y,a as i,c as M,w as m,d as t,t as o,j as V,m as b,k as Y,x as A,e as B,f as q,g as n,h as g,F as u,n as p,P as S,G as z}from"./app-cfb3a24f.js";import{A as C}from"./AppLayout-e7d94700.js";/* empty css            */import"./ApplicationLogo-506cd769.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"mb-6 flex justify-between items-center"},O={class:"text-gray-600"},T={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},E={class:"flex items-center gap-4"},G=["value"],H={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},U={class:"bg-white rounded-lg shadow-sm p-6"},W={class:"text-3xl font-bold text-indigo-600"},J={class:"bg-white rounded-lg shadow-sm p-6"},K={class:"text-3xl font-bold text-green-600"},Q={class:"bg-white rounded-lg shadow-sm p-6"},R={class:"text-3xl font-bold text-blue-600"},X={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"text-3xl font-bold text-purple-600"},$={class:"bg-white rounded-lg shadow-sm p-6 mb-8"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},st={class:"text-center p-4 bg-gray-50 rounded-lg"},et={class:"text-2xl font-bold text-indigo-600"},ot={class:"text-center p-4 bg-gray-50 rounded-lg"},at={class:"text-2xl font-bold text-gray-600"},dt={class:"text-sm"},lt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},it={class:"bg-white rounded-lg shadow-sm p-6"},nt={class:"space-y-2"},rt={class:"w-8 text-sm text-gray-500"},ct={class:"flex-1 h-6 bg-gray-100 rounded overflow-hidden"},mt={class:"w-24 text-right text-sm"},gt={class:"bg-white rounded-lg shadow-sm p-6"},ut={class:"space-y-3"},xt={class:"flex items-center gap-3"},ht={class:"w-8 h-8 flex items-center justify-center bg-indigo-100 text-indigo-600 rounded-full font-bold"},vt={class:"font-medium"},ft={class:"text-sm text-gray-500"},yt={class:"text-right"},bt={class:"font-bold"},pt={class:"text-sm text-gray-500"},Nt={__name:"Yearly",props:{year:[String,Number],monthlyData:Array,summary:Object,topProducts:Array,comparison:Object},setup(a){const r=a,c=j(parseInt(r.year)),_=y(()=>{const d=new Date().getFullYear();return Array.from({length:5},(s,e)=>d-e)}),w=()=>{z.get(route("reports.stock-requisitions.yearly"),{year:c.value})},k=y(()=>Math.max(...r.monthlyData.map(d=>parseFloat(d.total_cost)||0),1)),x=d=>{const s=r.monthlyData.find(e=>e.month===d);return s?parseFloat(s.total_cost):0},D=d=>x(d)/k.value*100,F=d=>["à¸¡.à¸„.","à¸.à¸ž.","à¸¡à¸µ.à¸„.","à¹€à¸¡.à¸¢.","à¸ž.à¸„.","à¸¡à¸´.à¸¢.","à¸.à¸„.","à¸ª.à¸„.","à¸.à¸¢.","à¸•.à¸„.","à¸ž.à¸¢.","à¸˜.à¸„."][d-1],l=d=>d?new Intl.NumberFormat("th-TH",{minimumFractionDigits:2}).format(d):"0.00";return(d,s)=>(i(),M(C,{title:"à¸£à¸²à¸¢à¸‡à¸²à¸™à¸à¸²à¸£à¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸²à¸¢à¸›à¸µ"},{header:m(()=>[...s[1]||(s[1]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"à¸£à¸²à¸¢à¸‡à¸²à¸™à¸à¸²à¸£à¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸²à¸¢à¸›à¸µ",-1)])]),default:m(()=>[t("div",I,[t("div",P,[t("div",L,[t("div",null,[s[2]||(s[2]=t("h1",{class:"text-2xl font-bold text-gray-900"},"à¸£à¸²à¸¢à¸‡à¸²à¸™à¸à¸²à¸£à¹€à¸šà¸´à¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸²à¸¢à¸›à¸µ",-1)),t("p",O,"à¸›à¸µ à¸ž.à¸¨. "+o(parseInt(a.year)+543),1)]),V(Y(A),{href:d.route("reports.stock-requisitions"),class:"text-gray-600 hover:text-gray-900"},{default:m(()=>[...s[3]||(s[3]=[b(" â† à¸à¸¥à¸±à¸š ",-1)])]),_:1},8,["href"])]),t("div",T,[t("div",E,[s[4]||(s[4]=t("label",{class:"text-sm font-medium text-gray-700"},"à¹€à¸¥à¸·à¸­à¸à¸›à¸µ:",-1)),B(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),onChange:w,class:"rounded-lg border-gray-300"},[(i(!0),n(u,null,g(_.value,e=>(i(),n("option",{key:e,value:e},o(e+543),9,G))),128))],544),[[q,c.value]])])]),t("div",H,[t("div",U,[s[5]||(s[5]=t("div",{class:"text-sm text-gray-500 mb-1"},"à¸ˆà¸³à¸™à¸§à¸™à¹ƒà¸šà¹€à¸šà¸´à¸",-1)),t("div",W,o(a.summary.total_requisitions),1)]),t("div",J,[s[6]||(s[6]=t("div",{class:"text-sm text-gray-500 mb-1"},"à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸£à¸§à¸¡ (à¸£à¸²à¸„à¸²à¸—à¸¸à¸™)",-1)),t("div",K,"à¸¿"+o(l(a.summary.total_cost)),1)]),t("div",Q,[s[7]||(s[7]=t("div",{class:"text-sm text-gray-500 mb-1"},"à¸ˆà¸³à¸™à¸§à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²",-1)),t("div",R,o(a.summary.total_items),1)]),t("div",X,[s[8]||(s[8]=t("div",{class:"text-sm text-gray-500 mb-1"},"à¹€à¸‰à¸¥à¸µà¹ˆà¸¢/à¹€à¸”à¸·à¸­à¸™",-1)),t("div",Z,"à¸¿"+o(l(a.summary.avg_per_month)),1)])]),t("div",$,[s[12]||(s[12]=t("h3",{class:"text-lg font-semibold mb-4"},"ðŸ“Š à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸à¸±à¸šà¸›à¸µà¸à¹ˆà¸­à¸™",-1)),t("div",tt,[t("div",st,[s[9]||(s[9]=t("div",{class:"text-sm text-gray-500"},"à¸›à¸µà¸™à¸µà¹‰",-1)),t("div",et,"à¸¿"+o(l(a.summary.total_cost)),1)]),t("div",ot,[s[10]||(s[10]=t("div",{class:"text-sm text-gray-500"},"à¸›à¸µà¸à¹ˆà¸­à¸™",-1)),t("div",at,"à¸¿"+o(l(a.comparison.last_year_total)),1)]),t("div",{class:p(["text-center p-4 rounded-lg",a.comparison.difference>=0?"bg-red-50":"bg-green-50"])},[s[11]||(s[11]=t("div",{class:"text-sm text-gray-500"},"à¸œà¸¥à¸•à¹ˆà¸²à¸‡",-1)),t("div",{class:p(["text-2xl font-bold",a.comparison.difference>=0?"text-red-600":"text-green-600"])},[b(o(a.comparison.difference>=0?"+":"")+o(l(a.comparison.difference))+" ",1),t("span",dt,"("+o(a.comparison.percentage>=0?"+":"")+o(a.comparison.percentage)+"%)",1)],2)],2)])]),t("div",lt,[t("div",it,[s[13]||(s[13]=t("h3",{class:"text-lg font-semibold mb-4"},"ðŸ“ˆ à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸à¸²à¸£à¹€à¸šà¸´à¸à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™",-1)),t("div",nt,[(i(),n(u,null,g(12,e=>t("div",{key:e,class:"flex items-center gap-2"},[t("div",rt,o(F(e)),1),t("div",ct,[t("div",{class:"h-full bg-indigo-500",style:S({width:D(e)+"%"})},null,4)]),t("div",mt,"à¸¿"+o(l(x(e))),1)])),64))])]),t("div",gt,[s[14]||(s[14]=t("h3",{class:"text-lg font-semibold mb-4"},"ðŸ† à¸ªà¸´à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¹€à¸šà¸´à¸à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”",-1)),t("div",ut,[(i(!0),n(u,null,g(a.topProducts,(e,N)=>{var h,v,f;return i(),n("div",{key:e.product_id,class:"flex justify-between items-center p-3 bg-gray-50 rounded-lg"},[t("div",xt,[t("span",ht,o(N+1),1),t("div",null,[t("div",vt,o((h=e.product)==null?void 0:h.name),1),t("div",ft,o((v=e.product)==null?void 0:v.sku),1)])]),t("div",yt,[t("div",bt,o(e.total_quantity)+" "+o(((f=e.product)==null?void 0:f.unit)||""),1),t("div",pt,"à¸¿"+o(l(e.total_cost)),1)])])}),128))])])])])])]),_:1}))}};export{Nt as default};
