import{C as T,r as M,o as q,a as n,c as K,w as A,d as t,e as g,f as m,g as a,h as P,t as i,F as V,i as x,n as Q,G as I}from"./app-cfb3a24f.js";import{A as H}from"./AppLayout-e7d94700.js";/* empty css            */import"./ApplicationLogo-506cd769.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white shadow-lg rounded-lg p-6 mb-6"},Y={class:"p-6"},Z={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},tt=["value"],et={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ot={class:"p-6"},rt={class:"flex items-center"},it={class:"ml-5 w-0 flex-1"},nt={class:"text-lg font-medium text-gray-900"},lt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},at={class:"p-6"},dt={class:"flex items-center"},ct={class:"ml-5 w-0 flex-1"},ut={class:"text-lg font-medium text-gray-900"},gt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},mt={class:"p-6"},xt={class:"flex items-center"},pt={class:"ml-5 w-0 flex-1"},yt={class:"text-lg font-medium text-gray-900"},ft={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},vt={class:"p-6"},ht={class:"flex items-center"},wt={class:"ml-5 w-0 flex-1"},bt={class:"text-lg font-medium text-gray-900"},kt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},_t={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Ct={class:"p-6"},St={class:"h-64 flex items-center justify-center"},jt={key:0,class:"w-full h-full"},Bt={key:1,class:"text-gray-500"},Rt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Dt={class:"p-6"},Lt={class:"h-64 flex items-center justify-center"},Mt={key:0,class:"w-full h-full"},At={key:1,class:"text-gray-500"},Pt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Vt={class:"p-6"},It={class:"flex justify-between items-center mb-4"},Nt={class:"flex space-x-2"},$t={class:"overflow-x-auto"},Ut={class:"min-w-full divide-y divide-gray-200"},Ot={class:"bg-white divide-y divide-gray-200"},Ft={class:"px-6 py-4 whitespace-nowrap"},zt={class:"flex items-center"},Et={key:0,class:"flex-shrink-0 h-10 w-10"},Gt=["src","alt"],Tt={class:"ml-4"},qt={class:"text-sm font-medium text-gray-900"},Kt={class:"text-sm text-gray-500"},Qt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Yt={class:"px-6 py-4 whitespace-nowrap"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={key:0},ee={key:0,class:"mt-6"},se={class:"flex items-center justify-between"},oe={class:"flex-1 flex justify-between sm:hidden"},re=["disabled"],ie=["disabled"],ne={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},le={class:"text-sm text-gray-700"},ae={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},de=["disabled"],ce=["disabled"],ye={__name:"InventoryReport",props:{summary:Object,reportData:Array,stockStatusChart:Array,categoryChart:Array,categories:Array,pagination:Object,filters:Object},setup(o){var p,y,f,v;const d=o,l=T({category_id:((p=d.filters)==null?void 0:p.category_id)||"",stock_status:((y=d.filters)==null?void 0:y.stock_status)||"",sort_by:((f=d.filters)==null?void 0:f.sort_by)||"name",page:((v=d.filters)==null?void 0:v.page)||1}),N=M(null),$=M(null),u=r=>parseFloat(r||0).toFixed(2),U=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),O=(r,e)=>r<=0?"Out of Stock":r<=e?"Critical":r<=e*2?"Low Stock":"In Stock",F=(r,e)=>r<=0||r<=e?"bg-red-100 text-red-800":r<=e*2?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",z=()=>{l.page=1,I.get(route("reports.inventory"),l,{preserveState:!0,preserveScroll:!0})},c=r=>{l.page=r,I.get(route("reports.inventory"),l,{preserveState:!0,preserveScroll:!0})},E=()=>{const r=new URLSearchParams(l);r.append("export","csv"),window.open(`${route("reports.inventory")}?${r.toString()}`,"_blank")},G=()=>{window.print()};return q(()=>{console.log("Inventory Report mounted with data:",d)}),(r,e)=>(n(),K(H,{title:"Inventory Report"},{header:A(()=>[...e[9]||(e[9]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Inventory Report ",-1)])]),default:A(()=>{var h,w,b,k,_,C,S,j,B,R,D;return[t("div",J,[t("div",W,[t("div",X,[t("div",Y,[t("div",Z,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.category_id=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[e[10]||(e[10]=t("option",{value:""},"All Categories",-1)),(n(!0),a(V,null,P(o.categories,s=>(n(),a("option",{key:s.id,value:s.id},i(s.name),9,tt))),128))],512),[[m,l.category_id]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Stock Status",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.stock_status=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[...e[12]||(e[12]=[t("option",{value:""},"All Status",-1),t("option",{value:"in_stock"},"In Stock",-1),t("option",{value:"low_stock"},"Low Stock",-1),t("option",{value:"out_of_stock"},"Out of Stock",-1),t("option",{value:"critical"},"Critical",-1)])],512),[[m,l.stock_status]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sort By",-1)),g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.sort_by=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[...e[14]||(e[14]=[t("option",{value:"name"},"Product Name",-1),t("option",{value:"quantity"},"Stock Quantity",-1),t("option",{value:"value"},"Stock Value",-1),t("option",{value:"category"},"Category",-1)])],512),[[m,l.sort_by]])]),t("div",{class:"flex items-end"},[t("button",{onClick:z,type:"button",class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Generate Report ")])])])]),t("div",et,[t("div",st,[t("div",ot,[t("div",rt,[e[17]||(e[17]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",it,[t("dl",null,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Products ",-1)),t("dd",nt,i(((h=o.summary)==null?void 0:h.total_products)||0),1)])])])])]),t("div",lt,[t("div",at,[t("div",dt,[e[19]||(e[19]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",ct,[t("dl",null,[e[18]||(e[18]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Stock Value ",-1)),t("dd",ut," $"+i(u(((w=o.summary)==null?void 0:w.total_stock_value)||0)),1)])])])])]),t("div",gt,[t("div",mt,[t("div",xt,[e[21]||(e[21]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),t("div",pt,[t("dl",null,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Low Stock Items ",-1)),t("dd",yt,i(((b=o.summary)==null?void 0:b.low_stock_items)||0),1)])])])])]),t("div",ft,[t("div",vt,[t("div",ht,[e[23]||(e[23]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),t("div",wt,[t("dl",null,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Out of Stock ",-1)),t("dd",bt,i(((k=o.summary)==null?void 0:k.out_of_stock_items)||0),1)])])])])])]),t("div",kt,[t("div",_t,[t("div",Ct,[e[24]||(e[24]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Stock Status Distribution",-1)),t("div",St,[o.stockStatusChart&&o.stockStatusChart.length>0?(n(),a("div",jt,[t("canvas",{ref_key:"stockStatusChartRef",ref:N},null,512)])):(n(),a("div",Bt," No stock data available "))])])]),t("div",Rt,[t("div",Dt,[e[25]||(e[25]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Stock Value by Category",-1)),t("div",Lt,[o.categoryChart&&o.categoryChart.length>0?(n(),a("div",Mt,[t("canvas",{ref_key:"categoryChartRef",ref:$},null,512)])):(n(),a("div",At," No category data available "))])])])]),t("div",Pt,[t("div",Vt,[t("div",It,[e[26]||(e[26]=t("h3",{class:"text-lg font-medium text-gray-900"},"Inventory Details",-1)),t("div",Nt,[t("button",{onClick:E,type:"button",style:{backgroundColor:"#6B7B47",borderColor:"#6B7B47"},onMouseover:e[3]||(e[3]=s=>s.target.style.backgroundColor="#8A9B5A"),onMouseout:e[4]||(e[4]=s=>s.target.style.backgroundColor="#6B7B47"),class:"px-4 py-2 text-white rounded-lg hover:shadow-md transition-all duration-200 font-bold focus:outline-none focus:shadow-outline"}," Export CSV ",32),t("button",{onClick:G,type:"button",class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Print Report ")])]),t("div",$t,[t("table",Ut,[e[28]||(e[28]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Current Stock "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Min Stock "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Unit Price "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Stock Value "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Updated ")])],-1)),t("tbody",Ot,[(n(!0),a(V,null,P(o.reportData,s=>{var L;return n(),a("tr",{key:s.id},[t("td",Ft,[t("div",zt,[s.image?(n(),a("div",Et,[t("img",{class:"h-10 w-10 rounded-full object-cover",src:s.image,alt:s.name},null,8,Gt)])):x("",!0),t("div",Tt,[t("div",qt,i(s.name),1),t("div",Kt,"SKU: "+i(s.sku),1)])])]),t("td",Qt,i(((L=s.category)==null?void 0:L.name)||"N/A"),1),t("td",Ht,i(s.current_stock||0),1),t("td",Jt,i(s.min_stock||0),1),t("td",Wt," $"+i(u(s.selling_price||0)),1),t("td",Xt," $"+i(u(s.stock_value||0)),1),t("td",Yt,[t("span",{class:Q([F(s.current_stock||0,s.min_stock||0),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},i(O(s.current_stock||0,s.min_stock||0)),3)]),t("td",Zt,i(U(s.updated_at)),1)])}),128)),!o.reportData||o.reportData.length===0?(n(),a("tr",te,[...e[27]||(e[27]=[t("td",{colspan:"8",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"}," No inventory data available for the selected criteria ",-1)])])):x("",!0)])])]),o.reportData&&o.reportData.length>0?(n(),a("div",ee,[t("nav",se,[t("div",oe,[t("button",{disabled:!((_=o.pagination)!=null&&_.prev_page_url),onClick:e[5]||(e[5]=s=>c(o.pagination.current_page-1)),class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,re),t("button",{disabled:!((C=o.pagination)!=null&&C.next_page_url),onClick:e[6]||(e[6]=s=>c(o.pagination.current_page+1)),class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,ie)]),t("div",ne,[t("div",null,[t("p",le," Showing "+i(((S=o.pagination)==null?void 0:S.from)||0)+" to "+i(((j=o.pagination)==null?void 0:j.to)||0)+" of "+i(((B=o.pagination)==null?void 0:B.total)||0)+" results ",1)]),t("div",null,[t("nav",ae,[t("button",{disabled:!((R=o.pagination)!=null&&R.prev_page_url),onClick:e[7]||(e[7]=s=>c(o.pagination.current_page-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,de),t("button",{disabled:!((D=o.pagination)!=null&&D.next_page_url),onClick:e[8]||(e[8]=s=>c(o.pagination.current_page+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,ce)])])])])])):x("",!0)])])])])]}),_:1}))}};export{ye as default};
