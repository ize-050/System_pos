import{B as D,r as M,o as j,a as d,c as C,w as y,d as t,e as m,v as w,f as R,t as r,g as n,h as B,F as V,i as L,E as T}from"./app-52dfa1a6.js";import{A as U}from"./AppLayout-39f8b0fe.js";/* empty css            */import"./ApplicationLogo-8547e154.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white shadow-lg rounded-lg p-6 mb-6"},E={class:"p-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},N={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-6"},z={class:"flex items-center"},G={class:"ml-5 w-0 flex-1"},H={class:"text-lg font-medium text-gray-900"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},q={class:"flex items-center"},J={class:"ml-5 w-0 flex-1"},K={class:"text-lg font-medium text-gray-900"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6"},Z={class:"flex items-center"},tt={class:"ml-5 w-0 flex-1"},et={class:"text-lg font-medium text-gray-900"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ot={class:"p-6"},lt={class:"flex items-center"},at={class:"ml-5 w-0 flex-1"},rt={class:"text-lg font-medium text-gray-900"},dt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8"},nt={class:"p-6"},it={class:"h-64 flex items-center justify-center"},ut={key:0,class:"w-full h-full"},mt={key:1,class:"text-gray-500"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},gt={class:"p-6"},xt={class:"overflow-x-auto"},pt={class:"min-w-full divide-y divide-gray-200"},ht={class:"bg-white divide-y divide-gray-200"},ft={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_t={key:0},Ct={__name:"SalesReport",props:{summary:Object,reportData:Array,chartData:Array,filters:Object},setup(l){var c,g,x;const i=l,o=D({start_date:((c=i.filters)==null?void 0:c.start_date)||new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end_date:((g=i.filters)==null?void 0:g.end_date)||new Date().toISOString().split("T")[0],group_by:((x=i.filters)==null?void 0:x.group_by)||"day"}),b=M(null),u=a=>parseFloat(a||0).toFixed(2),_=a=>o.group_by==="day"?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):o.group_by==="week"?`Week of ${new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`:o.group_by==="month"?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long"}):new Date(a).getFullYear().toString(),k=()=>{T.get(route("reports.sales"),o,{preserveState:!0,preserveScroll:!0})},S=()=>{const a=new URLSearchParams(o);a.append("export","csv"),window.open(`${route("reports.sales")}?${a.toString()}`,"_blank")};return j(()=>{console.log("Sales Report mounted with data:",i)}),(a,e)=>(d(),C(U,{title:"Sales Report"},{header:y(()=>[...e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Sales Report ",-1)])]),default:y(()=>{var p,h,f,v;return[t("div",$,[t("div",A,[t("div",F,[t("div",E,[t("div",I,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Start Date",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.start_date=s),type:"date",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,512),[[w,o.start_date]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"End Date",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.end_date=s),type:"date",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,512),[[w,o.end_date]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Group By",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.group_by=s),class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[...e[6]||(e[6]=[t("option",{value:"day"},"Daily",-1),t("option",{value:"week"},"Weekly",-1),t("option",{value:"month"},"Monthly",-1),t("option",{value:"year"},"Yearly",-1)])],512),[[R,o.group_by]])]),t("div",{class:"flex items-end"},[t("button",{onClick:k,type:"button",class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Generate Report ")])])])]),t("div",N,[t("div",O,[t("div",P,[t("div",z,[e[9]||(e[9]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",G,[t("dl",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Revenue ",-1)),t("dd",H," $"+r(u(((p=l.summary)==null?void 0:p.total_revenue)||0)),1)])])])])]),t("div",W,[t("div",Y,[t("div",q,[e[11]||(e[11]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])])],-1)),t("div",J,[t("dl",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Sales ",-1)),t("dd",K,r(((h=l.summary)==null?void 0:h.total_sales)||0),1)])])])])]),t("div",Q,[t("div",X,[t("div",Z,[e[13]||(e[13]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])])],-1)),t("div",tt,[t("dl",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Average Sale ",-1)),t("dd",et," $"+r(u(((f=l.summary)==null?void 0:f.average_sale)||0)),1)])])])])]),t("div",st,[t("div",ot,[t("div",lt,[e[15]||(e[15]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",at,[t("dl",null,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Items Sold ",-1)),t("dd",rt,r(((v=l.summary)==null?void 0:v.total_items)||0),1)])])])])])]),t("div",dt,[t("div",nt,[e[16]||(e[16]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Sales Trend",-1)),t("div",it,[l.chartData&&l.chartData.length>0?(d(),n("div",ut,[t("canvas",{ref_key:"salesChart",ref:b},null,512)])):(d(),n("div",mt," No sales data available for the selected period "))])])]),t("div",ct,[t("div",gt,[t("div",{class:"flex justify-between items-center mb-4"},[e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-gray-900"},"Detailed Sales Report",-1)),t("button",{onClick:S,type:"button",class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Export CSV ")]),t("div",xt,[t("table",pt,[e[19]||(e[19]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Period "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Sales Count "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Revenue "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Average Sale "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Items Sold ")])],-1)),t("tbody",ht,[(d(!0),n(V,null,B(l.reportData,s=>(d(),n("tr",{key:s.period},[t("td",ft,r(_(s.period)),1),t("td",vt,r(s.sales_count),1),t("td",yt," $"+r(u(s.total_revenue)),1),t("td",wt," $"+r(u(s.average_sale)),1),t("td",bt,r(s.total_items),1)]))),128)),!l.reportData||l.reportData.length===0?(d(),n("tr",_t,[...e[18]||(e[18]=[t("td",{colspan:"5",class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"}," No data available for the selected period ",-1)])])):L("",!0)])])])])])])])]}),_:1}))}};export{Ct as default};
