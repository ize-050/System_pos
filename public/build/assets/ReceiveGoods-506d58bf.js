import{u as x,a as l,c as h,w as u,d as e,t as n,p as g,e as i,v as c,k as d,g as m,h as b,f,F as v,j as w,m as V,x as k,i as q}from"./app-6a986ce6.js";import{A as O}from"./AppLayout-c0397362.js";/* empty css            */import"./ApplicationLogo-88d45659.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"bg-white shadow-sm rounded-lg p-6"},S={class:"text-2xl font-bold mb-6"},M={class:"mb-4"},N={class:"min-w-full divide-y divide-gray-200 mb-6"},j={class:"px-4 py-2"},A={class:"px-4 py-2 text-right"},D={class:"px-4 py-2"},F=["onUpdate:modelValue"],T={class:"px-4 py-2"},z=["onUpdate:modelValue"],L={class:"px-4 py-2"},E=["onUpdate:modelValue"],G={class:"flex justify-end gap-2"},H=["disabled"],I={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},X={__name:"ReceiveGoods",props:{purchaseOrder:Object},setup(p){const y=p,o=x({received_date:new Date().toISOString().split("T")[0],items:y.purchaseOrder.items.map(r=>({id:r.id,product_name:r.product_name,quantity_ordered:r.quantity_ordered,quantity_received:r.quantity_ordered,condition_status:"good",notes:""}))}),_=()=>{o.post(route("purchase-orders.receive.store",y.purchaseOrder.id))};return(r,t)=>(l(),h(O,{title:"รับสินค้า"},{header:u(()=>[...t[1]||(t[1]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"รับสินค้า",-1)])]),default:u(()=>[e("div",U,[e("div",B,[e("div",C,[e("h2",S,"รับสินค้า - "+n(p.purchaseOrder.po_number),1),e("form",{onSubmit:g(_,["prevent"])},[e("div",M,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-700"},"วันที่รับสินค้า *",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d(o).received_date=s),type:"date",required:"",class:"mt-1 block w-full rounded-md border-gray-300"},null,512),[[c,d(o).received_date]])]),e("table",N,[t[4]||(t[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"สินค้า"),e("th",{class:"px-4 py-2 text-right"},"จำนวนสั่ง"),e("th",{class:"px-4 py-2 text-right"},"จำนวนรับ"),e("th",{class:"px-4 py-2"},"สภาพ"),e("th",{class:"px-4 py-2"},"หมายเหตุ")])],-1)),e("tbody",null,[(l(!0),m(v,null,b(d(o).items,(s,R)=>(l(),m("tr",{key:s.id},[e("td",j,n(s.product_name),1),e("td",A,n(s.quantity_ordered),1),e("td",D,[i(e("input",{"onUpdate:modelValue":a=>s.quantity_received=a,type:"number",step:"0.01",required:"",class:"w-24 rounded-md border-gray-300 text-right"},null,8,F),[[c,s.quantity_received,void 0,{number:!0}]])]),e("td",T,[i(e("select",{"onUpdate:modelValue":a=>s.condition_status=a,required:"",class:"rounded-md border-gray-300"},[...t[3]||(t[3]=[e("option",{value:"good"},"สภาพดี",-1),e("option",{value:"partial_damaged"},"ชำรุดบ้าง",-1),e("option",{value:"fully_damaged"},"ชำรุดทั้งหมด",-1)])],8,z),[[f,s.condition_status]])]),e("td",L,[i(e("input",{"onUpdate:modelValue":a=>s.notes=a,type:"text",class:"w-full rounded-md border-gray-300"},null,8,E),[[c,s.notes]])])]))),128))])]),e("div",G,[w(d(k),{href:r.route("purchase-orders.show",p.purchaseOrder.id),class:"px-4 py-2 bg-gray-300 rounded-md"},{default:u(()=>[...t[5]||(t[5]=[V("ยกเลิก",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:d(o).processing,class:"px-4 py-2 bg-green-600 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[d(o).processing?(l(),m("svg",I,[...t[6]||(t[6]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):q("",!0),e("span",null,n(d(o).processing?"กำลังประมวลผล...":"ยืนยันการรับสินค้า"),1)],8,H)])],32)])])])]),_:1}))}};export{X as default};
