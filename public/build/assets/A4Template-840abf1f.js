import{J as y}from"./JsBarcode-62537342.js";import{o as b,a as l,g as a,d as t,i as d,t as n,m as u,F as x,h as f}from"./app-cfb3a24f.js";/* empty css            */const v={class:"a4-receipt",style:{width:"210mm","min-height":"297mm",padding:"20mm","font-family":"'Sarabun', sans-serif"}},w={class:"text-center mb-8"},_=["src"],T={class:"text-3xl font-bold"},k={class:"text-sm"},j={class:"text-sm"},C={key:1,class:"text-sm"},N={class:"border-t border-b py-4 mb-4"},S={class:"grid grid-cols-2 gap-4 text-sm"},D={class:"text-right"},q={key:0},B={class:"text-right"},V={class:"w-full mb-4"},P={class:"py-2"},$={class:"text-center py-2"},A={class:"text-right py-2"},E={class:"text-right py-2"},F={class:"flex justify-end mb-8"},H={class:"w-64"},I={class:"flex justify-between py-1"},O={key:0,class:"flex justify-between py-1"},J={class:"flex justify-between py-2 text-xl font-bold border-t-2"},L={class:"flex justify-between py-1"},p={class:"flex justify-between py-1"},M={class:"flex justify-between items-center mb-8"},Q={key:0,class:"text-center"},R=["src"],z={key:1,class:"text-center"},G=["id"],K={class:"text-xs mt-2"},U={key:0,class:"text-center text-sm border-t pt-4"},Z={__name:"A4Template",props:{sale:Object,settings:Object,qrCode:String,barcode:String},setup(s){const c=s;b(()=>{c.settings.show_barcode&&c.barcode&&y(`#barcode-${c.sale.id}`,c.barcode,{format:"CODE128",width:2,height:50,displayValue:!1})});const h=i=>i?new Date(i).toLocaleString("th-TH"):"-",o=i=>!i||isNaN(i)?"à¸¿0.00":new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(i);return(i,e)=>{var m;return l(),a("div",v,[t("div",w,[s.settings.show_logo&&s.settings.logo_path?(l(),a("img",{key:0,src:`/storage/${s.settings.logo_path}`,class:"h-20 mx-auto mb-4"},null,8,_)):d("",!0),t("h1",T,n(s.settings.shop_name),1),t("p",k,n(s.settings.shop_address),1),t("p",j,"Tel: "+n(s.settings.shop_phone)+" | Email: "+n(s.settings.shop_email),1),s.settings.tax_id?(l(),a("p",C,"Tax ID: "+n(s.settings.tax_id),1)):d("",!0)]),t("div",N,[t("div",S,[t("div",null,[e[0]||(e[0]=t("strong",null,"Receipt No:",-1)),u(" "+n(s.sale.sale_number),1)]),t("div",D,[e[1]||(e[1]=t("strong",null,"Date:",-1)),u(" "+n(h(s.sale.created_at)),1)]),s.settings.show_customer_info&&s.sale.customer?(l(),a("div",q,[e[2]||(e[2]=t("strong",null,"Customer:",-1)),u(" "+n(s.sale.customer.name),1)])):d("",!0),t("div",B,[e[3]||(e[3]=t("strong",null,"Cashier:",-1)),u(" "+n((m=s.sale.cashier)==null?void 0:m.name),1)])])]),t("table",V,[e[4]||(e[4]=t("thead",{class:"border-b-2"},[t("tr",null,[t("th",{class:"text-left py-2"},"Item"),t("th",{class:"text-center py-2"},"Qty"),t("th",{class:"text-right py-2"},"Price"),t("th",{class:"text-right py-2"},"Total")])],-1)),t("tbody",null,[(l(!0),a(x,null,f(s.sale.sale_items,r=>{var g;return l(),a("tr",{key:r.id,class:"border-b"},[t("td",P,n((g=r.product)==null?void 0:g.name),1),t("td",$,n(r.quantity),1),t("td",A,n(o(r.unit_price)),1),t("td",E,n(o(r.total_price)),1)])}),128))])]),t("div",F,[t("div",H,[t("div",I,[e[5]||(e[5]=t("span",null,"Subtotal:",-1)),t("span",null,n(o(s.sale.subtotal)),1)]),s.settings.show_vat?(l(),a("div",O,[e[6]||(e[6]=t("span",null,"VAT 7%:",-1)),t("span",null,n(o(s.sale.vat_amount)),1)])):d("",!0),t("div",J,[e[7]||(e[7]=t("span",null,"Total:",-1)),t("span",null,n(o(s.sale.total_amount)),1)]),t("div",L,[e[8]||(e[8]=t("span",null,"Paid:",-1)),t("span",null,n(o(s.sale.paid_amount)),1)]),t("div",p,[e[9]||(e[9]=t("span",null,"Change:",-1)),t("span",null,n(o(s.sale.change_amount)),1)])])]),t("div",M,[s.settings.show_qr_code&&s.qrCode?(l(),a("div",Q,[t("img",{src:`data:image/png;base64,${s.qrCode}`,class:"w-32 h-32"},null,8,R),e[10]||(e[10]=t("p",{class:"text-xs mt-2"},"Scan for PromptPay",-1))])):d("",!0),s.settings.show_barcode&&s.barcode?(l(),a("div",z,[(l(),a("svg",{id:`barcode-${s.sale.id}`,class:"mx-auto"},null,8,G)),t("p",K,n(s.barcode),1)])):d("",!0)]),s.settings.show_notes&&s.settings.receipt_notes?(l(),a("div",U,[t("p",null,n(s.settings.receipt_notes),1)])):d("",!0)])}}};export{Z as default};
