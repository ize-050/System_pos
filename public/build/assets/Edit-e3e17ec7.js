import{u as v,a as d,c as E,w as y,d as r,t as n,j as g,m as c,k as o,x as h,p as B,e as i,v as b,n as a,g as m,i as u,f as C,s as S}from"./app-68daac91.js";import{A as F}from"./AppLayout-ea36af8e.js";import{u as V}from"./useToast-53aed3c9.js";/* empty css            */import"./ApplicationLogo-9b15c312.js";import"./_plugin-vue_export-helper-c27b6911.js";const U={class:"py-12"},j={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},N={class:"mb-6 flex justify-between items-center"},q={class:"text-sm text-gray-600 mt-1"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={key:0,class:"mt-1 text-sm text-red-600"},T={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},K={key:0,class:"mt-1 text-sm text-red-600"},P={class:"flex items-center"},Q={class:"md:col-span-2"},R={key:0,class:"mt-1 text-sm text-red-600"},W={class:"md:col-span-2"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"flex items-center justify-end space-x-4"},Z=["disabled"],$={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},de={__name:"Edit",props:{customer:Object},setup(x){const{success:w,error:f,info:k}=V(),l=x,e=v({name:l.customer.name||"",phone:l.customer.phone||"",line_id:l.customer.line_id||"",email:l.customer.email||"",company_name:l.customer.company_name||"",customer_type:l.customer.customer_type||"",tax_id:l.customer.tax_id||"",credit_limit:l.customer.credit_limit||"",payment_terms:l.customer.payment_terms||"",address:l.customer.address||"",notes:l.customer.notes||"",is_active:l.customer.is_active||!1}),_=()=>{if(!e.name||!e.phone){k("กรอกข้อมูลไม่ครบ","กรุณากรอกชื่อลูกค้าและเบอร์โทรศัพท์");return}e.put(route("customers.update",l.customer.id),{preserveScroll:!1,onSuccess:()=>{w("บันทึกข้อมูลสำเร็จ","แก้ไขข้อมูลลูกค้าเรียบร้อยแล้ว")},onError:p=>{Object.keys(p).length>0?f("บันทึกข้อมูลไม่สำเร็จ","กรุณาตรวจสอบข้อมูลที่กรอก"):f("ระบบเกิดข้อผิดพลาด","กรุณาลองใหม่อีกครั้ง")},onFinish:()=>{e.processing=!1}})};return(p,t)=>(d(),E(F,{title:"แก้ไขข้อมูลลูกค้า"},{header:y(()=>[...t[12]||(t[12]=[r("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," แก้ไขข้อมูลลูกค้า ",-1)])]),default:y(()=>[r("div",U,[r("div",j,[r("div",M,[r("div",A,[r("div",N,[r("div",null,[t[13]||(t[13]=r("h1",{class:"text-2xl font-bold text-gray-900"},"แก้ไขข้อมูลลูกค้า",-1)),r("p",q,"รหัสลูกค้า: "+n(x.customer.customer_code),1)]),g(o(h),{href:p.route("customers.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},{default:y(()=>[...t[14]||(t[14]=[r("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" กลับไปหน้าลูกค้า ",-1)])]),_:1},8,["href"])]),r("form",{onSubmit:B(_,["prevent"]),class:"space-y-6"},[r("div",z,[r("div",null,[t[15]||(t[15]=r("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"ชื่อลูกค้า *",-1)),i(r("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o(e).name=s),type:"text",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.name}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'",required:""},null,2),[[b,o(e).name]]),o(e).errors.name?(d(),m("p",D,n(o(e).errors.name),1)):u("",!0)]),r("div",null,[t[16]||(t[16]=r("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"เบอร์โทรศัพท์ *",-1)),i(r("input",{id:"phone","onUpdate:modelValue":t[1]||(t[1]=s=>o(e).phone=s),type:"tel",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.phone}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'",required:""},null,2),[[b,o(e).phone]]),o(e).errors.phone?(d(),m("p",T,n(o(e).errors.phone),1)):u("",!0)]),r("div",null,[t[17]||(t[17]=r("label",{for:"line_id",class:"block text-sm font-medium text-gray-700"},"Line ID",-1)),i(r("input",{id:"line_id","onUpdate:modelValue":t[2]||(t[2]=s=>o(e).line_id=s),type:"text",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.line_id}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).line_id]]),o(e).errors.line_id?(d(),m("p",L,n(o(e).errors.line_id),1)):u("",!0)]),r("div",null,[t[18]||(t[18]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"อีเมล",-1)),i(r("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=s=>o(e).email=s),type:"email",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.email}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).email]]),o(e).errors.email?(d(),m("p",O,n(o(e).errors.email),1)):u("",!0)]),r("div",null,[t[19]||(t[19]=r("label",{for:"company_name",class:"block text-sm font-medium text-gray-700"},"ชื่อบริษัท",-1)),i(r("input",{id:"company_name","onUpdate:modelValue":t[4]||(t[4]=s=>o(e).company_name=s),type:"text",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.company_name}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).company_name]]),o(e).errors.company_name?(d(),m("p",H,n(o(e).errors.company_name),1)):u("",!0)]),r("div",null,[t[21]||(t[21]=r("label",{for:"customer_type",class:"block text-sm font-medium text-gray-700"},"ประเภทลูกค้า *",-1)),i(r("select",{id:"customer_type","onUpdate:modelValue":t[5]||(t[5]=s=>o(e).customer_type=s),class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.customer_type}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'",required:""},[...t[20]||(t[20]=[r("option",{value:""},"เลือกประเภทลูกค้า",-1),r("option",{value:"individual"},"บุคคลธรรมดา",-1),r("option",{value:"company"},"บริษัท",-1),r("option",{value:"contractor"},"ผู้รับเหมา",-1)])],2),[[C,o(e).customer_type]]),o(e).errors.customer_type?(d(),m("p",I,n(o(e).errors.customer_type),1)):u("",!0)]),r("div",null,[t[22]||(t[22]=r("label",{for:"tax_id",class:"block text-sm font-medium text-gray-700"},"เลขประจำตัวผู้เสียภาษี",-1)),i(r("input",{id:"tax_id","onUpdate:modelValue":t[6]||(t[6]=s=>o(e).tax_id=s),type:"text",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.tax_id}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).tax_id]]),o(e).errors.tax_id?(d(),m("p",G,n(o(e).errors.tax_id),1)):u("",!0)]),r("div",null,[t[23]||(t[23]=r("label",{for:"credit_limit",class:"block text-sm font-medium text-gray-700"},"วงเงินเครดิต (บาท)",-1)),i(r("input",{id:"credit_limit","onUpdate:modelValue":t[7]||(t[7]=s=>o(e).credit_limit=s),type:"number",step:"0.01",min:"0",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.credit_limit}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).credit_limit]]),o(e).errors.credit_limit?(d(),m("p",J,n(o(e).errors.credit_limit),1)):u("",!0)]),r("div",null,[t[24]||(t[24]=r("label",{for:"payment_terms",class:"block text-sm font-medium text-gray-700"},"เงื่อนไขการชำระเงิน (วัน)",-1)),i(r("input",{id:"payment_terms","onUpdate:modelValue":t[8]||(t[8]=s=>o(e).payment_terms=s),type:"number",min:"0",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.payment_terms}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).payment_terms]]),o(e).errors.payment_terms?(d(),m("p",K,n(o(e).errors.payment_terms),1)):u("",!0)]),r("div",null,[r("label",P,[i(r("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o(e).is_active=s),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[S,o(e).is_active]]),t[25]||(t[25]=r("span",{class:"ml-2 text-sm text-gray-600"},"ลูกค้าใช้งาน",-1))])]),r("div",Q,[t[26]||(t[26]=r("label",{for:"address",class:"block text-sm font-medium text-gray-700"},"ที่อยู่",-1)),i(r("textarea",{id:"address","onUpdate:modelValue":t[10]||(t[10]=s=>o(e).address=s),rows:"3",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.address}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).address]]),o(e).errors.address?(d(),m("p",R,n(o(e).errors.address),1)):u("",!0)]),r("div",W,[t[27]||(t[27]=r("label",{for:"notes",class:"block text-sm font-medium text-gray-700"},"หมายเหตุ",-1)),i(r("textarea",{id:"notes","onUpdate:modelValue":t[11]||(t[11]=s=>o(e).notes=s),rows:"3",class:a(["mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none",{"border-red-500":o(e).errors.notes}]),style:{"border-color":"#E2E8F0"},onfocus:"this.style.borderColor='#6B7B47'; this.style.boxShadow='0 0 0 3px rgba(107, 123, 71, 0.2)'",onblur:"this.style.borderColor='#E2E8F0'; this.style.boxShadow='none'"},null,2),[[b,o(e).notes]]),o(e).errors.notes?(d(),m("p",X,n(o(e).errors.notes),1)):u("",!0)])]),r("div",Y,[g(o(h),{href:p.route("customers.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"},{default:y(()=>[...t[28]||(t[28]=[c(" ยกเลิก ",-1)])]),_:1},8,["href"]),r("button",{type:"submit",disabled:o(e).processing,class:a(["inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest disabled:opacity-25 transition ease-in-out duration-150",{"opacity-25":o(e).processing}]),style:{"background-color":"#6B7B47"},onmouseover:"this.style.backgroundColor='#8A9B5A'",onmouseout:"this.style.backgroundColor='#6B7B47'"},[o(e).processing?(d(),m("svg",$,[...t[29]||(t[29]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):u("",!0),c(" "+n(o(e).processing?"กำลังอัปเดต...":"อัปเดตข้อมูล"),1)],10,Z)])],32)])])])])]),_:1}))}};export{de as default};
